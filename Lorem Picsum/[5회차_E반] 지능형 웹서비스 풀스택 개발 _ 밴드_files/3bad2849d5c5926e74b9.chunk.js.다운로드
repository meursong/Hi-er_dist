(window.webpackJsonp=window.webpackJsonp||[]).push([[121,154],{1002:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(6),a=n(4),r=n(1299),s=n(486),l=n(82),d=n(507),c=(n(203),a.View.extend({tagName:"section",className:"lyWrap",template:i.template(r),attributes:{"data-viewname":"DCropView"},ui:{cropWrap:"._cropWrap",btnComplete:"._btnComplete",btnCancel:"._btnCancel",btnCamera:"._btnCamera"},events:{"click @ui.btnComplete":"_cropComplete","click @ui.btnCancel":"_cropCancel"},initialize:function(e){this.cropFile=this._getCropFile(e.cropFile),this.cropOptions=e.cropOptions,this.currentWidthRatio=1,this.currentHeightRatio=1,this.currentCoords=null,this._isPageBand=e.cropOptions.isPageBand},templateContext:function(){return{viewId:this.cid,isPageBand:this._isPageBand}},_getCropFile:function(e){return l.make(e,l.TYPE.e1280_std)},_cropComplete:function(){var e=t("<canvas>")[0],n=e.getContext("2d"),i=parseInt(this.currentCoords.lw*this.currentWidthRatio),o=parseInt(this.currentCoords.lh*this.currentHeightRatio),a=parseInt(this.currentCoords.lx*this.currentWidthRatio),r=parseInt(this.currentCoords.ly*this.currentHeightRatio);e.setAttribute("width",i),e.setAttribute("height",o),n.clearRect(0,0,i,o),n.drawImage(this._originalImg[0],a,r,i,o,0,0,i,o);var s=e.toDataURL("image/png");this.trigger("crop:complete",s)},_cropCancel:function(){this.trigger("crop:cancel")},_createCropper:function(){var e=this,n=null,o=null;this._originalImg=t("<img>"),this._originalImg.attr("src",this.cropFile),this._originalImg.on("load",(function(){n=this.width,o=this.height,e.ui.cropWrap.cropper(t.extend(e.cropOptions,{file:e.cropFile,onSelect:function(t){e.currentCoords=t,i.defer((function(){e.currentWidthRatio=n/e.$(".jcrop-holder").width(),e.currentHeightRatio=o/e.$(".jcrop-holder").height()}))}}))}))},_initImageChangeUploader:function(){this._imageUploader&&(this._imageUploader=null);var e=n(600);this._imageUploader=e.createSinglePhotoUploader(this.ui.btnCamera,{multiple:!1,showProgress:!0,autoUpload:!1,fileInputTitle:window.webkitURL?" ":""}),this.listenTo(this._imageUploader,d.SELECT_FILES,(function(e){this._imageUploader.loadFileReaderResize(e.files[0]).then(i.bind((function(e){this._changeCropImage(e)}),this))}))},_changeCropImage:function(e){this.cropFile=this._getCropFile(e),this._createCropper()},onAttach:function(){this._createCropper(),this._initImageChangeUploader(),this._isPageBand&&this.getUI("cropWrap").addClass("pageImageCrop")},onBeforeDetach:function(){this._imageUploader&&(this._imageUploader.destroy(),this._imageUploader=null)}}));return c.Model=o.Model.extend({}),c.build=function(e,t){var n=new c.Model,o=i.extend({bgColor:"#fff",maxSize:[340,340],minSize:[50,50],selection:"90%",aspectRatio:1},t.cropOptions);n.set("title",t.title);var a=new c({model:n,cropFile:e,cropOptions:o});return s.open(a),a},c}.call(t,n,t,e))||(e.exports=i)},1022:function(e,t,n){var i=n(0);function o(e){this._roles=e}o.prototype.isSame=function(e){var t;return t=e instanceof o?e._roles:i.isArray(e)?e.join(","):e,i.isEqual(t,this._roles)},o.prototype.toString=function(){return this._roles},o.ANYONE=new o("leader,coleader,member"),o.UNTIL_COLEADER=new o("leader,coleader"),o.ONLY_LEADER=new o("leader"),o.NO_ONE=new o(""),o.ALL_MEMBER_ROLES=[o.ANYONE,o.UNTIL_COLEADER,o.ONLY_LEADER,o.NO_ONE],o.parseMemberRoles=function(e){return i.find(o.ALL_MEMBER_ROLES,(function(t){return t.isSame(e)}))},e.exports=o},1033:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(2),a=n(6),r=n(168),s=n(784),l=n(52),d=n(13),c=n(1022),u=a.Model.extend({initialize:function(e,t){this._channelId=t.channelId,this._userNo=t.userNo,this._editable=t.editable||!1,this._dataFetched=!1},defaults:function(){return{bandNo:null,memberKey:null,me:!1,name:null,profileImageUrl:null,cellphone:null,description:null,createdAt:null,role:null,birthday:null,isLunar:null,isOpenBirthday:null,isMember:null,permittedOperation:[],openCellphoneRoles:null,userProfileSetId:null,isAlreadyBlockedCommentAndChat:!1,isMuted:!1}},parse:function(e){return{bandNo:(e=l.camelizeKeys(e)).bandNo,memberKey:e.memberKey,me:e.me||!1,name:e.name,profileImageUrl:e.profileImageUrl,cellphone:e.cellphone,description:e.description,createdAt:e.createdAt,role:e.role,birthday:e.birthday,isLunar:e.isLunar,isOpenBirthday:e.isOpenBirthday,permittedOperation:e.permittedOperation,openCellphoneRoles:e.openCellphoneRoles,isMember:e.isMember,userProfileSetId:e.userProfileSetId,isAlreadyBlockedCommentAndChat:e.isAlreadyBlockedCommentAndChat,isMuted:e.isMuted}},fetchBandMember:function(){var e=this.get("bandNo"),n=this._userNo;return this._fetchMember().then(t.bind((function(i){return o.Deferred((function(o){t.contains(i.permitted_operation,"block_comment_and_chat")?s.checkPenaltyMembers(e,[n],s.PENALTY_TYPE.BLOCK_COMMENT_AND_CHAT).then(t.bind((function(e){i.isAlreadyBlockedCommentAndChat=t.contains(e,n),o.resolve(i)}),this)):(i.isAlreadyBlockedCommentAndChat=!1,o.resolve(i))})).promise()}),this)).then(t.bind((function(e){this._dataFetched=!0,this.set(this.parse(e))}),this),t.bind((function(){}),this))},hasProfileSetDifference:function(e){return i.trim(e.name)!==this.get("name")||e.profileImageUrl!==this.get("profileImageUrl")},hasDifferenceWith:function(e){return e.bandNo!==this.get("bandNo")||i.trim(e.name)!==i.trim(this.get("name"))||i.trim(e.description)!==i.trim(this.get("description"))||i.trim(e.profileImageUrl)!==i.trim(this.get("profileImageUrl"))||this.isPermittedModifyOpenBirthday()&&e.isOpenBirthday!==this.get("isOpenBirthday")||this._isPermittedModifyOpenCellphone()&&this._isChangedCellphoneRoles(e.openCellphoneRoles)},_isChangedCellphoneRoles:function(e){return!t.isUndefined(this.get("openCellphoneRoles"))&&!c.parseMemberRoles(this.get("openCellphoneRoles")).isSame(e)},updateBandMemberProfile:function(e,n,o,a){var s;t.isNull(e.openCellphoneRoles)||t.isUndefined(e.openCellphoneRoles)||(s=t.map(e.openCellphoneRoles.split(","),(function(e){return e.trim()})).join(","));var l={band_no:e.bandNo,name:i.trim(e.name),profile_image_url:e.profileImageUrl,description:i.trim(e.description)};return this.isPermittedModifyOpenBirthday()&&(l.open_birthday=e.isOpenBirthday||!1),this._isPermittedModifyOpenCellphone()&&(l.open_cellphone_roles=s),n&&i.trim(e.name)===i.trim(n.get("name"))&&i.trim(e.profileImageUrl)===i.trim(n.get("profileImageUrl"))&&(l=t.extend(t.omit(l,"name","profile_image_url"),{user_profile_set_id:n.get("userProfileSetId")})),o&&a&&(l.profile_image_width=a.width,l.profile_image_height=a.height,l.create_profile_image_change_post=!0),r.setMemberProfile(l)},isMyProfile:function(){return d.getUserData().getUserNo()===this._userNo},_isMemberOperationPermitted:function(e){return t.contains(this.get("permittedOperation"),e)},togglePenaltyBlockCommentAndChat:function(){return this.get("isAlreadyBlockedCommentAndChat")?s.removePenaltyMember(this.get("bandNo"),this._userNo,s.PENALTY_TYPE.BLOCK_COMMENT_AND_CHAT):s.addPenaltyMember(this.get("bandNo"),this._userNo,s.PENALTY_TYPE.BLOCK_COMMENT_AND_CHAT)},canBanChat:function(){return this._isMemberOperationPermitted("ban_chat")},canBanMember:function(){return this._isMemberOperationPermitted("ban_member")},canBlockCommentAndChat:function(){return this._isMemberOperationPermitted("block_comment_and_chat")},canSendMessage:function(){return this._isMemberOperationPermitted("send_message")},canViewJoinInfo:function(){return this._isMemberOperationPermitted("view_join_info")},canMuteMember:function(){return this._isMemberOperationPermitted("mute")},_isPermittedModifyOpenCellphone:function(){return this.getModifyOpenCellphonePermittedOperations().length>0},getModifyOpenCellphonePermittedOperations:function(){return t.intersection(this.get("permittedOperation"),["modify_open_cellphone_roles_anyone","modify_open_cellphone_roles_until_coleader","modify_open_cellphone_roles_only_leader"])},isPermittedModifyOpenBirthday:function(){return this._isMemberOperationPermitted("modify_open_birthday")},isAlreadyBlockedCommentAndChat:function(){return this.get("isAlreadyBlockedCommentAndChat")},isReallyNotMember:function(){return this._dataFetched&&!this.get("isMember")},getBandMemberProfileUserNo:function(){return this._userNo},getBandMemberProfileMemberKey:function(){return this.get("memberKey")},isLoginUserBandMemberProfile:function(){return this.get("me")},getOpenCellphoneRoles:function(){return this.get("openCellphoneRoles")},getBandNo:function(){return this.get("bandNo")},getUserNo:function(){return this._userNo},getName:function(){return this.get("name")},getCreatedAt:function(){return this.get("createdAt")},isMuted:function(){return this.get("isMuted")},isUndefinedOpenBirthday:function(){return t.isUndefined(this.get("isOpenBirthday"))},isUndefinedOpenCellphoneRoles:function(){return t.isUndefined(this.get("openCellphoneRoles"))},_fetchMember:function(){var e=this.get("bandNo");return this._editable?r.getMember(e):this._channelId?r.getMemberByChannelId(this._channelId,this._userNo):r.getMember(e,this._userNo)}});return u.createBandMemberProfileModelByChannelId=function(e,t,n,i){var o={bandNo:t,name:e.name,profileImageUrl:e.profileImageUrl};return new u(o,{channelId:n,userNo:i})},u.createEmptyBandMemberProfileModel=function(e,t){return new u({bandNo:e},{userNo:t})},u.createBandMemberProfileModel=function(e,t,n){var i={bandNo:t,name:e.name,profileImageUrl:e.profileImageUrl};return new u(i,{userNo:n})},u.createBandMemberProfileEditModel=function(e,t){var n={bandNo:t,name:e.name,profileImageUrl:e.profileImageUrl},i={editable:!0,userNo:d.getUserData().getUserNo()};return new u(n,i)},u}.call(t,n,t,e))||(e.exports=i)},1037:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(1117);return{hasWritingInputDescendantOf:function(e){var n=e.find("."+o.INPUT_VIEW_CLASS_NAME);return t.some(n,(function(e){var t=i(e).data(o.INPUT_VIEW_DATA_KEY);return!!t&&t.hasInputContent()}))},hasFocusingInputDescendantOf:function(e){var n=e.find("."+o.INPUT_VIEW_CLASS_NAME);return t.some(n,(function(e){var t=i(e).data(o.INPUT_VIEW_DATA_KEY);return!!t&&t.isMessageInputFocused()}))}}}.call(t,n,t,e))||(e.exports=i)},1057:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(4),a=n(493),r=n(486),s=n(510),l=n(153),d=n(1300),c=n(168),u=n(562),h=n(506),A=o.View.extend({attributes:{"data-viewname":"DBandMemberWithdrawalConfirmView"},template:t.template(d),ui:{btnCancel:"._btnCancel",inputWithdrawal:"._inputWithdrawal",btnConfirm:"._btnConfirm"},events:{"click @ui.inputWithdrawal":"_setActiveButtonStyle","click @ui.btnConfirm":"_confirmMemberWithdrawal","click @ui.btnCancel":"destroy"},initialize:function(e){this.bandNo=e.bandNo,this.userNo=e.userNo,this._userNos=e.userNos,this.isDeleted=e.isDeleted,this._memberKey=e.memberKey,this._withdrawOnly=e.withdrawOnly},serializeData:function(){return{cid:this.cid,isDeleted:this.isDeleted}},_setActiveButtonStyle:function(){this.ui.btnConfirm.toggleClass("-disabled",!1)},_confirmMemberWithdrawal:function(){if(this.isDeleted)var e=!0;else e="withdrawalWithBlock"==this.ui.inputWithdrawal.filter(":checked").val();t.isEmpty(this._userNos)?this._doWithdrawBandMember(e):this._doWithdrawBandMembers(e)},_doWithdrawBandMember:function(e){a.doWithdrawBandMember(this.bandNo,this.userNo,e,!0).then(t.bind((function(){this._withdrawOnly?(this._openMessageAlert(IM("ui.alert.request_completed")),this._triggerMemberWithdrawal()):this._openDoneConfirm(),this.destroy()}),this),t.bind((function(e){var t=h.get(e,"result_data.message");t&&this._openMessageAlert(t),this.destroy()}),this))},_doWithdrawBandMembers:function(e){var n=this._userNos.join(",");a.doWithdrawBandMembers(this.bandNo,n,e,!0).then(t.bind((function(){this._openMessageAlert(IM("ui.alert.request_completed")),this._triggerMembersWithdrawal(),this.destroy()}),this),t.bind((function(e){var t=h.get(e,"result_data.message");t&&this._openMessageAlert(t),this.destroy()}),this))},_triggerMemberWithdrawal:function(){this.trigger("memberWithdrawal:updateMember")},_triggerMembersWithdrawal:function(){this.trigger("membersWithdrawal:updateMemberList")},_openMessageAlert:function(e){u.openLayer({bodyTitle:e})},_openDoneConfirm:function(){var e=s.openLayer({bodyTitle:IM("memberWithdrawal.forced_title.alert"),bodyDesc:IM("memberWithdrawal.forced.alert"),confirm:IM("web.ui.button.label.complete"),cancel:IM("manage.your.posts_label")});e.once(s.EVENTS.CONFIRM,t.bind((function(){this._triggerMemberWithdrawal()}),this)),e.once(s.EVENTS.CANCEL,t.bind((function(){this._fetchMemberKey().then(t.bind((function(e){l.GROUP_BAND_MEMBER_CONTENT.goDForced({band_no:this.bandNo,member_key:e,type:"post"})}),this))}),this))},_fetchMemberKey:function(){return this._memberKey?i.Deferred().resolve(this._memberKey):c.getMemberKeyByUserNo(this.bandNo,this.userNo)}});return A.openLayer=function(e){var t=new A({bandNo:e.bandData.getBandNo(),userNo:e.userNo,userNos:e.userNos,memberKey:e.memberKey,isDeleted:e.isDeleted,withdrawOnly:!e.bandData.canAccessSearchMemberPostWebPage()||e.withdrawOnly});return r.open(t),t},A}.call(t,n,t,e))||(e.exports=i)},1058:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),o=Promise.all([n.e(18),n.e(16),n.e(87),n.e(30),n.e(117)]).then(n.t.bind(null,611,7)).then((function(e){t=e.default}));return{openJoinApplicationSingleViewer:function(e,n){return o.then(i.bind((function(){var i=this._makeMediaViewerOptions(e,n,0);return t.openDPhotoVideoImageViewer(i)}),this))},openJoinApplicationSingleViewerAsPopup:function(e,n,a){return o.then(i.bind((function(){var i=this._makeMediaViewerOptions(e,n,a);i.popupName="bandJoinAnswerImage",i.expandSupport=!1,t.openDImageViewerAsPopup(i)}),this))},_makeMediaViewerOptions:function(e,t,n){return{result_data:{photos:t,total_count:t.length},bandNo:e,hidePageIndex:1==t.length,openIndex:n}}}}.call(t,n,t,e))||(e.exports=i)},1059:function(e,t,n){var i;void 0===(i=function(){return{DOCUMENT:9}}.apply(t,[]))||(e.exports=i)},1102:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),o=n(26),a=n(155),r=n(52),s=n(547),l=n(158),d=i.Model.extend({idAttribute:"memberKey",parse:function(e,n){var i={};n&&n.bandNo&&(i={bandNo:n.bandNo});var o=t.extend(i,r.camelizeKeys(e));return o.joinQuestionAsHtml=l.nl2br(t.escape(o.joinQuestion)),o.joinAnswerAsHtml=l.nl2br(t.escape(o.joinAnswer)),o},getMemberKey:function(){return this.get("memberKey")},getBandNo:function(){return this.get("bandNo")},getApplicantName:function(){return this.get("applicantName")},getApplicantProfileImageUrl:function(){return this.get("applicantProfileImageUrl")},getCreatedAt:function(){return this.get("createdAt")},isThumbnailExist:function(){return!t.isEmpty(this.getApplicantProfileImageUrl())},isJoinQuestionExist:function(){return!t.isEmpty(this.getJoinQuestion())},getJoinQuestion:function(){return this.get("joinQuestion")},getJoinQuestionAsHtml:function(){return this.get("joinQuestionAsHtml")},getJoinAnswer:function(){return this.get("joinAnswer")},getJoinAnswerAsHtml:function(){return this.get("joinAnswerAsHtml")},getJoinAnswerImages:function(){return this.get("joinAnswerImages")},getFirstJoinAnswerImage:function(){return this.isJoinAnswerImagesExist()?this.getJoinAnswerImages()[0]:null},isJoinAnswerImagesExist:function(){return!t.isEmpty(this.getJoinAnswerImages())},isCurrentUserApplicant:function(){return 1==this.get("mine")},denyJoinApplication:function(){return s.denyApplication(this.getBandNo(),this.getMemberKey())},denyJoinApplicationWithRefresh:function(){return this.denyJoinApplication().then(t.bind((function(e){return e}),this),t.bind((function(){o.getDGlobalChannel().trigger(o.EVENT.JOIN_APPLICATION_ACCEPT_REJECT_FAILURE,this.getBandNo())}),this)).always(t.bind((function(){a.get(this.getBandNo()).fetchBandData()}),this))},acceptJoinApplication:function(){return s.acceptApplication(this.getBandNo(),this.getMemberKey())},acceptJoinApplicationWithRefresh:function(){return this.acceptJoinApplication().then(t.bind((function(){o.getDGlobalChannel().trigger(o.EVENT.MEMBER_ADDED,this.getBandNo())}),this),t.bind((function(){o.getDGlobalChannel().trigger(o.EVENT.JOIN_APPLICATION_ACCEPT_REJECT_FAILURE,this.getBandNo())}),this)).always(t.bind((function(){a.get(this.getBandNo()).fetchBandData()}),this))},setApplicationModelFromApi:function(e){this.set(this.parse(e))},isBandNoAndMemberKeySame:function(e,t){return this.getBandNo()==e&&this.getMemberKey()==t}});return d.buildBandApplicationModel=function(e,t){return new d({bandNo:e,memberKey:t})},d}.call(t,n,t,e))||(e.exports=i)},1104:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(721);return n(936),{resetSkin:function(){t(i.BODY).removeBandSkin()},setSkinColorToBody:function(e){this.resetSkin(),t(i.BODY).addClass(e)}}}.call(t,n,t,e))||(e.exports=i)},1108:function(e,t){e.exports='<div class="lyContent" style="<%= width ? \'width:\' + width + \'px;\' : \'\' %>">\n    <% if (!!headerTitle) { %>\n    <div class="modalHeader">\n        <h5 class="title"><%= headerTitle %></h5>\n    </div>\n    <% } %>\n\n    <div class="modalBody">\n        <% if (!!bodyTitle) { %>\n        <div class="headingMsg <%- alignCenter ? \'gTaC\' : \'\' %>"><%= bodyTitle %></div>\n        <% } %>\n        <div class="msgWrap">\n            <% if (!_.isArray(bodyDesc)) { // 단건 설명 %>\n            <p class="pText <%- breakWordKeepAll %> <%- alignCenter ? \'gTaC\' : \'\' %>"><%= bodyDesc %></p>\n            <% } else { // 목록형 설명 %>\n            <ul class="msgList">\n                <% _.each(bodyDesc, function(eachDesc) { %>\n                <li class="msgListItem"><%= eachDesc %></li>\n                <% }); %>\n            </ul>\n            <% } %>\n        </div>\n    </div>\n\n    <div class="modalFooter">\n        <button type="button" class="uButton -cancel _btnCancel"><%= cancel %></button>\n        <button type="button" class="uButton -confirm _btnConfirm"><%= confirm %></button>\n    </div>\n</div>'},1109:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i={resizeTo:function(e,n){try{window.resizeTo(e,n)}catch(i){setTimeout(t.bind((function(){this.resizeTo(e,n)}),this),500)}},closeWindow:function(){window.close();try{window.close()}catch(e){}},_bindedEvent:{}};return i}.call(t,n,t,e))||(e.exports=i)},1111:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1290),a=n(164),r=n(82),s=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DProfilePhotoView"},template:t.template(o),ui:{btnClose:"._btnClose"},events:{"click @ui.btnClose":"destroy",click:function(e){0==$(e.target).parents("._lyContent:first").length&&this.destroy(),this._stopClickPropagation&&e.stopPropagation()}},initialize:function(e){this._stopClickPropagation=e.stopClickPropagation},serializeData:function(){return{thumbnailUrl:r.makeGifSupportedProfileUrl(this.options.imageUrl,a.s480_gif),name:this.options.name}}});return s.buildDProfilePhotoView=function(e,t,n){return new s({imageUrl:e,name:t,stopClickPropagation:n})},s}.call(t,n,t,e))||(e.exports=i)},1112:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(4),a=n(1296),r=n(518),s=n(486),l=n(82),d=n(158),c=n(495),u=n(487),h={PROFILE_SET_SELECTED:"PROFILE_SET_SELECTED",NEW_PROFILE:"NEW_PROFILE"},A=o.View.extend({behaviors:[{behaviorClass:c,sceneId:c.SCENE.PROFILE_SETTING_CHANGE},u],tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DProfileSetSelectView"},template:i.template(a),templateContext:function(){return{nl2br:d.nl2br,joinButtonLabel:{join:this._showAdAgreement?IM("bandjoin.agree_ad_and_join"):IM("band.join.form.submit_btn.label"),subscribe:this._showAdAgreement?IM("bandjoin.agree_ad_and_subscribe"):IM("page_band.label.subscribe_long"),participate:IM("recruiting.joinable.band")}[this._bandCore.getJoinTermType()],showAdAgreement:this._showAdAgreement}},serializeData:function(){return{cid:this.cid,items:this.collection.map((function(e){var t=e.toJSON();return t.profileImageUrl=l.make(t.profileImageUrl,l.TYPE.s75),t.profileInnerClass=l.makeProfileInnerClass(t.profileImageUrl),t})),joining:this._joining,showSubscribeForEditProfile:this._fromEditProfile,band:this._bandCore}},ui:{radio:"._radio",newProfileBtn:"._newProfileBtn",confirmBtn:"._confirmBtn",closeBtn:"._closeBtn",setDefaultProfileSetOfPageCheck:"._setDefaultProfileSetOfPageCheck"},events:{"change @ui.radio":"_toggleConfirmBtn","click @ui.newProfileBtn":function(){this._triggerEvent(h.NEW_PROFILE,null,this.ui.setDefaultProfileSetOfPageCheck.is(":checked")),this.destroy()},"click @ui.confirmBtn":function(){var e=this.collection.get(parseInt(this.ui.radio.filter(":checked").val()));e&&(this.jplClick(u.CLASSIFIER.PROFILE_JOIN_PAGE,{band_no:this._bandCore.bandNo}),this._triggerEvent(h.PROFILE_SET_SELECTED,e,this.ui.setDefaultProfileSetOfPageCheck.is(":checked")),this.destroy())},"click @ui.closeBtn":"destroy"},initialize:function(e){this._bandCore=e.bandCore,this._joining=e.joining,this._fromEditProfile=!!e.fromEditProfile,this._showAdAgreement=!!e.showAdAgreement},onRender:function(){this._toggleConfirmBtn()},_toggleConfirmBtn:function(){this.ui.confirmBtn.prop("disabled",0===this.ui.radio.filter(":checked").length)},_triggerEvent:function(e,t,n){this.trigger("DProfileSetSelectView",e,t,n)},onAttach:function(){this._joining&&this._bandCore.isLoggingJoiningProfileSetLayer()&&this.jplSceneEnter(u.CLASSIFIER.PROFILE_SETTING_CHANGE)}});return A.EVENTS=h,A.openLayer=function(e){var n=t.when(r.fetchProfileSets()).then((function(t){return e.profileModel&&t.remove(e.profileModel.get("userProfileSetId")),new A({collection:t,bandCore:e.bandData.getBandCore(),joining:!1,fromEditProfile:!1,showAdAgreement:e.bandData.getNeedAdAgreement()})}));return s.openPromiseView(n,!1,{width:380,height:484}),n},A.openBandJoinLayer=function(e,t,n,i){var o=new A({collection:e,bandCore:t,joining:!0,fromEditProfile:n,showAdAgreement:i});return s.openWithoutHiding(o),o},A}.call(t,n,t,e))||(e.exports=i)},1113:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1312),a=n(547),r=n(154),s=n(486),l=n(498),d=n(499),c=n(488),u=n(9),h=n(443),A=n(158),p=n(82),m=n(1058);n(502);var f=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DGroupBandJoinHistoryView"},getTemplate:function(){return this._dataFetched?t.template(o):t.template(l)},templateContext:function(){if(!this._dataFetched)return{_loading_size:d.Size.MEDIUM,middleClass:c.ELEMENT.SCREEN_VERTICAL_MIDDLE};var e=this._appliedAt?this._appliedAt:this._createdAt,n=u.format.date(e,"year_month_day"),i=u.format.date(this._appliedAt,"year_month_day"),o=!1,a=null;return this._isJoinAnswerImagesExist()&&(o=!0,a=p.make(this._joinAnswerImages[0].url,p.TYPE.s150)),{name:this._name,joinDateText:IM("member_list.sort.joined_at",{joinedAt:n}),isApplicationExist:null!=this._appliedAt,joinApplicaionDateText:IM("bandjoin.join_application_date_format",{joinDateText:i}),acceptorHtml:IM("bandjoin.join_acceptor_text",{acceptor:t.escape(this._approverName)}),isJoinQuestiionExist:!t.isEmpty(this._joinQuestion),joinQuestionAsHtml:A.nl2br(t.escape(this._joinQuestion)),joinAnswerAsHtml:A.nl2br(t.escape(this._joinAnswer)),hasApplicantComment:this._hasApplicantComment,isJoinAnswerImagesExist:o,joinAnswerThumbnail:a,modalFooterExtraClass:this._hasApplicantComment?"":"gPat0",cid:this.cid}},ui:{closeBtn:"._closeBtn",openJoinTimeQnAApp:"._openJoinTimeQnAApp",joinAnswerImage:"._joinAnswerImage",showMediaViewer:"._showMediaViewer"},events:{"click @ui.closeBtn":function(){this.destroy()},"click @ui.openJoinTimeQnAApp":function(){return h.openBandMemberJoinTimeQnAApp(this._bandNo,this._memberKey),!1},"click @ui.showMediaViewer":function(){var e=this._joinAnswerImages[0];return m.openJoinApplicationSingleViewer(this._bandNo,[{photo_url:e.url,width:e.width,height:e.height}]),!1}},initialize:function(e){this._bandNo=e.bandNo,this._memberKey=e.memberKey,this._name=e.name,this._createdAt=e.createdAt},onDomRefresh:function(){this._dataFetched&&this._isJoinAnswerImagesExist()&&this.ui.joinAnswerImage.setLoading()},onAttach:function(){r.wrapActivePromise(a.getJoinInfo(this._bandNo,this._memberKey),this).then(t.bind((function(e){if(e&&e.data&&e.data.application){var t=e.data.application;this._appliedAt=t.applied_at,this._approverName=t.approver?t.approver.name:null,this._joinQuestion=t.join_question,this._joinAnswer=t.join_answer,this._hasApplicantComment=t.has_applicant_comment,this._joinAnswerImages=t.join_answer_images}this._dataFetched=!0,this.render()}),this))},_isJoinAnswerImagesExist:function(){return!t.isEmpty(this._joinAnswerImages)}});return f.openDGroupBandJoinHistoryView=function(e){var t=new f({bandNo:e.bandNo,memberKey:e.memberKey,name:e.name,createdAt:e.createdAt});s.openWithoutHiding(t)},f}.call(t,n,t,e))||(e.exports=i)},1114:function(e,t,n){var i;void 0===(i=function(e){var t=n(668),i=n(158);return{openPenaltyAddConfirm:function(){var e={headerTitle:IM("page_band.block_member.title"),bodyDesc:i.nl2br(IM("page_band.block_member.description")),confirm:IM("page_band.block_member.confirm"),cancel:IM("ui.label.cancel"),withoutHiding:!0};return t.openConfirm(e)},openPenaltyRemoveConfirm:function(){var e={headerTitle:IM("page_band.release_blocked_member.title"),bodyDesc:i.nl2br(IM("page_band.release_blocked_member.description")),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no"),withoutHiding:!0};return t.openConfirm(e)}}}.call(t,n,t,e))||(e.exports=i)},1117:function(e,t,n){var i;void 0===(i=function(){return{INPUT_VIEW_CLASS_NAME:"_messageInputView",INPUT_VIEW_DATA_KEY:"message-input-view"}}.call(t,n,t,e))||(e.exports=i)},1118:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(82),a=n(1346),r=n(552);return{createDInputPhotoElement:function(e){var n=o.make(e,o.TYPE.s150),s=i(t.template(a)({thumbnailUrl:n}));return s.data(r.INPUT_PHOTO_DATA_KEY,e).find(r.INPUT_PHOTO_DELETE_BUTTON_SELECTOR).data(r.INPUT_PHOTO_DATA_KEY,e),s}}}.call(t,n,t,e))||(e.exports=i)},1121:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=function(e,t){if(e.length+1!==t.length)throw new Error("not matching options");this.threshold=e,this.ids=t};return i.prototype.identify=function(e){for(var n=0;n<this.threshold.length;n++)if(t.isArray(this.threshold[n])){if(this.threshold[n][0]>e)return this.ids[n];if(this.threshold[n][0]===e)return this.threshold[n][1]}else if(this.threshold[n]>e)return this.ids[n];return this.ids[this.ids.length-1]},i.create=function(e){var n=t.partition(e,(function(e,t){return t%2==1}));return new i(n[0],n[1])},i}.call(t,n,t,e))||(e.exports=i)},1122:function(e,t,n){var i;void 0===(i=function(){var e=n(9),t="connection"in window.navigator&&"effectiveType"in window.navigator.connection,i={useHighQualityImage:function(){return!(window.devicePixelRatio<=1)&&i.isConsiderHighSpeedNetwork()},isConsiderHighSpeedNetwork:function(){return t?"4g"===window.navigator.connection.effectiveType:e.isHighSpeedNetworkCountry()}};return i}.call(t,n,t,e))||(e.exports=i)},1144:function(e,t,n){var i;void 0===(i=function(){var e=function(e,t,n){this.routeInfo=e,this.params=t,this.query=n};return e.newRoute=function(t,n,i){return new e(t,n||{},i||{})},e}.call(t,n,t,e))||(e.exports=i)},1145:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(53),a=n(513),r=n(153),s=n(162),l=n(589),d=n(168),c=function(e,t,n){this._memberProfile=e,this._userNoOrMemberKey=t,this._bandCore=n};return c.prototype._isAnonymousMembership=function(){return!this._memberProfile.gotoBandOnClickProfile()&&!this._userNoOrMemberKey},c.prototype.isGotoBandOnClick=function(){return!this._isAnonymousMembership()&&(this._memberProfile.gotoBandOnClickProfile()&&(parseInt(o.getCurrentRouteInfo().pathVariables.band_no,10)!==this._bandCore.bandNo||i.contains([r.GROUP_BAND_MEDIA_DETAIL,r.GROUP_BAND_MEDIA_DETAIL_COMMENT,r.GROUP_BAND_MEDIA_DETAIL_COMMENT_REPLY,s.PAGE_BAND_MEDIA_DETAIL,s.PAGE_BAND_MEDIA_DETAIL_COMMENT],o.getCurrentRouteInfo().routeInfo)))},c.prototype.isOpenProfileOnClick=function(){return!this._isAnonymousMembership()&&!this._memberProfile.gotoBandOnClickProfile()},c.prototype.canClickMemberProfile=function(){return this.isGotoBandOnClick()||this.isOpenProfileOnClick()},c.prototype.clickMemberProfileAction=function(){if(this.isGotoBandOnClick()){var e=this._bandCore.makeBandRouteUrl(r.GROUP_BAND_HOME,s.PAGE_BAND_HOME,{band_no:this._bandCore.bandNo});a.openWindowXSSSafely(location.protocol+"//"+location.host+e,"_blank")}else{if(this.isOpenProfileOnClick())(t.isNumeric(this._userNoOrMemberKey)?t.Deferred().resolve(this._userNoOrMemberKey):d.getUserNoByMemberKey(this._bandCore.bandNo,this._userNoOrMemberKey)).then(i.bind((function(e){l.openMemberProfileLayer(this._memberProfile,e,this._bandCore.bandNo)}),this))}},c}.call(t,n,t,e))||(e.exports=i)},1148:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(1345),a=n(82),r=n(22),s=t.template(o);var l={21:"-size21",34:"-size34"};i.fn.DUProfile=function(e){var n=(e=e||{}).memberProfile,o=e.size;t.isFinite(e.size)||(o=34);var d=e.description||"";return this.each((function(){var e=i(this);e.html(s(function(e){var t=a.makeProfileThumbnailUrl(e.memberProfile.profileImageUrl);return{profileImageUrl:e.memberProfile.profileImageUrl,profileThumbnail:t,profileInnerClass:a.makeProfileInnerClass(t),name:e.memberProfile.name,description:e.description}}({memberProfile:n,description:d}))),n.memberType===r.MEMBER_TYPE.PAGE_PROFILE&&t.isEmpty(n.profileImageUrl)&&e.addClass("-pageProfile"),e.find("._img").one("error",(function(){i(this).remove(),n.memberType===r.MEMBER_TYPE.PAGE_PROFILE&&e.addClass("-pageProfile"),e.find("._profileInner").removeClass("-gifProfileBg")})),e.addClass("uProfile"),e.addClass(l[o])}))}}.call(t,n,t,e))||(e.exports=i)},1175:function(e,t){e.exports='<div class="lyContent">\n    <% if (!!headerTitle) { %>\n    <div class="modalHeader">\n        <h5 class="title"><%= headerTitle %></h5>\n    </div>\n    <% } %>\n\n    <div class="modalBody">\n        <% if (!!bodyTitle) { %>\n        <div class="headingMsg"><%= bodyTitle %></div>\n        <% } %>\n        <div class="msgWrap">\n            <% if (!_.isArray(bodyDesc)) { // 단건 설명 %>\n            <p class="pText"><%= bodyDesc %></p>\n            <% } else { // 목록형 설명 %>\n            <ul class="msgList gMat10">\n                <% _.each(bodyDesc, function(eachDesc) { %>\n                <li class="msgListItem"><%= eachDesc %></li>\n                <% }); %>\n            </ul>\n            <% } %>\n        </div>\n    </div>\n\n    <div class="modalFooter">\n        <button type="button" class="uButton -confirm _btnConfirm"><%= confirm %></button>\n    </div>\n</div>'},1176:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1309),a=n(486),r=n(54),s=n(659),l=n(1310),d=n(155),c=n(510),u=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DGroupBandJoinVerificationEmailSendLayerView"},template:t.template(o),templateContext:function(){return{domains:this._domains,verifiedEmailId:this._verifiedEmailId,verifiedDomain:this._verifiedDomain}},ui:{emailId:"#emailId",selectDomain:"._selectDomain",btnCancel:"._btnCancel",btnNext:"._btnNext"},events:{"keyup @ui.emailId":"_toggleNextButton","click @ui.btnCancel":"_cancelSendingAuthEmail","click @ui.btnNext":function(e){var n=this.getUI("emailId").val()+"@"+this.getUI("selectDomain").find(":selected").val();s.checkMemberEmail(this._bandNo,n).done(t.bind((function(){this._sendAuthEmail(n)}),this)).fail(t.bind((function(e,t,i){if(1070==e.result_code){var o=c.openLayer({bodyDesc:IM("bandjoin.join_application.send_verification_email.confirm.already_used_email")});this.listenToOnce(o,c.EVENTS.CONFIRM,(function(){this._sendAuthEmail(n)})),this.listenToOnce(o,c.EVENTS.CANCEL,this._cancelSendingAuthEmail)}else alert(e.result_data.message)}),this))}},initialize:function(e){this._loading=!0,this._bandNo=e.bandNo,this._verifiedEmailId="",this._verifiedDomain="",this._domains=[],this._bandData=d.get(this._bandNo)},onAttach:function(){$.when(s.getBandEmailVerification(this._bandNo),this._bandData.loadBandData()).then(t.bind((function(e){this._loading=!1,this._domains=e.email_verification_domains||[],this._bandData.canJoin()?this.render():s.getMemberEmail(this._bandNo).then(t.bind((function(e){if(e&&e.email){var t=e.email.split("@");this._verifiedEmailId=t[0],this._verifiedDomain=t[1]}this.render()}),this))}),this))},_toggleNextButton:function(){this.getUI("emailId").val().trim().length>0?this.getUI("btnNext").removeClass("-disabled").prop("disabled",!1):this.getUI("btnNext").addClass("-disabled").prop("disabled",!0)},_sendAuthEmail:function(e){r.sendAuthEmail(e).then(t.bind((function(){var t=l.openAsLayer(e);this.listenToOnce(t,"confirm",(function(e){this.trigger("apply:next",e),this.destroy()}))}),this))},_cancelSendingAuthEmail:function(){this.trigger("cancel"),this.destroy()}});return u.openAsLayer=function(e){var t=new u({bandNo:e});return a.open(t),t},u}.call(t,n,t,e))||(e.exports=i)},1229:function(e,t,n){var i;void 0===(i=function(e){var t=n(21);return{_getApiClient:function(){return t.getLoginV1Client()},createApplicantComment:function(e,t,n,i){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/create_applicant_comment",data:{band_no:e,applicant_key:t,body:n,photos:i},method:"POST"})},createMyApplicationComment:function(e,t,n){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/create_my_application_comment",data:{band_no:e,body:t,photos:n},method:"POST"})},getApplicantComments:function(e){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/get_applicant_comments",data:e,method:"GET"})},getMyApplicationComments:function(e){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/get_my_application_comments",data:e,method:"GET"})},deleteApplicantComment:function(e,t,n){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/delete_applicant_comment",data:{band_no:e,applicant_key:t,comment_id:n},method:"GET"})},deleteMyApplicationComment:function(e,t){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/delete_my_application_comment",data:{band_no:e,comment_id:t},method:"GET"})},updateApplicantComment:function(e,t,n,i,o){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/update_applicant_comment",data:{band_no:e,applicant_key:t,comment_id:n,body:i,photos:o},method:"POST"})},updateMyApplicationComment:function(e,t,n,i){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/update_my_application_comment",data:{band_no:e,comment_id:t,body:n,photos:i},method:"POST"})},getApplicantCommentSet:function(e){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/get_applicant_comment_set",data:{band_no:e},method:"GET"})},readApplicantComment:function(e,t){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/read_applicant_comment",data:{band_no:e,applicant_key:t},method:"POST"})},getMyApplicationCommentSet:function(){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/get_my_application_comment_set",method:"GET"})},getApplicantCommentHistory:function(e){return this._getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.3.0/get_applicant_comment_history",data:e,method:"GET"})}}}.call(t,n,t,e))||(e.exports=i)},1242:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1289),a=n(9),r=n(82),s=n(164),l=n(572),d=n(174),c=n(1111),u=n(486),h=n(495),A=n(487),p=n(534),m=n(13),f=n(155),_={EDIT_PROFILE:"edit_profile",SEND_MESSAGE:"send_message",BAN_MEMBER:"ban_member",BLOCK_COMMENT_AND_CHAT:"block_comment_and_chat",GOTO_SEARCH_MEMBER_CONTENTS:"goto_search_member_contents",BAN_CHAT:"ban_chat",VIEW_JOIN_INFO:"view_join_info",REPORT_MEMBER_PROFILE:"report_member_profile",UNMUTE_MEMBER:"unmute_member"},g=i.View.extend({options:{availableFunctions:[]},behaviors:function(){var e=this.options.bandData.getBandCore().showProfileAsPageStyle()?h.SCENE.FOLLOW_PROFILE:h.SCENE.MEMBER_PROFILE;return[{behaviorClass:h,sceneId:e},A]},className:"lyWrap",attributes:{"data-viewname":"DProfileView"},template:t.template(o),templateContext:function(){var e=d.makePhoneNumberWithCountryCodeIfDifferentRegion(this.model.get("cellphone"));this.model.get("me")&&!t.isEmpty(this.model.get("cellphone"))&&(e=p.transformInternationalPhoneNumber(e));var n=r.makeGifSupportedProfileUrl(this.model.get("profileImageUrl"),s.s276_gif);return{msg_modelFetched:this._bandData.isBandDataStateLoaded(),profileImageThumbnail:n,profileInnerClass:r.makeProfileInnerClass(n),showLeaderTermAsManager:this._bandData.getBandCore().showBandLeaderTermAsManager(),createdAtText:a.format.date(this.model.get("createdAt"),"medium"),birthdayText:l.makeBirthdayLabel(this.model.get("birthday"),this.model.get("isLunar")),cellphoneText:e,pageStyle:this._bandData.getBandCore().showProfileAsPageStyle(),memberDisabledStatusText:this._getMemberDisabledStatusText(),showBtnEditProfile:this._isUseAvailableFunction(_.EDIT_PROFILE)&&this.model.isMyProfile(),showBtnSendMessage:this._isUseAvailableFunction(_.SEND_MESSAGE)&&this.model.canSendMessage()&&!this.model.isMyProfile(),showBtnGoToSearchMemberPost:this._isUseAvailableFunction(_.GOTO_SEARCH_MEMBER_CONTENTS)&&this._bandData.canAccessSearchMemberPostWebPage(),showBtnGoToSearchMemberComment:this._isUseAvailableFunction(_.GOTO_SEARCH_MEMBER_CONTENTS)&&!this._bandData.canAccessSearchMemberPostWebPage()&&this._bandData.canAccessSearchMemberCommentWebPageOfUser(this.model.isLoginUserBandMemberProfile()),showBtnUnmuteMember:this._isUseAvailableFunction(_.UNMUTE_MEMBER)&&this.model.isMuted()&&this.model.canMuteMember(),showBtnBlockCommentAndChat:this._isUseAvailableFunction(_.BLOCK_COMMENT_AND_CHAT)&&this.model.canBlockCommentAndChat(),showBtnBanMember:this._isUseAvailableFunction(_.BAN_MEMBER)&&this.model.canBanMember(),showBtnBandChat:this._isUseAvailableFunction(_.BAN_CHAT)&&this.model.canBanChat()&&this.model.get("isMember"),showBtnJoinInfo:this._isUseAvailableFunction(_.VIEW_JOIN_INFO)&&this.model.canViewJoinInfo(),showBtnReportMemberProfile:this._isUseAvailableFunction(_.REPORT_MEMBER_PROFILE)&&!this.model.get("me")&&m.getUserData().getUserNo()!==this.model.getBandMemberProfileUserNo()&&this._bandData.canReportMember()}},ui:{btnClose:"._btnClose",imgProfile:"._imgProfile",btnEditProfile:"._btnEditProfile",btnSendMessage:"._btnSendMessage",btnGotoSearchMemberContent:"._btnGotoSearchMemberContent",unmuteMember:"._unmuteMember",btnManageMember:"._btnManageMember",lyManageMember:"._lyManageMember",btnBanChat:"._btnBanChat",btnBanMember:"._btnBanMember",btnBlockCommentAndChat:"._btnBlockCommentAndChat",btnJoinInfo:"._btnJoinInfo",btnReportMemberProfile:"._btnReportMemberProfile"},modelEvents:{change:"render"},events:{"click @ui.btnClose":"destroy","click @ui.btnManageMember":function(e){this.options.bandData.getBandCore().showProfileAsPageStyle()||this._sendGroupBandProfileItemClickLog("option"),this._showMemberManagementLayer()},"click @ui.imgProfile":function(e){this.options.bandData.getBandCore().showProfileAsPageStyle()||this._sendGroupBandProfileItemClickLog("profile_photo"),this._openProfilePhoto()},"click @ui.btnSendMessage":function(){this.options.bandData.getBandCore().showProfileAsPageStyle()||this._sendGroupBandProfileItemClickLog("chat"),this.trigger(_.SEND_MESSAGE)},"click @ui.btnGotoSearchMemberContent":function(){this.options.bandData.getBandCore().showProfileAsPageStyle()?this.jplClick(A.CLASSIFIER.VIEW_COMMENTS):this._sendGroupBandProfileItemClickLog("view_post"),this.trigger(_.GOTO_SEARCH_MEMBER_CONTENTS)},"click @ui.unmuteMember":function(){this.trigger(_.UNMUTE_MEMBER)},"click @ui.btnEditProfile":function(){this.options.bandData.getBandCore().showProfileAsPageStyle()&&this.jplClick(A.CLASSIFIER.PROFILE_SETTING),this.trigger(_.EDIT_PROFILE)},"click @ui.btnBanChat":function(){this.trigger(_.BAN_CHAT)},"click @ui.btnBanMember":function(){this.trigger(_.BAN_MEMBER)},"click @ui.btnBlockCommentAndChat":function(){this.trigger(_.BLOCK_COMMENT_AND_CHAT)},"click @ui.btnJoinInfo":function(){this.trigger(_.VIEW_JOIN_INFO),this.getUI("lyManageMember").hide()},"click @ui.btnReportMemberProfile":function(){this.trigger(_.REPORT_MEMBER_PROFILE),this.getUI("lyManageMember").hide()}},initialize:function(e){this._bandData=e.bandData,this.listenTo(this._bandData,f.UPDATE_EVENT.ANY,this.render)},onAttach:function(){this.options.bandData.getBandCore().showProfileAsPageStyle()?this.jplSceneEnter(A.CLASSIFIER.FOLLOW_PROFILE):this.jplSceneEnter(A.CLASSIFIER.MEMBER_PROFILE,{user_no:this.model.getBandMemberProfileUserNo(),band_no:this._bandData.getBandNo()})},_showMemberManagementLayer:function(){this.getUI("lyManageMember").toggle()},_openProfilePhoto:function(){if(this._bandData.canOpenProfilePhoto()){var e=c.buildDProfilePhotoView(this.model.get("profileImageUrl"),this.model.get("name"));u.open(e)}},_sendGroupBandProfileItemClickLog:function(e){this.options.bandData.getBandCore().showProfileAsPageStyle()||this.jplClick(A.CLASSIFIER.PROFILE_ITEM,{item:e})},_isUseAvailableFunction:function(e){return t.contains(this.options.availableFunctions,e)},_getMemberDisabledStatusText:function(){var e=this._bandData.getBandCore();if(this.model.isReallyNotMember()){if(e.showMemberLeavedStateOnProfile())return IM("web.profile.leave");if(this._bandData.canShowMemberUnsubscribedStateOnProfile())return IM("web.profile.unsubscribed_user")}return null}});return g.AVAILABLE_FUNCTIONS=_,g}.call(t,n,t,e))||(e.exports=i)},1243:function(e,t,n){var i=n(0),o=n(1022);function a(e){if(i.isEmpty(e))return[o.NO_ONE];if(i.contains(e,"modify_open_cellphone_roles_only_leader"))return i.without(o.ALL_MEMBER_ROLES,o.ANYONE,o.UNTIL_COLEADER);if(i.contains(e,"modify_open_cellphone_roles_until_coleader"))return i.without(o.ALL_MEMBER_ROLES,o.ANYONE);if(i.contains(e,"modify_open_cellphone_roles_anyone"))return o.ALL_MEMBER_ROLES.concat([]);throw new Error("Invalid Argument")}t.getAllSelectableOpenCellphoneMemberRoles=a,t.getAcceptableOpenCellphoneMemberRoles=function(e,t){var n=a(e),r=o.parseMemberRoles(t);return i.contains(n,r)?r:n[0]}},1244:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(4),a=n(510),r=n(513),s=n(564),l=n(519),d=n(26),c=n(153),u=n(162),h=n(544),A=n(158);function p(e,t,n){r.openGet({windowURL:e,windowName:t.replace(/\-/g,"_"),width:400,height:644,resizable:1,centerBrowser:!0,params:n}),window.getChatEventListener=function(){return d.getDGlobalChannel()}}return o.Object.extend({open:function(e,t,n){var i=c.GROUP_BAND_CHATTING_ROOM.makeUrl({band_no:e,channel_id:t}),o="band_chat_"+t,a={};n&&(a.withJoin="true"),p(i,o,a)},openWithGroupCall:function(e,t,n){p(c.GROUP_BAND_CHATTING_ROOM.makeUrl({band_no:e,channel_id:t}),"band_chat_"+t,{groupCall:n})},openRecruitingBandChattingRoom:function(e,t){p(h.LFG_BAND_CHAT.makeUrl({band_no:e,channel_id:t}),"band_chat_"+t,{})},talkToPageBand:function(e){l.talkToPage(e).then(t.bind((function(n){var i=n.channel,o=i.band;this._openChatConfirmLayer(IM("page_band.message.open_chat_confirm.desc",{name:t.escape(o.name)}),t.bind((function(){this.openPageBandChatChannel(e,i.channel_id)}),this))}),this))},talkToPageBandSubscriber:function(e,n,i){l.talkToPageSubscriber(e,n).then(t.bind((function(n){var o=n.channel;this._openChatConfirmLayer(IM("chat.message.confirm_open",{count:0,name:t.escape(i)}),t.bind((function(){this.openPageBandChatChannel(e,o.channel_id)}),this))}),this))},_openChatConfirmLayer:function(e,t){a.openLayer({headerTitle:IM("chat_open.title"),bodyDesc:A.nl2br(e),confirm:IM("chat_open.btn.open"),cancel:IM("ui.label.cancel")}).once(a.EVENTS.CONFIRM,t)},openPageBandChatChannel:function(e,t){p(u.PAGE_BAND_MESSAGE_CHANNEL.makeUrl({band_no:e,channel_id:t}),"page_band_"+t,{})},startChattingWithUsers:function(e,n){var o=t.pluck(e,"userNo");s.Commands.createChannel(o,n).then(t.bind((function(o){this._openChatConfirmLayer(IM("chat.message.confirm_open",{count:e.length-1,name:i.escapeHTML(e[0].name)}),t.bind((function(){this.open(n,o.channelId)}),this))}),this),t.bind((function(i){1001===i.result_code&&a.openLayer({headerTitle:IM("chat_open.title"),bodyDesc:IM("web.chatroom.create.fail_by_deny"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(a.EVENTS.CONFIRM,t.bind((function(){l.SettingApi.unblock({band_no:n,blocked_user_no:o[0]}).then((function(){this.startChattingWithUsers(e,n)}))}),this))}),this))},startChattingWithGroupCall:function(e,n,o){var r=t.pluck(e,"userNo");s.Commands.createChannel(r,n).then(t.bind((function(a){this._openChatConfirmLayer(IM("chat.message.confirm_open",{count:e.length-1,name:i.escapeHTML(e[0].name)}),t.bind((function(){this.openWithGroupCall(n,a.channelId,o)}),this))}),this),t.bind((function(i){1001===i.result_code&&a.openLayer({headerTitle:IM("chat_open.title"),bodyDesc:IM("web.chatroom.create.fail_by_deny"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(a.EVENTS.CONFIRM,t.bind((function(){l.SettingApi.unblock({band_no:n,blocked_user_no:r[0]}).then((function(){this.startChattingWithGroupCall(e,n,o)}))}),this))}),this))}})}.call(t,n,t,e))||(e.exports=i)},1245:function(e,t){e.exports='<span class="answerImageItem">\n    <img src="<%- thumbnailUrl %>" alt="<%- IM(\'ui.label.photo\') %>" class="_uploadedPhoto">\n    <button type="button" class="buttonDelete _photoDeleteButton"><span class="gSrOnly"><%- IM(\'ui.label.delete\') %></span></button>\n</span>'},1246:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(4),a=n(1308),r=n(600),s=n(82),l=n(156),d=n(164),c=n(486),u=(n(518),n(507)),h=n(521),A=n(495),p=n(487),m=n(152),f=n(1002),_=n(540),g={CONFIRM:"CONFIRM"},b=t.template('<img src="<%- image %>" width="140" height="140" alt="<%- IM("photo") %>">'),M=o.View.extend({behaviors:[{behaviorClass:A,sceneId:A.SCENE.PROFILE_SETTING_NEW},p],options:{setDefaultProfileSetOfPage:!1,bandCore:null},tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DProfileSetInputView"},template:t.template(a),templateContext:function(){return{setDefaultProfileSetOfPage:!!this.options.setDefaultProfileSetOfPage,saveButtonLabel:this._joining?{join:IM("band.join.form.submit_btn.label"),subscribe:IM("page_band.label.subscribe_long"),participate:IM("recruiting.joinable.band")}[this._bandCore.getJoinTermType()]:IM("ui.label.confirm")}},serializeData:function(){return{cid:this.cid,joining:this._joining,band:this._bandCore?this._bandCore:null,authorNameMaxLength:m.AUTHOR_NAME_MAX_LENGTH}},ui:{imageWrap:"._imageWrap",menuBtn:"._menuBtn",menuWrap:"._menuWrap",fileWrap:"._fileWrap",deletePhotoLink:"._deletePhotoLink",nameInput:"._nameInput",confirmBtn:"._confirmBtn",closeBtn:"._closeBtn",useProfileImageAgreementInfo:"._useProfileImageAgreementInfo",setDefaultProfileSetOfPageCheck:"._setDefaultProfileSetOfPageCheck"},events:{"click @ui.menuBtn":function(){this._toggleLayer(this.ui.menuWrap)},"click @ui.deletePhotoLink":function(e){e.preventDefault(),this._setImage(null)},"click @ui.confirmBtn":function(){var e=i.trim(this.ui.nameInput.val());e?(this._joining&&this._bandCore.isLoggingJoiningProfileSetLayer()&&this.jplClick(p.CLASSIFIER.PROFILE_JOIN_PAGE,{band_no:this._bandCore.bandNo}),this.trigger("DProfileSetInputView",g.CONFIRM,{name:e,profileImageUrl:this._profileImageUrl,setDefaultProfileSetOfPage:this.ui.setDefaultProfileSetOfPageCheck.is(":checked")})):alert(IM("web.profile.alert.input_name"))},"click @ui.closeBtn":"destroy",click:"_closeAllLayers"},initialize:function(e){this._name=e.name,this._profileImageUrl=e.profileImageUrl,this._bandCore=e.bandCore,this._joining=!!this._bandCore},onRender:function(){this.ui.nameInput.val(i.trim(this._name)),this._setImage(this._profileImageUrl)},onAttach:function(){this._createProfilePhotoUploader(),this._getPersonalInfoAgreementData(),this._joining&&this._bandCore.isLoggingJoiningProfileSetLayer()&&this.jplSceneEnter(p.CLASSIFIER.PROFILE_SETTING_NEW)},onBeforeDetach:function(){this._destroyProfilePhotoUploader()},_getPersonalInfoAgreementData:function(){return h.buildPersonalInfoAgreementData().fetchAgreementData().then(t.bind((function(e){e.isProfileImageCollectable()||this.getUI("useProfileImageAgreementInfo").show()}),this))},_setValuesWithPhoto:function(e){e&&this._setImage(e.url)},_setImage:function(e){var t=!!e;if(t){var n=s.makeGifSupportedProfileUrl(e,d.s276_gif);this.ui.imageWrap.html(b({image:n})).toggleClass("-gifProfileBg",l.isGif(n))}else this.ui.imageWrap.empty().removeClass("-gifProfileBg");this.ui.deletePhotoLink.parent().toggle(t),this._profileImageUrl=e},_toggleLayer:function(e){e.is(":visible")||t.defer(t.bind(e.show,e))},_closeAllLayers:function(e){this.isDestroyed()||this.ui.menuWrap.hide()},_createProfilePhotoUploader:function(){this._destroyProfilePhotoUploader(),this._profilePhotoUploader=r.createProfilePhotoUploader(this.ui.fileWrap,{autoUpload:!1}),this.listenTo(this._profilePhotoUploader,u.SELECT_FILES,(function(e){if(e.files[0].type.indexOf("gif")>-1)return this._profilePhotoUploader.setContinueAutoUpload(),!1;this._profilePhotoUploader.loadFileReaderResize(e.files[0]).then(t.bind((function(e){var n={title:IM("web.upload.title.profile_photo"),cropOptions:{}},i=f.build(e,n);this.listenTo(i,"crop:complete",(function(e){i.destroy(),_.uploadDataUriImage(e).then(t.bind((function(e){this._setValuesWithPhoto(e)}),this))})),this.listenTo(i,"crop:cancel",(function(){i.destroy()}),this)}),this))})),this.listenTo(this._profilePhotoUploader,u.UPLOAD_COMPLETE,(function(e){this._setValuesWithPhoto(t.first(t.propertyOf(e)("resultList")))}))},_destroyProfilePhotoUploader:function(){this._profilePhotoUploader&&(this._profilePhotoUploader.destroy(),this._profilePhotoUploader=null)}});return M.EVENTS=g,M.openLayer=function(e){var t=new M(e);return c.open(t),t},M.openBandJoinLayer=function(e,t){var n=new M({bandCore:e,setDefaultProfileSetOfPage:t});return c.open(n),n},M}.call(t,n,t,e))||(e.exports=i)},1250:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(4),a=n(26),r=n(1344),s=n(154),l=n(82),d=n(488),c=n(159),u=n(1059);n(1148);var h=o.View.extend({attributes:{"data-viewname":"DMessageInputProfileView"},behaviors:[c],getTemplate:function(){return this._currentProfileMemberType?t.template(r):t.template("")},templateContext:function(){var e=p(this._memberProfileArray,this._currentProfileMemberType);return{currentProfile:A(t.find(this._memberProfileArray,(function(e){return e.memberType===this._currentProfileMemberType}),this),this._currentProfileMemberType),inputProfileArray:e,isProfileSelectable:e.length>1}},ui:{profileSelectBtn:"._profileSelectBtn",profileListUl:"._profileListUl",eachProfileBtn:"._eachProfileBtn",currentProfile:"._currentProfile",selectableProfile:"._selectableProfile"},events:function(){return this.options.preventAllEvent?{}:{"click @ui.profileSelectBtn":function(){this.ui.profileSelectBtn.hasClass(d.ELEMENT.ACTIVE)?this._hideProfileSelectLayer():s.wrapDeferPromise(this).then(t.bind((function(){this._showProfileSelectLayer()}),this))},"click @ui.eachProfileBtn":function(e){var t=i(e.currentTarget).data("member-type");return t===this._currentProfileMemberType?(this._hideProfileSelectLayer(),!1):(this.spawn(c.MSG.MESSAGE_INPUT_PROFILE_CHANGE,t),!1)}}},initialize:function(e){this._bandNo=e.bandNo,this._currentProfileMemberType=e.currentProfileMemberType,this._memberProfileArray=e.memberProfileArray},onRender:function(){var e=t.chain(this._memberProfileArray).map((function(e){return[e.memberType,e]})).object().value();this.getUI("currentProfile").DUProfile({memberProfile:e[this._currentProfileMemberType],size:21}),this.getUI("selectableProfile").each(t.bind((function(t,n){var o=i(n);o.DUProfile({memberProfile:e[o.data("member-type")]})}),this))},onAttach:function(){this.listenTo(a.getDGlobalChannel(),a.EVENT.HTML_CLICK,(function(){this._hideProfileSelectLayer()}))},changeProfileData:function(e,t){this._currentProfileMemberType=e,this._memberProfileArray=t,this.render()},getSelectedProfileMemberType:function(){return this._currentProfileMemberType},_showProfileSelectLayer:function(){var e=this.ui.profileSelectBtn.scrollParent();if(e[0].nodeType!=u.DOCUMENT){var t=e.scrollTop(),n=t+this.ui.profileSelectBtn.offset().top-128-e.offset().top;this.ui.profileListUl.toggleClass("-bottom",t>n)}this.ui.profileListUl.show(),this.ui.profileSelectBtn.addClass(d.ELEMENT.ACTIVE),this.ui.profileSelectBtn.attr("aria-expanded","false")},_hideProfileSelectLayer:function(){this.ui.profileListUl.hide(),this.ui.profileSelectBtn.removeClass(d.ELEMENT.ACTIVE),this.ui.profileSelectBtn.attr("aria-expanded","true")}}),A=function(e,t){return null==e||null==t?null:{memberType:e.memberType,name:e.name,thumbnail:l.makeProfileThumbnailUrl(e.profileImageUrl),activeClass:e.memberType===t?d.ELEMENT.ACTIVE:""}},p=function(e,n){return null==e?[]:t.map(e,(function(e){return A(e,n)}))};return h.buildDMessageInputProfileView=function(e){return new h(e)},h}.call(t,n,t,e))||(e.exports=i)},1256:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1121),a=n(1122),r=n(82),s={wide:o.create([{containerClass:"-webtoon",contentClass:"gMiddleItem"},9/16,{containerClass:"-vertical",contentClass:""},.9,{containerClass:"-square",contentClass:""},1.1,{containerClass:"-horizontal",contentClass:""},3,{containerClass:"-panorama",contentClass:"gCenterItem"}]),narrow:o.create([{containerClass:"-webtoon",contentClass:"gMiddleItem"},9/16,{containerClass:"-vertical",contentClass:""},.9,{containerClass:"-square",contentClass:""},1.1,{containerClass:"-horizontal",contentClass:""},254/85,{containerClass:"-panorama",contentClass:"gCenterItem"}])},l=i.View.extend({options:{isGif:!1,photoUrl:"",width:1,height:1,ratioType:"wide"},tagName:"A",className:function(){var e=["photo"];this.options.isGif&&e.push("-gif");var t=s[this.options.ratioType].identify(this.options.width/this.options.height);return e.push(t.containerClass),Math.max(this.options.width,this.options.height)<150&&"wide"===this.options.ratioType&&e.push("-w150"),e.join(" ")},attributes:{"data-viewname":"DCommentAttachedPhotoView",href:"#",role:"button"},template:t.template('<img src="<%- photoUrl %>" alt="" class="photoImage <%- imgClass %>">'),templateContext:function(){var e=s[this.options.ratioType].identify(this.options.width/this.options.height);this.options.photoUrl;return{photoUrl:a.useHighQualityImage()?r.make(this.options.photoUrl,r.TYPE.e1280_std):r.make(this.options.photoUrl,r.TYPE.w500),imgClass:e.contentClass}},triggers:{click:"showMedia"}});return l.buildDCommentAttachedPhotoView=function(e,t,n,i,o){var a={isGif:i,photoUrl:e,width:t,height:n};return o&&(a.ratioType=o),new l(a)},l}.call(t,n,t,e))||(e.exports=i)},1288:function(e,t){e.exports='<span class="profileInner <%- profileInnerClass %>">\n    <% if (roleLabel) { %>\n    <span class="gSrOnly"><%-roleLabel%></span>\n    <% } %>\n    <% if (hasProfileImage) { %>\n    <img src="<%-profileImageThumbnail%>" class="_image" width="<%-imageSize%>" height="<%-imageSize%>" alt="<%-name %>" <%= (lazyLoading) ? \'loading="lazy"\':\'\' %> <%= (useCORS) ? \'crossorigin="use-credentials"\':\'\' %>>\n    <% } %>\n</span>\n'},1289:function(e,t){e.exports='<div class="lyContent <% if (pageStyle) { %> -flexible <% } %>" style="width: 320px; <% if (pageStyle) { %> height:412px <% } else { %> min-height:412px <% } %>">\n<% if (msg_modelFetched) { %>\n        <header class="modalHeader -profile <% if (showLeaderTermAsManager) { %> -pageProfile <% } %><% if(!pageStyle) { %> -noTitlebar <% } %>">\n            <span class="gSrOnly"><%-IM(\'web.profile.title\')%></span>\n            <% if (role) { %>\n            <p class="desc <% if (createdAt) { %> gMat15 <% } else { %> gMat40 <% } %>">\n                <% if (showLeaderTermAsManager) { %>\n                    <% if (role === \'leader\') { %>\n                    <strong class="leader"><%-IM("pageband.member.leader")%></strong>\n                    <% } else if (role === \'coleader\') { %>\n                    <strong class="coleader"><%-IM("pageband.member.coleader")%></strong>\n                    <% } %>\n                <% } else { %>\n                    <% if (role === \'leader\') { %>\n                    <strong class="leader"><%-IM(\'web.band.member.role.leader\')%></strong>\n                    <% } else if (role === \'coleader\') { %>\n                    <strong class="coleader"><%-IM(\'web.band.member.role.coleader\')%></strong>\n                    <% } else { %>\n                    <strong class="member"><%-IM(\'web.band.member.role.member\')%></strong>\n                    <% } %>\n                <% } %>\n                <% if (createdAt) { %> Since <%-createdAtText%> <% } %>\n            </p>\n            <% } %>\n        </header>\n        <div class="modalBody">\n            <div class="profileInfo <% if (pageStyle) { %> pageProfileInfo <% } else { %> -tSpace43 <% } %> ">\n                <div class="roundCover">\n                    <% if (profileImageUrl) { %>\n                    <a href="#" role="button" class="uProfile -size140 -border _imgProfile">\n                        <span class="profileInner <%- profileInnerClass %>"><img src="<%-profileImageThumbnail%>" width="140" height="140" alt="<%-name%>"></span>\n                    </a>\n                    <% } else { %>\n                    <span class="uProfile -size140">\n                        <span class="profileInner"></span>\n                    </span>\n                    <% } %>\n                </div>\n                <div class="userInfo gPal25 gPar25 gPat15 gPab38">\n                    <h1 class="userName"><%-name%></h1>\n                    <% if (description) { %>\n                    <p class="userNickname"><%-description%></p>\n                    <% } %>\n                    <% if (memberDisabledStatusText) { %>\n                    <p class="disabledText"><%- memberDisabledStatusText %></p>\n                    <% } %>\n                    <% if (birthday || cellphone) { %>\n                    <p class="userEtc">\n                        <% if (birthday) { %>\n                        <span class="birthday"><%-IM(\'web.profile.label.birthday\') %> <%-birthdayText%></span>\n                        <% } %>\n                        <% if(cellphone) { %>\n                        <span class="phoneNumber"><%-cellphoneText%></span>\n                        <% } %>\n                    </p>\n                    <% } %>\n                    <% if(showBtnSendMessage || showBtnEditProfile || showBtnGoToSearchMemberPost || showBtnGoToSearchMemberComment || showBtnUnmuteMember) { %>\n                    <div class="roundBtns gMab-5">\n                        <% if (showBtnSendMessage) { %>\n                        <button type="button" class="chat _btnSendMessage"><span></span> <%- pageStyle ? IM(\'pageband.main.page_action.send_message\') : IM(\'web.profile.label.chat\') %></button>\n                        <% } %>\n                        <% if (showBtnEditProfile) { %>\n                        <button type="button" class="set _btnEditProfile"><span></span> <%-IM(\'web.profile.label.edit\')%></button>\n                        <% } %>\n                        <% if (showBtnGoToSearchMemberPost && !showBtnUnmuteMember) { %>\n                        <button type="button" class="post _btnGotoSearchMemberContent"><span></span> <%-IM(\'web.profile.label.member_post\')%></button>\n                        <% } %>\n                        <% if (showBtnGoToSearchMemberComment) { %>\n                        <button type="button" class="comment _btnGotoSearchMemberContent"><span></span> <%-IM(\'web.profile.label.member_comment\')%></button>\n                        <% } %>\n                        <% if (showBtnUnmuteMember) { %>\n                        <button type="button" class="unBlock _unmuteMember"><span></span> <%= IM(\'web.profile.label.unmute_member\') %></button>\n                        <% } %>\n                    </div>\n                    <% } %>\n                    <% if (isMuted) { %>\n                    <div class="blockMessage gPat22 gPab0"><%= IM(\'web.profile.muted_member.guide_message\') %></div>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n        <footer class="modalFooter gPat0 gPab0">\n            <div class="memberOption">\n                <% if (showBtnBandChat || showBtnBanMember || showBtnBlockCommentAndChat || showBtnReportMemberProfile) { %>\n                <button type="button" class="btnOption _btnManageMember"><span class="gSrOnly"><%= IM("profile_layer.label.member_management") %></span></button>\n                <div class="lyMenu _lyManageMember" style="display: none;">\n                    <ul>\n                        <% if (showBtnBandChat) { %> <li><a class="_btnBanChat" href="#"><%= IM("profile_layer.label.ban_chat") %></a></li> <% } %>\n                        <% if (showBtnJoinInfo) { %><li><a class="_btnJoinInfo" href="#"><%- IM("bandjoin.join_info_show") %></a></li><% } %>\n                        <% if (showBtnBanMember) { %>\n                            <li><a class="_btnBanMember" href="#">\n                                <% if (isMember) { %>\n                                    <%= IM("profile_layer.label.ban_member") %>\n                                <% } else { %>\n                                    <%= IM("profile_layer.label.block_join") %>\n                                <% } %>\n                            </a></li>\n                        <% } %>\n                        <% if (showBtnBlockCommentAndChat) { %>\n                            <% if (isAlreadyBlockedCommentAndChat) { %>\n                            <li><a class="_btnBlockCommentAndChat" href="#"><%-IM(\'profile_layer.label.release_block_comment_and_chat\')%></a></li>\n                            <% } else { %>\n                            <li><a class="_btnBlockCommentAndChat" href="#"><%-IM(\'profile_layer.label.block_comment_and_chat\')%></a></li>\n                            <% } %>\n                        <% } %>\n                        <% // 멤버 프로필 신고하기 %>\n                        <% if (showBtnReportMemberProfile) { %>\n                        <li><a class="_btnReportMemberProfile" href="#"><%= IM("ui.label.report") %></a></li>\n                        <% } %>\n                    </ul>\n                </div>\n                <% } %>\n            </div>\n\n            <button type="button" class="uButton -iconClose btnLyClose _btnClose"><span class="gSrOnly"><%-IM(\'web.profile.btn.close\')%></span></button>\n        </footer>\n<% } %>\n</div>'},1290:function(e,t){e.exports='<div class="lyContent -wFull -originalProfileImg _lyContent">\n    <header class="gSrOnly">\n        <h1><%-IM(\'web.profile.view_photo.title\')%></h1>\n    </header>\n\n    <div class="main -spaceNone">\n        <img src="<%-thumbnailUrl%>" alt="<%-name%>" class="originalProfileImg">\n    </div>\n\n    <footer class="footer -h0">\n        <button type="button" class="btnLyClose -fixed uButton -iconCloseL _btnClose"><%-IM(\'web.profile.btn.close\')%></button>\n    </footer>\n</div>'},1291:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(10),a=n(4),r=n(1292),s=n(558),l=n(1033),d=n(600),c=n(157),u=n(82),h=n(156),A=n(164),p=n(486),m=n(518),f=n(1112),_=n(1297),g=n(510),b=n(507),M=n(521),v=n(572),E=n(174),C=n(534),I=n(495),y=n(487),P=n(152),T=n(1243),N=n(1022),L=n(1002),B=n(540),O=i.template('<img src="<%- image %>" width="140" height="140" alt="<%- IM("photo") %>">'),w=a.View.extend({behaviors:[{behaviorClass:I,sceneId:I.SCENE.SET_USER_BAND_PROFILE},y],tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DEditProfileView"},template:i.template(r),templateContext:function(){var e=this.model.isPermittedModifyOpenBirthday(),t=!i.isEmpty(this.model.getModifyOpenCellphonePermittedOperations()),n={};n[N.ANYONE]=IM("profile.edit.label.open_cellphone.setting_permission.anyone"),n[N.UNTIL_COLEADER]=IM("profile.edit.label.open_cellphone.setting_permission.coleader"),n[N.ONLY_LEADER]=IM("profile.edit.label.open_cellphone.setting_permission.leader"),n[N.NO_ONE]=IM("profile.edit.label.open_cellphone.setting_permission.not_open");var o=T.getAcceptableOpenCellphoneMemberRoles(this.model.getModifyOpenCellphonePermittedOperations(),this.model.getOpenCellphoneRoles()),a=i.map(T.getAllSelectableOpenCellphoneMemberRoles(this.model.getModifyOpenCellphonePermittedOperations()),(function(e){return{value:e.toString(),label:n[e],selected:e.isSame(o)}})),r=E.toDisplayPhoneNumber(this.model.get("cellphone"));return this.model.get("me")&&!i.isEmpty(this.model.get("cellphone"))&&(r=C.transformInternationalPhoneNumber(r)),{vid:this.cid,bandName:this._bandData.getBandCore().name,showProfileDescription:this._bandData.getBandCore().supportProfileDescription(),isPageProfileTitle:this._bandData.getBandCore().showBandTermAsPage(),showDescriptionArea:this._bandData.getBandCore().supportMemberProfileDescription(),myProfileUrl:c.GLOBAL_MY_PROFILE.makeUrl(),isShowBirthdayArea:e,isShowCellphoneArea:t,openCellphoneOptions:a,birthdayText:v.makeBirthdayLabel(this.model.get("birthday"),this.model.get("isLunar")),cellphoneText:r,showMyProfileLink:e||t,authorNameMaxLength:P.AUTHOR_NAME_MAX_LENGTH,isOpenBirthday:this.model.get("isOpenBirthday"),isUndefinedOpenBirthday:this.model.isUndefinedOpenBirthday(),isUndefinedOpenCellphoneRoles:this.model.isUndefinedOpenCellphoneRoles(),canEditBirthdayOpenOption:this._bandData.canEditBirthdayOpenOption(),canEditCellphoneOpenOption:this._bandData.canEditCellphoneOpenOption()}},ui:{helpBtn:"._helpBtn",helpWrap:"._helpWrap",imageWrap:"._imageWrap",menuBtn:"._menuBtn",menuWrap:"._menuWrap",fileWrap:"._fileWrap",deletePhotoLink:"._deletePhotoLink",otherProfilesLink:"._otherProfilesLink",nameInput:"._nameInput",descriptionInput:"._descriptionInput",selectOpenCellphoneRoles:"._selectOpenCellphoneRoles",postingWrap:"._postingWrap",postingCheckbox:"._postingCheckbox",confirmBtn:"._confirmBtn",closeBtn:"._closeBtn",useProfileImageAgreementInfo:"._useProfileImageAgreementInfo",selectOpenBirthday:"._selectOpenBirthday",closedBirthdaySet:"._closedBirthdaySet",closedCellphoneSet:"._closedCellphoneSet"},events:{"click @ui.helpBtn":function(){this._toggleLayer(this.ui.helpWrap)},"click @ui.menuBtn":function(){this._toggleLayer(this.ui.menuWrap)},"click @ui.deletePhotoLink":function(e){e.preventDefault(),this._setImage(null)},"click @ui.otherProfilesLink":function(e){e.preventDefault(),this._openOtherProfiles()},"click @ui.confirmBtn":"_setMemberProfile","click @ui.closeBtn":"_close",click:"_closeAllLayers","click @ui.closedBirthdaySet":function(){if(this.model.isUndefinedOpenBirthday())return alert(IM("profile.edit.can_not_set_open")),!1},"click @ui.closedCellphoneSet":function(){if(this.model.isUndefinedOpenCellphoneRoles())return alert(IM("profile.edit.can_not_set_open")),!1}},initialize:function(e){this._doNotRefreshPageOnChange=e.doNotRefreshPageOnChange,this._bandData=e.bandData,this._bandNo=this._bandData.getBandNo(),this._profileSetCount=e.profileSetCount,this._profileSetModel=null,this._photo=null,this._image=null,this._personalInfoAgreementData=M.buildPersonalInfoAgreementData()},onRender:function(){this.ui.nameInput.val(o.trim(this.model.get("name"))),this.ui.descriptionInput&&this.ui.descriptionInput.val(o.trim(this.model.get("description"))),this._profileSetCount<2&&this.ui.otherProfilesLink.parent().remove(),this._setImage(this.model.get("profileImageUrl"))},onAttach:function(){this._createProfilePhotoUploader(),this._getPersonalInfoAgreementData(),this.jplSceneEnter(y.CLASSIFIER.SET_USER_BAND_PROFILE,{band_no:this._bandData.getBandNo()})},onBeforeDetach:function(){this._destroyProfilePhotoUploader()},_getPersonalInfoAgreementData:function(){return this._personalInfoAgreementData.fetchAgreementData().then(i.bind((function(e){e.isProfileImageCollectable()||this.getUI("useProfileImageAgreementInfo").show()}),this))},_setValuesWithProfileSetModel:function(e){this._profileSetModel=e,this.ui.nameInput.val(o.trim(e.get("name"))),this._setImage(e.get("profileImageUrl"))},_setValuesWithPhoto:function(e){e&&(this._photo=e,this._setImage(e.url))},_setImage:function(e){var t=!!e;if(t){var n=u.makeGifSupportedProfileUrl(e,A.s276_gif);this.ui.imageWrap.html(O({image:n})).toggleClass("-gifProfileBg",h.isGif(n))}else this.ui.imageWrap.empty().removeClass("-gifProfileBg");this._image=e,this.ui.postingWrap.toggle(this._canPostProfileImageChanging()),this.ui.postingCheckbox.prop("checked",!1),this.ui.deletePhotoLink.parent().toggle(t)},_close:function(e){!0!==e||this._doNotRefreshPageOnChange?this.destroy():window.location.reload()},_setMemberProfile:function(){if(this.ui.nameInput.val()){if(!this._onsubmit){this._onsubmit=!0;var e={bandNo:this.model.get("bandNo"),name:this.ui.nameInput.val(),description:this.ui.descriptionInput?this.ui.descriptionInput.val():null,profileImageUrl:this._image,isOpenBirthday:"true"==this.getUI("selectOpenBirthday").val(),openCellphoneRoles:this.getUI("selectOpenCellphoneRoles").val()};if(this.model.hasDifferenceWith(e)){var n=this.model.hasProfileSetDifference(e),o=this.ui.postingCheckbox.prop("checked");this._makePhotoForPostingIfSizeNotExist().then(i.bind((function(){this.model.updateBandMemberProfile(e,this._profileSetModel,o,this._photo).then(i.bind((function(){this._personalInfoAgreementData.setPersonalInfoAgreements(M.AGREE_TARGET.PROFILE_IMAGE).then(i.bind((function(){n?t.when(m.fetchProfileSets(!0),s.fetchMemberWithBand(this._bandNo)).then(i.bind((function(e,t){e.hasOtherProfiles(t)?this._openBandProfileSetSelectView(e,t):this._close(!0)}),this)):this._close(!0)}),this))}),this))}),this))}else this._close()}}else alert(IM("web.profile.alert.input_name"))},_openBandProfileSetSelectView:function(e,t){var n=g.openLayer({bodyDesc:IM("profile.confirm.apply_other_bands"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")});n.once(g.EVENTS.CONFIRM,i.bind((function(){this._close(),_.openLayer({collection:e,beforeProfileModel:this.model,afterProfileModel:t,doNotRefreshPageOnChange:this._doNotRefreshPageOnChange})}),this)),n.once(g.EVENTS.CANCEL,i.bind((function(){this._close(!0)}),this))},_openOtherProfiles:function(){f.openLayer({profileModel:this.model,bandData:this._bandData}).then(i.bind((function(e){this.listenToOnce(e,"DProfileSetSelectView",(function(e,t){e===f.EVENTS.PROFILE_SET_SELECTED&&this._setValuesWithProfileSetModel(t)}))}),this))},_toggleLayer:function(e){e.is(":visible")||i.defer(i.bind(e.show,e))},_closeAllLayers:function(e){this.isDestroyed()||this.ui.helpWrap.is(e.target)||this.ui.helpWrap.find(e.target).length>0||(this.ui.helpWrap.hide(),this.ui.menuWrap.hide())},_extractFileData:function(e){var t=new FileReader;t.onload=i.bind((function(e){return e.target.result}),this),t.readAsDataURL(e)},_createProfilePhotoUploader:function(){this._destroyProfilePhotoUploader(),this._profilePhotoUploader=d.createProfilePhotoUploader(this.ui.fileWrap,{autoUpload:!1}),this.listenTo(this._profilePhotoUploader,b.SELECT_FILES,(function(e){if(e.files[0].type.indexOf("gif")>-1)return this._profilePhotoUploader.setContinueAutoUpload(),!1;this._profilePhotoUploader.loadFileReaderResize(e.files[0]).then(i.bind((function(e){var t={title:IM("web.upload.title.profile_photo"),cropOptions:{}},n=L.build(e,t);this.listenTo(n,"crop:complete",(function(e){n.destroy(),B.uploadDataUriImage(e).then(i.bind((function(e){this._setValuesWithPhoto(e)}),this))})),this.listenTo(n,"crop:cancel",(function(){n.destroy()}),this)}),this))})),this.listenTo(this._profilePhotoUploader,b.UPLOAD_COMPLETE,(function(e){this._setValuesWithPhoto(i.first(i.propertyOf(e)("resultList")))}))},_destroyProfilePhotoUploader:function(){this._profilePhotoUploader&&(this._profilePhotoUploader.destroy(),this._profilePhotoUploader=null)},_makePhotoForPostingIfSizeNotExist:function(){var e=t.Deferred();if(!this.ui.postingCheckbox.prop("checked")||null==this._image)return e.resolve();if(this._photo&&this._photo.height&&this._photo.width)return e.resolve();var n=new Image,o=t(n);return o.on("load",i.bind((function(){this._photo={url:this._image,width:n.width,height:n.height},o.off(),e.resolve()}),this)),n.src=this._image,e.promise()},_canPostProfileImageChanging:function(){return!(!this._bandData.canPostMyProfileChanged()||null==this._image)&&o.trim(this._image)!=o.trim(this.model.get("profileImageUrl"))}});return w.openLayer=function(e){var n=e.bandNo,o=l.createBandMemberProfileEditModel({},n),a=t.when(m.fetchProfileSetCount(),o.fetchBandMember()).then((function(t){return new w(i.extend({bandData:e.bandData,model:o,profileSetCount:t},e))}));p.openPromiseView(a,!1,{width:380,height:446})},w}.call(t,n,t,e))||(e.exports=i)},1292:function(e,t){e.exports='<div class="lyContent -w380 _wrap">\n    <header class="modalHeader -noTitlebar -profile">\n        <h1 class="title gPat14 gPal9"><%= isPageProfileTitle ? IM(\'page_band.profile.layer.title\') : IM(\'web.profile.layer.title\') %></h1>\n        <p class="desc gMal10"><%- bandName %></p>\n        <% if (showProfileDescription) { %>\n        <dl class="uHelpGuide -w330">\n            <dt><button type="button" class="_helpBtn"><span class="gSrOnly"><%= IM(\'web.profile.btn.help\') %></span></button></dt>\n            <dd class="_helpWrap"><strong class="title"><%= IM(\'web.profile.help.title\') %></strong>\n                <%= IM(\'web.profile.help.description\') %>\n            </dd>\n        </dl>\n        <% } %>\n    </header>\n    <div class="modalBody">\n        <div class="modalContentWrap">\n            <div class="chooseProfilePicture">\n                <div class="profileWrap">\n                <span class="uProfile -size140 -border">\n                    <span class="profileInner _imageWrap">\n                    </span>\n                </span>\n                    <button class="photoSubmit _menuBtn"><span class="gSrOnly"><%= IM(\'web.profile.label.edit\') %></span></button>\n                    <div class="lyMenu _menuWrap" style="display:none;">\n                        <ul>\n                            <li><label class="_fileWrap"><%= IM(\'profile.choose_profile_image\') %><input type="file" accept="image/*" name="attachment"></label></li>\n                            <li><a href="#" class="_deletePhotoLink"><%= IM(\'profile.delete_photo\') %></a></li>\n                            <li><a href="#" class="_otherProfilesLink"><%= IM(\'profile.view_other_profiles\') %></a></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div class="uInput">\n                <label for="name_<%- vid %>" class="gSrOnly"><%= IM(\'web.profile.label.name\') %></label>\n                <input class="_nameInput" type="text" id="name_<%- vid %>" placeholder="<%- IM(\'web.profile.placeholder.input_name\') %>" maxlength="<%= authorNameMaxLength %>" value="<%- name %>">\n                <span class="border"></span>\n            </div>\n            <% if (showDescriptionArea) { %>\n            <div class="uInput gMat8">\n                <label for="description_<%- vid %>" class="gSrOnly"><%= IM(\'web.profile.label.desc\') %></label>\n                <input class="_descriptionInput" type="text" id="description_<%- vid %>" placeholder="<%- IM(\'web.profile.placeholder.input_desc\') %>" maxlength="50" value="<%- description %>">\n                <span class="border"></span>\n            </div>\n            <% } %>\n            <div class="profileOptionBox gMat9">\n                <ul class="profileOptionList">\n                    <% // 생일 공개 설정 %>\n                    <% if(canEditBirthdayOpenOption) { %>\n                    <li class="profileOptionItem">\n                    <% if (_.isEmpty(birthdayText)) { %>\n                        <label class="flexList">\n                            <div class="text">\n                                <%= IM(\'web.profile.label.open_birthday\') %>\n                                <p class="pText -lightGray2 gFs13 gPal1"><%= IM(\'profile.edit.desc.no_birthday\') %></p>\n                            </div>\n                        </label>\n                    <% } else { %>\n                        <label class="flexList _closedBirthdaySet">\n                            <div class="text">\n                                <%= IM(\'web.profile.label.open_birthday\') %>\n                                <p class="pText -lightGray2 gFs13 gPal1"><%= birthdayText %></p>\n                            </div>\n                            <div class="etc gMat-2">\n                                <div class="uSelect -h32 -bg -block gColorBk2" style="min-width:105px">\n                                    <select id="memberBirthday" class="_selectOpenBirthday" <% if(isUndefinedOpenBirthday){ %>disabled=\'disabled\'<% } %>>\n                                        <option value="true" <% if (isOpenBirthday) { %> selected<% } %>><%- IM(\'profile.edit.birthday.open_text\') %></option>\n                                        <option value="false" <% if (isUndefinedOpenBirthday || !isOpenBirthday) { %> selected<% } %>><%- IM(\'profile.edit.birthday.close_text\') %></option>\n                                    </select>\n                                </div>\n                            </div>\n                        </label>\n                    <% } %>\n                    </li>\n                    <% } %>\n\n                    <% // 휴대폰 공개 범위 설정 %>\n                    <% if(canEditCellphoneOpenOption) { %>\n                    <li class="profileOptionItem">\n                        <% if (_.isEmpty(cellphoneText)) { %>\n                            <label class="flexList">\n                                <div class="text">\n                                    <%= IM(\'profile.edit.label.open_cellphone\') %>\n                                    <p class="pText -lightGray2 gFs13"><%= IM(\'profile.edit.desc.no_cellphone\') %></p>\n                                </div>\n                            </label>\n                        <% } else { %>\n                            <label class="flexList _closedCellphoneSet">\n                                <div class="text">\n                                    <%= IM(\'profile.edit.label.open_cellphone\') %>\n                                    <p class="pText -lightGray2 gFs13"><%= cellphoneText %></p>\n                                </div>\n                                <div class="etc gMat-2">\n                                    <div class="uSelect -h32 -bg -block gColorBk2" style="min-width:105px">\n                                        <select id="memberCellphone" class="_selectOpenCellphoneRoles" <% if(isUndefinedOpenCellphoneRoles){ %>disabled=\'disabled\'<% } %>>\n                                        <% if(isUndefinedOpenCellphoneRoles){ %>\n                                        <option value=""><%- IM(\'profile.edit.label.open_cellphone.setting_permission.system_closed\') %></option>\n                                        <% } else {%>\n                                        <% _.each(openCellphoneOptions, function(openCellphoneOption) { %>\n                                            <option value="<%- openCellphoneOption.value %>" <% if (openCellphoneOption.selected) { %> selected<% } %>><%= openCellphoneOption.label %></option>\n                                        <% }) %>\n                                        <% } %>\n                                        </select>\n                                    </div>\n                                </div>\n                            </label>\n                        <% } %>\n                    </li>\n                    <% } %>\n\n                    <li class="profileOptionItem _postingWrap">\n                        <label for="posting_<%- vid %>" class="flexList">\n                            <span class="etc">\n                                <span class="uCheck -checkbox -noLabel">\n                                    <input type="checkbox" id="posting_<%- vid %>" class="checkInput _postingCheckbox">\n                                    <span class="checkLabel">\n                                        <span class="shape"></span>\n                                    </span>\n                                </span>\n                            </span>\n                            <span class="text"><%= IM(\'profile_layer.label.share_profile_image_changed_post\') %></span>\n                        </label>\n                    </li>\n                </ul>\n                <% if (showMyProfileLink) { %>\n                <p class="sDesc -tLine gMat9 gPat7"><%= IM(\'web.profile.txt.info_edit\', {settingUrl: myProfileUrl}) %></p>\n                <% } %>\n\n                <% // 개인정보 동의에 대한 문구 추가 %>\n                <p class="sDesc _useProfileImageAgreementInfo" style="display: none;">\n                    <span class="descInfoTxt"><%= IM("profile.edit.use_profile_image.agree_description") %></span>\n                </p>\n            </div>\n        </div>\n\n    </div>\n    <footer class="modalFooter">\n        <button type="submit" class="uButton -confirm -sizeL _confirmBtn"><%= IM(\'web.profile.btn.submit\') %></button>\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><span class="gSrOnly"><%= IM(\'ui.label.close_layer\') %></span></button>\n    </footer>\n</div>'},1293:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(4),a=n(170),r=n(57),s=n(1294),l=n(537),d=n(507),c=n(35),u=n(1614),h=n(16),A=n(668);return n(202),o.Object.extend({initialize:function(e){this._initUploadUnitOption(e),this._initFileApi(this._removeNeedlessOption(e)),this._localFileProcessingPromise=t.Deferred().resolve()},onDestroy:function(){this.el&&(this.el.fileapi("abort"),this.el.fileapi("destroy"),this._inputTag.off(),this._inputTag.removeAttr("aria-disabled"),this.el.find("span:has(object)").remove(),this._removeFlashNode()),this.off(),this.el=null,this._destroyProgressBarView()},setOption:function(e){for(var t in this._initUploadUnitOption(e),e=this._removeNeedlessOption(e))e.hasOwnProperty(t)&&this.el.fileapi("option",t,e[t])},cancelUpload:function(){this.trigger(d.UPLOAD_COMPLETE,{resultList:this._uploadResult,photoUpload:this._photoUpload,videoUpload:this._videoUpload,cancelled:!0}),this.el&&this.el.fileapi("abort"),this._reset()},resume:function(e){e.event.widget.add(e.files)},resetUploader:function(){this._reset()},uploadFiles:function(e,t){if(e){i.isArray(e)||(e=[e]),t&&this.el.fileapi("option","data",t);var n=this._getWidget();n.add(e),n.active||n.options.autoUpload||n.upload()}},removeFile:function(e){if(e){var t=this._getWidget(),n=t?t.xhr:null;n&&n.remove(e),t&&t.remove(e)}},getOption:function(){return this.el&&this.el.data("fileapi")?i.clone(this.el.data("fileapi").options):{}},setValidators:function(e){this._validators=e},setShowProgress:function(e){this._showProgress=e},setContinueAutoUpload:function(){this.el.fileapi("option","autoUpload",!0)},_initUploadUnitOption:function(e){this.el=t(e.el),this._initAutoUpload=!!e.autoUpload,this._progressBarTitle=e.title||"",this._showProgress=e.showProgress||!1,this._photoUpload=1==e.photoUpload,this._videoUpload=1==e.videoUpload,this._skinColor=e.skinColor,this._readPhotographedAt=e.readPhotographedAt||!1,this.setValidators(e.validators||[])},_removeNeedlessOption:function(e){return i.omit(e,(function(e,t,n){return i.contains(["title","showProgress","validators"],t)}))},_initFileApi:function(e){var n=t.extend({multiple:!1,paramName:"attachment",maxSize:0,maxFiles:0,urlCache:!0,duplicate:!0,fileInputTitle:e.fileInputTitle||IM("web.postdetail.btn.add"),headerPopulator:function(e){var t=c.createMd(e.url);if(null!=t){var n=e.headers||{};n.md=t,e.headers=n}}},e,{clearOnSelect:!0,onClickInput:i.bind((function(e,t){this.trigger(d.INPUT_CLICK,{event:e,originalClickEvent:t})}),this),onSelect:i.bind((function(e,t){if(this.el.fileapi("option","autoUpload",!1),!this._validateFiles(t.files))return this._reset(),!1;this._initAutoUpload&&this.el.fileapi("option","autoUpload",this._initAutoUpload),this.trigger(d.SELECT_FILES,{all:t.all,duplicate:t.duplicate,files:t.files,other:t.other,photoUpload:this._photoUpload,videoUpload:this._videoUpload,event:e})}),this),onBeforeUpload:i.bind((function(e,t){if(!this._validateFiles(t.files))return this._reset(),!1;var n={files:t.files,continueUpload:!0};this.trigger(d.BEFORE_UPLOAD,n)}),this),onUpload:i.bind((function(e,t){this._showProgressBarView(),this._uploading=!0,this._uploadResult=[]}),this),onProgress:i.bind((function(e,t){}),this),onComplete:i.bind(this._onComplete,this),onFilePrepare:i.bind((function(e,t){this.trigger(d.FILE_PREPARE,{event:e,filePrepareInfo:t})}),this),onFileUpload:i.bind((function(e,t){}),this),onFileProgress:i.bind((function(e,t){var n={file:t.file,files:t.files,index:i.indexOf(t.files,t.file),fileLoadedSize:t.loaded,fileSize:t.total};t.file&&(this._showProgress&&this._progressBarView.changeProgressInfo({currentFileIndex:n.index,currentFileLoadedSize:n.fileLoadedSize,currentFileName:n.file.name,currentFileSize:n.fileSize,totalFileCount:n.files.length}),this.trigger(d.FILE_PROGRESS,n))}),this),onFileComplete:i.bind((function(e,n){if("abort"!=n.statusText)if(1==n.result.result_code){var o=n.file.type.indexOf("gif")>-1,s=n.file.type.indexOf("video")>-1;r.isWindows8Or8_1IE()&&(s=null!=n.result.result_data.playtime,o=n.result.result_data.id.indexOf(".gif")>-1);var l=t.extend({},n.result.result_data,{name:n.file.name,isGif:o,isVideo:s,isGifVideo:1==n.result.result_data.is_video,fileId:n.file.fileId});delete l.is_video;var c=t.Deferred().resolve();this._readPhotographedAt&&n.file.type.indexOf("image")>-1&&(c=t.Deferred((function(e){u.getData(n.file,(function(){var t=n.file.exifdata,o=h(t&&t.DateTimeOriginal,"YYYY:MM:DD HH:mm:ss"),a=o.isValid()?o.valueOf():void 0;a&&i.extend(l,{photographedAt:a}),e.resolve()}))}))),c=c.then(i.bind((function(){this._uploadResult.push(l),this.trigger(d.FILE_COMPLETE,n.file,l)}),this)),this._localFileProcessingPromise=t.when(this._localFileProcessingPromise,c)}else{if(200==n.result.result_code){var p="";(n.file||n.file.name)&&(p=n.file.name),A.openSimpleAlert(p+" "+IM("web.upload.noui.alert.failed"))}else if(300==n.result.result_code)return alert(IM("web.noui.alert.session_expired")),void a.goRefreshFallback();n.result.result_data||(n.result.result_data={}),this.trigger(d.FILE_ERROR,n.file,n.result.result_data?n.result.result_data.message:"")}}),this)});this._inputTag=this.el.find("input[type=file]"),1==n.multiple?this._inputTag.attr("multiple","multiple"):this._inputTag.removeAttr("multiple"),this._inputTag.attr("title",n.fileInputTitle),this.el.addClass("js-fileapi-wrapper"),this.el.fileapi(n),this._inputTag.on("click",i.bind((function(){this._inputTag.val("")}),this))},_showProgressBarView:function(){this._showProgress&&!this._uploading&&(this._destroyProgressBarView(),this._progressBarView=s.openDProgressBarView(this._progressBarTitle,this._skinColor),this.listenToOnce(this._progressBarView,"progressBar:cancelUpload",(function(){this.cancelUpload()})))},_destroyProgressBarView:function(){this._progressBarView&&this._progressBarView.destroy()},_onComplete:function(e,t){this._destroyProgressBarView(),"abort"!=t.statusText?this._localFileProcessingPromise.then(i.bind((function(){this._asyncCompleteProcess()}),this)):this._reset()},_validateFiles:function(e){var t=[];if(this.trigger(d.BEFORE_VALIDATE,t),!l.BROWSER_VALIDATOR())return!1;if(i.isEmpty(t)&&(t=this._validators),i.isEmpty(t))return!0;if(i.isEmpty(e))return!1;for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0},_asyncCompleteProcess:function(){i.isEmpty(this._uploadResult)||this.trigger(d.UPLOAD_COMPLETE,{resultList:this._uploadResult,photoUpload:this._photoUpload,videoUpload:this._videoUpload}),this._reset()},_reset:function(){this._uploadResult=[],this._uploading=!1,this.el&&(FileAPI.reset(this._inputTag),this._inputTag=this.el.find("input[type=file]"),this._inputTag.val(""),this._getWidget().clear(!0)),this.trigger(d.RESET)},_getWidget:function(){return this.el.fileapi("widget")},_removeFlashNode:function(){if(this._inputTag&&0!=this._inputTag.length){var e=i.find(this._inputTag[0].attributes,(function(e){if("object"!=typeof e||!e.nodeName)return!1;var t=e.nodeName;return/fileapi/.test(t)}));null!=e&&this._inputTag.removeAttr(e.nodeName)}},loadFileReaderResize:function(e,n){n=n||1920;var o=new FileReader,a=new Image,r=document.createElement("canvas"),s=t.Deferred();return o.onload=i.bind((function(e){a.onload=function(){var e=a.width,t=a.height;e>t?e>n&&(t*=n/e,e=n):t>n&&(e*=n/t,t=n),r.width=e,r.height=t,r.getContext("2d").drawImage(a,0,0,e,t);var i=r.toDataURL("image/jpeg");s.resolve(i)},a.src=e.target.result})),o.onerror=i.bind((function(){s.reject()}),this),o.readAsDataURL(e),s}})}.call(t,n,t,e))||(e.exports=i)},1294:function(e,t,n){var i,o;i=[n(2),n(0),n(6),n(4),n(1295),n(486)],void 0===(o=function(e,t,n,i,o,a){var r=i.View.extend({tagName:"section",className:"lyWrap",template:t.template(o),attributes:{"data-viewname":"DProgressBarView",style:"display:none;"},ui:{totalProgressBar:"[data-uiselector=totalProgressBar]",totalProgressBarArea:"[data-uiselector=totalProgressBarArea]",singleProgressBar:"[data-uiselector=singleProgressBar]",uploadCancelButton:"[data-uiselector=uploadCancelButton]",currentFilePercentSpan:"[data-uiselector=currentFilePercentSpan]",currentFileNameSpan:"[data-uiselector=currentFileNameSpan]",totalFileIndexSpan:"[data-uiselector=totalFileIndexSpan]"},events:{"click @ui.uploadCancelButton":function(){return this.trigger("progressBar:cancelUpload"),this.destroy(),!1}},changeProgressInfo:function(e){if(!this.isDestroyed()&&this.isAttached()&&this.model.isProgressChanged(e)){var t=parseInt(this.ui.singleProgressBar.parent().css("width"),10),n=parseInt(this.ui.singleProgressBar.css("width"),0),i=parseInt(100*n/t,10);this.model.setProgressInfo(e,i);var o=this.model.getCurrentFileProgressPercent();if(!isNaN(o)){this.$el.show(),this.model.getTotalFileCount()>1&&this.ui.totalProgressBarArea.show(),this.ui.totalFileIndexSpan.html('<strong class="sf_color">'+(this.model.getCurrentFileIndex()+1)+"</strong>/"+this.model.getTotalFileCount()),this.ui.currentFileNameSpan.text(this.model.getCurrentFileName());var a=parseInt(o,10)+"%";this.ui.currentFilePercentSpan.text(a),this.ui.singleProgressBar.css("width",a),this.ui.totalProgressBar.css("width",parseInt(this.model.getTotalProgressPercent(),10)+"%")}}}});return r.Model=n.Model.extend({setProgressInfo:function(e,n){this._isEqualFileIndex(e)||(n=0),this.set(t.extend(e,{exPercent:n}))},isProgressChanged:function(e){return!this._isEqualFileIndex(e)||e.currentFileLoadedSize>this.getCurrentFileLoadedSize()},_isEqualFileIndex:function(e){return e.currentFileIndex==this.getCurrentFileIndex()},getCurrentFileIndex:function(){return this.get("currentFileIndex")},getCurrentFileLoadedSize:function(){return this.get("currentFileLoadedSize")},getExPercent:function(){return this.get("exPercent")},getCurrentFileSize:function(){return this.get("currentFileSize")},getTotalProgressPercent:function(){return(this.getCurrentFileIndex()+1)/this.getTotalFileCount()*100},getCurrentFileProgressPercent:function(){if(0==this.getCurrentFileSize())return 0;var e=parseInt(this.getCurrentFileLoadedSize()/this.getCurrentFileSize()*100,10);if(e<90)return e;var n=this.getExPercent();if(0==n)return t.random(90,99);var i=Math.max(Math.min(e,99),n);return t.random(i,99)},getTotalFileCount:function(){return this.get("totalFileCount")},getCurrentFileName:function(){return this.get("currentFileName")}}),r.openDProgressBarView=function(e,t){var n=new r.Model({title:e,skinColor:t||!1}),i=new r({model:n});return a.openWithoutHiding(i),i},r}.apply(t,i))||(e.exports=o)},1295:function(e,t){e.exports='<div class="lyContent -w360">\n    <header class="header">\n        <h1 class="title"><%= title%></h1>\n    </header>\n\n    <div class="main">\n        <div class="progress<%if(skinColor){%> <%=skinColor%><%}%>">\n            <div data-uiselector="totalProgressBarArea" class="inner" style="display: none;">\n                <p class="fileName"><%- IM(\'uploading\') %></p>\n                <span class="fileBy" data-uiselector="totalFileIndexSpan"></span>\n                <div class="progressBar"><div class="bar sf_bg" data-uiselector="totalProgressBar" style="width:0%;"></div></div>\n            </div>\n\n            <div class="inner">\n                <p class="fileName" data-uiselector="currentFileNameSpan"></p>\n                <span class="fileBy" data-uiselector="currentFilePercentSpan"></span>\n                <div class="progressBar"><div class="bar sf_bg" data-uiselector="singleProgressBar" style="width:0%;"></div></div>\n            </div>\n        </div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel" data-uiselector="uploadCancelButton"><%- IM(\'ui.label.cancel\') %></button>\n    </footer>\n</div>\n'},1296:function(e,t){e.exports='<div class="lyContent -w380">\n    <% if (joining) { %>\n        <% if (band.showBandTermAsPage()) { %>\n        <header class="header">\n            <% if(showSubscribeForEditProfile) { %>\n            <h1 class="title"><%- band.name %></h1>\n            <% } else { %>\n            <h1 class="title"><%= nl2br(IM(\'profile.profile_sets_layer.header_page.desc\')) %></h1>\n            <% } %>\n        </header>\n        <% } else { %>\n        <header class="header -subDescType">\n            <h1 class="title"><%- band.name %></h1>\n            <p class="desc"><%= IM(\'profile.profile_sets_layer.header.desc\') %></p>\n        </header>\n        <% } %>\n    <% } else { %>\n    <header class="header">\n        <h1 class="title"><%- IM(\'profile.profile_sets_layer.header.title\') %></h1>\n    </header>\n    <% } %>\n\n    <div class="main -tSpaceNone">\n        <% if (showSubscribeForEditProfile) { %>\n        <div class="topNoticeBar gMar-20 gMal-20">\n            <p class="sDesc gMat0"><%- IM(\'profile.profile_sets_layer.msg_subscribe_for_edit_profile\') %></p>\n        </div>\n        <% } %>\n        <div class="rScroll -h360">\n            <ul class="listLine">\n                <% _.each(items, function(item, index) { %>\n                <li class="tLine">\n                    <label for="uCheck_<%- cid %>_<%- index %>" class="flexList">\n                        <span class="thumb">\n                            <span class="uProfile -size40">\n                                <span class="profileInner <%- item.profileInnerClass %>">\n                                    <% if (item.profileImageUrl) { %>\n                                    <img src="<%- item.profileImageUrl %>" width="40" height="40" alt="<%- IM(\'photo\') %>">\n                                    <% } %>\n                                </span>\n                            </span>\n                        </span>\n                        <span class="text -ellipsis"><%- item.name %></span>\n                        <span class="etc">\n                            <span class="uCheck -checkbox -noLabel">\n                                <input type="radio" id="uCheck_<%- cid %>_<%- index %>" class="checkInput _radio" name="uCheck_<%- cid %>" value="<%- item.userProfileSetId %>" <%= (index === 0) ? \'checked\': \'\' %>>\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </span>\n                    </label>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n        <% if (joining) { %>\n        <div class="newProfile">\n            <button type="button" class="addProfile _newProfileBtn"><%= IM(\'profile.profile_sets_layer.main.new_profile\') %></button>\n        </div>\n\n            <% if (band.supportDefaultProfileForPage()) { %>\n        <div class="checkOption gMat13 gPat15 -borderTop">\n            <label class="inputLabel">\n                <span class="inputCheck">\n                <span class="uCheck -checkbox -noLabel">\n                    <input type="checkbox" id="uCheck_<%- cid %>_setDefaultProfileSetOfPageCheck" class="checkInput _setDefaultProfileSetOfPageCheck" name="setDefaultProfileSetOfPage" checked>\n                    <span class="checkLabel">\n                        <span class="shape "></span>\n                    </span>\n                </span></span>\n                <span class="lableText"><%-IM("profile.profile_sets_layer.label.set_default_profile_set_of_page")%></span>\n            </label>\n        </div>\n            <% } %>\n\n        <% } %>\n\n        <% if (showAdAgreement) { %>\n        <p class="bizAdDesc"><%= band.showBandTermAsPage() ? IM(\'bandjoin.desc.ad_agreement.page_band\') : IM(\'bandjoin.desc.ad_agreement.group_band\') %></p>\n        <% } %>\n    </div>\n\n    <footer class="footer<%= !joining ? \' -tLine\' : \'\' %>">\n        <button type="button" class="uButton -confirm -sizeL _confirmBtn">\n            <%= joining ? joinButtonLabel : IM(\'ui.label.confirm\') %>\n        </button>\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><span class="gSrOnly"><%= IM(\'ui.label.close_layer\') %></span></button>\n    </footer>\n</div>'},1297:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),o=n(1298),a=(n(518),n(486)),r=n(82),s=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandProfileSetSelectView"},template:t.template(o),serializeData:function(){var e=r.make(this._afterProfileModel.get("profileImageUrl"),r.TYPE.s276);return{cid:this.cid,profileImageUrl:e,profileInnerClass:r.makeProfileInnerClass(e),name:this._afterProfileModel.get("name"),items:this._items}},ui:{checkbox:"._checkbox",confirmBtn:"._confirmBtn",closeBtn:"._closeBtn"},events:{"change @ui.checkbox":"_toggleConfirmBtn","click @ui.confirmBtn":"_submit","click @ui.closeBtn":"_close"},initialize:function(e){this._doNotRefreshPageOnChange=e.doNotRefreshPageOnChange,this._beforeProfileModel=e.beforeProfileModel,this._afterProfileModel=e.afterProfileModel,this._items=this.collection.getBandProfileSets(this._beforeProfileModel,this._afterProfileModel),t.each(this._items,(function(e){e.profileImageUrl=r.make(e.profileImageUrl,r.TYPE.s75),e.profileInnerClass=r.makeProfileInnerClass(e.profileImageUrl),e.bandProfileImageThumbnail=r.make(e.bandProfileImage,r.TYPE.s75),e.cover=r.makeMediumSquareCoverUrl(e.cover)}))},onRender:function(){this._toggleConfirmBtn()},_toggleConfirmBtn:function(){this.ui.confirmBtn.prop("disabled",0===this.ui.checkbox.filter(":checked").length)},_close:function(){this._doNotRefreshPageOnChange?this.destroy():window.location.reload()},_submit:function(){var e=t.map(this.ui.checkbox.filter(":checked"),(function(e){return parseInt(e.value)}));this._onsubmit||(this._onsubmit=!0,t.isEmpty(e)||this.collection.setProfileSet(this._afterProfileModel,e).then(t.bind(this._close,this),t.bind((function(){this._onsubmit=!1}),this)))}});return s.openLayer=function(e){a.open(new s(e))},s}.call(t,n,t,e))||(e.exports=i)},1298:function(e,t){e.exports='<div class="lyContent -w380">\n    <header class="gSrOnly">\n        <h1><%= IM(\'profile.band_profile_set_layer.main.sub_title\') %></h1>\n    </header>\n\n    <div class="main">\n        <div class="profileInfo -tSpace24">\n            <p class="gTaC">\n                <span class="uProfile -size90 -border">\n                    <span class="profileInner <%- profileInnerClass %>">\n                        <% if (profileImageUrl) { %>\n                        <img src="<%- profileImageUrl %>" width="90" height="90" alt="<%- IM(\'photo\') %>">\n                        <% } %>\n                    </span>\n                </span>\n            </p>\n\n            <div class="userInfo -lrSpaceNone">\n                <h1 class="userName"><%- name %></h1>\n                <strong class="subTitle"><%= IM(\'profile.band_profile_set_layer.main.sub_title\') %></strong>\n                <p class="desc"><%= IM(\'profile.band_profile_set_layer.main.desc\') %></p>\n            </div>\n        </div>\n\n        <div class="profileApplyBand">\n            <div class="rScroll -h260">\n                <ul class="listLine">\n                    <% _.each(items, function(item, index) { %>\n                    <li class="tLine">\n                        <label for="uCheck_<%- cid %>_<%- index %>" class="flexList">\n\t\t\t\t\t\t\t\t<span class="thumb">\n                                    <div class="uCoverImage -w40 -border <% if (item.bandProfileImage) { %>-circle<% } %>">\n                                        <span class="coverInner">\n                                            <img src="<%- item.bandProfileImage ? item.bandProfileImageThumbnail : item.cover %>" class="coverImg" alt="<%- IM(\'web.noui.bandcreate.title.band_skin\') %>">\n                                        </span>\n                                    </div>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="text">\n\t\t\t\t\t\t\t\t\t<span class="ellipsis"><%- item.bandName %></span>\n\t\t\t\t\t\t\t\t\t<span class="profileStatus">\n                                        <span class="uProfile -size16">\n                                            <span class="profileInner <%- item.profileInnerClass %>">\n                                                <% if (item.profileImageUrl) { %>\n                                                <img src="<%- item.profileImageUrl %>" width="16" height="16" alt="<%- IM(\'photo\') %>">\n                                                <% } %>\n                                            </span>\n                                        </span>\n\t\t\t\t\t\t\t\t\t\t<%- item.name %>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="etc">\n                                    <% if (item.changeable) { %>\n                                    <span class="uCheck -checkbox -noLabel">\n                                        <input type="checkbox" id="uCheck_<%- cid %>_<%- index %>" class="checkInput _checkbox" value="<%- item.bandNo %>">\n                                        <span class="checkLabel">\n                                            <span class="shape"></span>\n                                        </span>\n                                    </span>\n                                    <% } else { %>\n                                    <span class="gBandColor"><%= IM(\'profile.band_profile_set_layer.main.same_profile\') %></span>\n                                    <% } %>\n\t\t\t\t\t\t\t\t</span>\n                        </label>\n                    </li>\n                    <% }); %>\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <footer class="footer -tLine">\n        <button type="button" class="uButton -confirm -sizeL _confirmBtn"><%= IM(\'ui.label.confirm\') %></button>\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><span class="gSrOnly"><%= IM(\'ui.label.close_layer\') %></span></button>\n    </footer>\n</div>'},1299:function(e,t){e.exports='<div class="lyContent -w380">\n    <header class="header">\n        <h1 class="title"><%- title %></h1>\n    </header>\n\n    <div class="main">\n        <div class="changeBandCover">\n            <div class="imageCropWrap">\n                <div class="imageCrop _cropWrap">\n\n                </div>\n            </div>\n            <div class="fileUpload _btnCamera">\n                <p id="changeBandCover_<%- viewId %>_label" class="desc"><%- IM("crop.label.size_limitation") %></p>\n                <div class="inputFile"> <input type="file" id="changeBandCover_<%- viewId %>" aria-labelledby="changeBandCover_<%- viewId %>_label" class="imageUpload"></div>\n            </div>\n            <% if(isPageBand) { %>\n            <div class="cropNotice">\n                <p class="noticeText"><%= IM("page.profile.upload.crop_info") %></p>\n            </div>\n            <% } %>\n        </div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel _btnCancel"><%- IM("web.ui.button.label.cancel") %></button>\n        <button type="button" class="uButton -confirm _btnComplete"><%- IM("web.ui.button.label.complete") %></button>\n    </footer>\n</div>'},1300:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent" >\n        <header class="header -noTitlebar">\n            <h1 class="title">\n                <% if (isDeleted) { %>\n                    <%= IM("bandsetting.member_join_block.confirm_layer_title") %>\n                <% } else { %>\n                    <%= IM("bandsetting.member_withdrawal.txt.confirm_withdrawal") %>\n                <% } %>\n            </h1>\n        </header>\n\n        <% if (!isDeleted) { %>\n        <div class="main">\n            <ul class="selectArea">\n                <li>\n                    <label for="withdrawal_<%= cid %>" class="uCheck -radio">\n                        <input type="radio" id="withdrawal_<%= cid %>" name="Withdrawal" class="checkInput _inputWithdrawal" value="withdrawal">\n                        <span class="checkLabel">\n                            <span class="shape"></span>\n                            <span class="text"><%= IM("bandsetting.member_withdrawal.label.compulsory_withdrawal") %></span>\n                        </span>\n                    </label>\n                </li>\n                <li>\n                    <label for="withdrawalWithBlock_<%= cid %>" class="uCheck -radio">\n                        <input type="radio" id="withdrawalWithBlock_<%= cid %>" name="Withdrawal" class="checkInput _inputWithdrawal" value="withdrawalWithBlock">\n                        <span class="checkLabel">\n                            <span class="shape"></span>\n                            <span class="text"><%= IM("bandsetting.member_withdrawal.label.compulsory_withdrawal_and_block") %></span>\n                        </span>\n                    </label>\n                </li>\n            </ul>\n        </div>\n        <% } %>\n\n        <footer class="footer">\n            <button type="button" class="uButton -cancel _btnCancel"><%= IM("ui.label.cancel") %></button>\n\n            <% if (isDeleted) { %>\n            <button type="button" class="uButton -confirm _btnConfirm"><%= IM("profile_layer.label.block_join") %></button>\n            <% } else { %>\n            <button type="button" class="uButton -confirm -disabled _btnConfirm"><%= IM("ui.label.confirm") %></button>\n            <% } %>\n        </footer>\n    </div>\n</section>'},1301:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(2),a=n(4),r=n(1302),s=n(1245),l=n(488),d=n(154),c=n(507),u=n(600),h=n(82),A=n(934),p=n(486);n(502);var m={CONFIRM:"CONFIRM"},f=a.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandJoinFormView"},template:t.template(r),templateContext:function(){return{maxAnswerLength:200,bandName:this.model.getBandName(),joinQuestionAsHtml:this.model.getJoinQuestionAsHtml()}},ui:{joinAnswer:"._joinAnswer",confirmBtn:"._confirmBtn",inputHoleBox:"._inputHoleBox",photoUploadArea:"._photoUploadArea",photoInputArea:"._photoInputArea",uploadedPhotoList:"._uploadedPhotoList",closeBtn:"._closeBtn"},events:function(){var e={"click @ui.confirmBtn":function(){if(this._canSubmit()){var e={joinAnswer:i.trim(this.ui.joinAnswer.val())};t.isEmpty(this._joinAnswerImages)||(e.joinAnswerImages=this._joinAnswerImages),this.trigger("DBandJoinFormView",m.CONFIRM,e),this.destroy()}else alert(IM("web.join_application_question.alert.answer"))},"keyup @ui.joinAnswer":function(){this._determineButtonActivation()},"cut @ui.joinAnswer":function(){this._deferredDetermineButtonActivation()},"paste @ui.joinAnswer":function(){this._deferredDetermineButtonActivation()},"focus @ui.joinAnswer":function(){this.ui.inputHoleBox.addClass(l.ELEMENT.ACTIVE)},"blur @ui.joinAnswer":function(){this.ui.inputHoleBox.removeClass(l.ELEMENT.ACTIVE)},"click @ui.closeBtn":"destroy","click @ui.uploadedPhotoList ._photoDeleteButton":function(e){var n=o(e.currentTarget).data("photo-url");this._joinAnswerImages=t.reject(this._joinAnswerImages,t.bind((function(e){return e.url==n}),this)),this.ui.uploadedPhotoList.hide(),this.ui.uploadedPhotoList.empty(),this.ui.photoInputArea.show(),this._determineButtonActivation()}};return e},initialize:function(){this._joinAnswerImages=[]},onAttach:function(){this._bindMentionsInput(),this._bindPhotoUploader()},onBeforeDetach:function(){null!=this._mentionsInput&&(this._mentionsInput.destroy(),this._mentionsInput=null),null!=this._photoUploader&&(this._photoUploader.destroy(),this._photoUploader=null)},_canSubmit:function(){var e=t.isEmpty(i.trim(this.ui.joinAnswer.val())),n=t.isEmpty(this._joinAnswerImages);return!e||!n},_determineButtonActivation:function(){var e=this._canSubmit();this.ui.confirmBtn.prop("disabled",!e).toggleClass(l.ELEMENT.CONFIRM,e).toggleClass(l.ELEMENT.DISABLED,!e)},_deferredDetermineButtonActivation:function(){d.wrapDeferPromise(this).then(t.bind((function(){this._determineButtonActivation()}),this))},_bindMentionsInput:function(){this._mentionsInput=A.buildBandMentionsInput(this.ui.joinAnswer,null,null,null,null,!0)},_bindPhotoUploader:function(){this._photoUploader=u.createSinglePhotoUploader(this.ui.photoUploadArea,{showProgress:!0,autoUpload:!0}),this.listenTo(this._photoUploader,c.UPLOAD_COMPLETE,t.bind((function(e){e&&e.resultList&&this._renderAndAddUploadedPhoto(e.resultList)}),this))},_renderAndAddUploadedPhoto:function(e){if(!this.isDestroyed()&&null!=e&&null!=e[0]){var n=e[0];this._joinAnswerImages.push({url:n.url,width:n.width,height:n.height});var i=n.url,a=h.make(i,h.TYPE.s150),r=o(t.template(s)({thumbnailUrl:a}));r.data("photo-url",i).find("._photoDeleteButton").data("photo-url",i),this.ui.uploadedPhotoList.append(r),r.find("._uploadedPhoto").setLoading(),this.ui.uploadedPhotoList.show(),this.ui.photoInputArea.hide(),this._determineButtonActivation()}}});return f.EVENTS=m,f.openLayer=function(e){var t=new f({model:e});return p.open(t),t},f}.call(t,n,t,e))||(e.exports=i)},1302:function(e,t){e.exports='<div class="lyContent -w380">\n    <header class="modalHeader">\n        <h1 class="title"><%- bandName %> <p class="titleDesc"><%- IM(\'bandjoin.answer_to_join_question\') %></p></h1>\n    </header>\n    <div class="modalBody">\n        <div class="joinQnAArea">\n            <div class="questionBox">\n                <div class="questionText"><%= joinQuestionAsHtml %></div>\n            </div>\n            <div class="answerInputBox gMat10 _inputHoleBox">\n                <div class="answerInputWrap">\n                    <textarea class="_joinAnswer" maxlength="<%- maxAnswerLength %>" placeholder="<%- IM(\'web.application_question.please_answer\') %>" style="width:100%;height:43px;"></textarea>\n\n                    <div class="photoBox _uploadedPhotoList" style="display: none;"></div>\n                    <div class="btnUploadWrap _photoInputArea">\n                        <label class="uploadImg _photoUploadArea"><input type="file" title="<%= IM(\'profile.choose_profile_image\') %>"></label>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n    <footer class="modalFooter">\n        <button type="button" class="uButton -cancel _closeBtn"><%- IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -disabled _confirmBtn" disabled><%- IM(\'web.band_join.btn.next\') %></button>\n    </footer>\n</div>'},1303:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(4),a=n(188),r=n(179),s=n(169),l=n(569),d=n(1304),c=n(1305),u=n(1306),h=n(82),A=n(172);n(193);var p=null,m=Promise.resolve().then(n.t.bind(null,934,7)).then((function(e){p=e.default})),f=o.Object.extend({initialize:function(e){this._bandNo=e.bandNo,this._selectedBandNo=this._bandNo,this.$el=t(e.el),this._autoCompleteListElParent=e.autoCompleteListElParent,this._offsetAdjustEl=e.offsetAdjustEl,this._autoCompleteListClass=e.autoCompleteListClass||"",this._mentionArray=e.mentionArray,this._preventControlLayerOffset=1==e.preventControlLayerOffset,this._dynamicSearchRequired=1==e.dynamicSearchRequired,this._hideCompleteListOnEmptyQuery=e.hideCompleteListOnEmptyQuery,this._currentMemberType=null,this._disableMention=1==e.disableMention,this.$el.hide(),this.$el.addClass(s.USE_KEYUP_EVENT),this._autoCompleteListTemplate=i.bind(i.template(d),i,{autoCompleteListClass:this._autoCompleteListClass}),this._createMentionsInput(),this._bindEvent()},onDestroy:function(){null!=this.$el&&null!=this.$el.mentionsInput&&(this.$el.mentionsInput("destroy"),this.$el=null)},val:function(e){if("string"!=typeof e)return this.$el.mentionsInput("updateValues"),a.convertToApiContent(this.$el.data("messageText")||this.$el.val());var t=a.parseContent(e);this.$el.val(t.text),this.$el.mentionsInput("addMentions",t.mentions),this.$el.trigger("update"),this.$el.mentionsInput("updateValues")},getNotEscapedVal:function(){return this.$el.data("messageText")||this.$el.val()},appendNewMention:function(e,t,n){var i;i=n?A.buildPageProfileMention(t):A.buildBandMemberMention(e,t),this.$el.mentionsInput("appendNewMention",i)},stopMentionsInput:function(){this._disableMention=!0,this.emptyMentionedArray(),this.setHideCompleteListOnEmptyQuery(!0),this.hideAutoCompleteList()},resumeMentionsInput:function(){this._disableMention=!1,this.setHideCompleteListOnEmptyQuery(this._hideCompleteListOnEmptyQuery)},resetMentionInput:function(){this.$el.mentionsInput("reset")},changeSelectedBandInfo:function(e,t){this._selectedBandNo=e,this._changeSelectedBandName(t)},changeMentionArrayAndInputOptions:function(e){this.changeMentionArray(e.mentionArray),this.setDynamicSearchRequired(e.dynamicSearchRequired),this._hideCompleteListOnEmptyQuery=e.hideCompleteListOnEmptyQuery,this._canMentionMemberGroup=e.canMentionMemberGroup,this.setHideCompleteListOnEmptyQuery(this._hideCompleteListOnEmptyQuery)},changeMentionArray:function(e){null!=this.$el&&null!=this.$el.mentionsInput&&(this._mentionArray=e)},injectBandData:function(e){null!=this.$el&&null!=this.$el.mentionsInput&&(this._messageInputBandData=e,this.changeSelectedBandInfo(e.getBandCore().bandNo,e.getBandCore().name),this.changeCurrentMemberType(e.getCurrentSelectedMemberProfileMemberType()))},setMaxMentionCount:function(e){null!=this.$el&&null!=this.$el.mentionsInput&&null!=e&&this.$el.mentionsInput("changeMaxMentionCount",e)},changeCurrentMemberType:function(e){this._messageInputBandData&&(this._currentMemberType=e,this._canMentionToPageProfile=this._messageInputBandData.getBandCore().supportMentionToPageProfileFor(this._currentMemberType),this.$el.mentionsInput("setPreventHideOnPopulateDropDown",this._messageInputBandData.getBandCore().supportSelectOtherBandOnMentionFor(this._currentMemberType)))},setDynamicSearchRequired:function(e){this._dynamicSearchRequired=e},setHideCompleteListOnEmptyQuery:function(e){null!=this.$el&&null!=this.$el.mentionsInput&&this.$el.mentionsInput("setHideCompleteListOnEmptyQuery",e)},emptyMentionedArray:function(){null!=this.$el&&null!=this.$el.mentionsInput&&this.$el.mentionsInput("emptyMentionedArray")},hideAutoCompleteList:function(){null!=this.$el&&null!=this.$el.mentionsInput&&this.$el.mentionsInput("hideAutoComplete")},isMentionExist:function(){if(null==this.$el||null==this.$el.mentionsInput)return!1;var e=this.$el.getFromMentionInput("getMentionedArray");return!i.isEmpty(e)},_createMentionsInput:function(){if(null!=this.$el&&null!=this.$el.mentionsInput){var e=this.$el.val();this.$el.mentionsInput({minChars:0,elastic:!0,templates:{wrapper:i.template('<div class="mentions-input _prevent_toggle" ></div>'),autocompleteList:this._autoCompleteListTemplate,notMentionedItemSyntax:a.getNotMentionedItemTemplate(),autocompleteListItemAvatar:i.template(c)},onDataRequest:i.bind((function(e,t,n){this._disableMention?n([]):this._asyncSearchMentions(t).then(i.bind((function(e){if(null!=this.$el){this._findTarget$El("._bandSelectionHead").toggle(this._messageInputBandData.getBandCore().supportSelectOtherBandOnMentionFor(this._currentMemberType));var t=this.$el.getFromMentionInput("getMentionedArray"),o=i.find(e,(function(e){return null==i.find(t,(function(t){return e.isSameMentionOnType(t)}))}));n(o?e:t)}}),this))}),this),onHideAutoComplete:i.bind((function(){this._bandSelectRegion&&this._releaseBandSelectStatus()}),this),autoCompleteListElParent:this._autoCompleteListElParent,offsetAdjustEl:this._offsetAdjustEl,defaultProfileImage:r.PROFILE_DEFAULT_R1,skipHideOnBlur:!0,preventControlLayerOffset:this._preventControlLayerOffset,hideCompleteListOnEmptyQuery:this._hideCompleteListOnEmptyQuery,escapeUserInputTags:function(e){return a.escapeUserInputTags(e)}}),this.$el.show(),this.val(e),i.isEmpty(e)||this.$el.mentionsInput("focusCursorToEnd")}},_asyncSearchMentions:function(e){var n=t.Deferred(),o=[];if(!this._dynamicSearchRequired)return o=this._filterListByTypeStr(this._mentionArray,e),n.resolve(o),n;this._lastCallQuery=e;var a=l.debouncedFetchMemberList(this._selectedBandNo,e,this._fetchMemberTimer);this._fetchMemberTimer=a.timer;var r=t.Deferred().resolve([]);return this._canMentionMemberGroup&&(r=l.fetchCachedBandMemberGroups(this._selectedBandNo)),t.when(a.promise,r).then(i.bind((function(t,a){if(this._lastCallQuery==t.query){var r=l.extractMatchingMentionsButEmptyQuery(a,t.query);if(o=l.convertCollectionToMentionArray(t.firstMatchingList,this._getSelectBandNoForMention()),o=l.concatMentionArrayAndSort(r,o),o=this._filterListByTypeStr(o,e),i.isEmpty(o)){var s=l.extractMatchingMentionsButEmptyQuery(a,t.query.slice(0,-1));o=l.convertCollectionToMentionArray(t.secondMatchingList,this._getSelectBandNoForMention()),o=l.concatMentionArrayAndSort(s,o),o=this._filterListByTypeStr(o,e),n.resolve(o)}else n.resolve(o)}}),this)),n},_filterListByTypeStr:function(e,t){if(""==t&&this._canMentionToPageProfile&&this._bandNo==this._selectedBandNo)return[A.buildPageProfileMention(this._messageInputBandData.getBandCore().name,h.makeProfileThumbnailUrl(this._messageInputBandData.getBandCore().profileImage))];var n=i.filter(e,(function(e){return e.getLowerCaseMentionName().indexOf(t.toLowerCase())>-1}));return!i.isEmpty(n)||t.length<=1?n:i.filter(e,(function(e){return e.getLowerCaseMentionName().indexOf(t.slice(0,-1).toLowerCase())>-1}))},_bindEvent:function(){null!=this._autoCompleteListElParent&&this._autoCompleteListElParent.on("click","._selectOtherBandBtn",i.bind((function(){return this._openBandSelectView(),!1}),this))},_openBandSelectView:function(){this._bandSelectRegion=new(o.Region.extend({el:this._autoCompleteListElParent.find("._bandSelectRegion")}));var e=u.buildDMentionBandSelectView(this._bandNo,this._selectedBandNo,this._currentMemberType);this._bandSelectRegion.show(e),this.listenTo(e,u.EVENT.CANCEL_CLICKED,(function(){this._releaseBandSelectStatus(),this.$el.mentionsInput("focusCursorToLastPosition"),this.$el.mentionsInput("checkAndDoSearch"),this.$el.mentionsInput("adjustLayerOffset")})),this.listenTo(e,u.EVENT.BAND_LIST_FETCHED,(function(){this._findTarget$El("._bandSelectionHead").hide(),this._findTarget$El("._mentionTargetList").hide(),this._findTarget$El("._bandSelectArea").show(),this.$el.mentionsInput("adjustLayerOffset")})),this.listenTo(e,u.EVENT.BAND_SELECTED,(function(e,n){var o=t.Deferred().resolve();this._mentionArray=[],(e!=this._bandNo||this._messageInputBandData.canMentionToCurrentBandMember())&&(o=m.then(i.bind((function(){var t=e!=this._bandNo?e:null;return p.fetchMembersAndPopulateMentionsInput(e,this,t,!0)}),this))),o.then(i.bind((function(){null!=this.$el&&null!=this.$el.mentionsInput&&(this._findTarget$El("._targetMentionUl").empty(),this.changeSelectedBandInfo(e,n),this._releaseBandSelectStatus(),this.$el.mentionsInput("focusCursorToLastPosition"),this.$el.mentionsInput("checkAndDoSearch"))}),this))}))},_releaseBandSelectStatus:function(){this._bandSelectRegion&&this._bandSelectRegion.hasView()&&(this._bandSelectRegion.empty(),this._findTarget$El("._bandSelectionHead").show(),this._findTarget$El("._mentionTargetList").show(),this._findTarget$El("._bandSelectArea").hide())},_findTarget$El:function(e){return this._autoCompleteListElParent.find(e)},_getSelectBandNoForMention:function(){return this._bandNo==this._selectedBandNo?null:this._selectedBandNo},_changeSelectedBandName:function(e){this._findTarget$El("._bandNameSpan").html(i.escape(e))}});return f.buildDMentionsInput=function(e){return new f(e)},f}.call(t,n,t,e))||(e.exports=i)},1304:function(e,t){e.exports='<article class="cAutoCompleteList <%- autoCompleteListClass %>">\n    <header class="header _bandSelectionHead">\n        <h1 class="gSrOnly"><%- IM(\'mention.select_other_band\') %></h1>\n        <h2 class="title _bandNameSpan"></h2>\n        <a href="#" class="moreBand _selectOtherBandBtn"><%- IM(\'mention.select_other_band\') %></a>\n    </header>\n\n    <div class="bandSelectArea _bandSelectArea" style="display: none;">\n        <h1 class="gSrOnly"><%- IM(\'bandsetting.member_withdrawal.txt.member_list\') %></h1>\n        <div class="_bandSelectRegion"></div>\n    </div>\n</article>'},1305:function(e,t){e.exports='<% if ( memberGroup ) { %>\n<span class="groupProfileThumb"></span>\n<% } else { %>\n<span class="thumb <%- thumbnailInnerClass %>"><img src="<%- thumbnail %>" /></span>\n<% } %>'},1306:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(4),a=n(1307),r=n(154),s=n(569),l=n(491),d=n(82),c=n(555),u=o.View.extend({tagName:"article",attributes:{"data-viewname":"DMentionBandSelectView",tabindex:0},getTemplate:function(){return this._dataFetched?t.template(a):t.template("")},templateContext:function(){var e=this._convertBandCollectionToViewData();return{canSelectPageBand:this._canSelectPageBand,bandList:e,pageName:this._pageName,pageThumbnail:this._pageThumbnail,bandNo:this._bandNo,isBandListExist:!t.isEmpty(e)}},ui:{eachBandLi:"._eachBandLi",cancelSelection:"._cancelSelection",bandListDiv:"._bandListDiv"},events:{"click @ui.eachBandLi":function(e){var t=i(e.currentTarget);return this._selectBand(t),!1},"click @ui.cancelSelection":function(){return this._cancelSelection(),!1},keydown:function(e){switch(e.keyCode){case c.DOWN:return this._makeActiveBand(this._selectedIndex+1),!1;case c.UP:return this._makeActiveBand(this._selectedIndex-1),!1;case c.TAB:case c.ENTER:return this._selectBand(i(this.ui.eachBandLi[this._selectedIndex])),!1;case c.BACKSPACE:case c.ESCAPE:return this._cancelSelection(),!1}}},initialize:function(e){this._bandNo=e.bandNo,this._selectedBandNo=e.selectedBandNo,this._pageName="",this._pageThumbnail="",this._canSelectPageBand=!1,this._currentMemberType=e.currentMemberType},onDomRefresh:function(){this._dataFetched&&r.wrapDeferPromise(this).then(t.bind((function(){this._makeActiveBand(0),this.$el.focus()}),this))},onAttach:function(){r.wrapActivePromise(i.when(l.getCachedBandData(this._bandNo),s.fetchBandListForMention(this._bandNo,this._selectedBandNo)),this).then(t.bind((function(e,t){this._bandDataCollection=t,this._dataFetched=!0,this._canSelectPageBand=this._bandNo!=this._selectedBandNo&&e.getBandCore().supportMentionToPageProfileFor(this._currentMemberType),this._canSelectPageBand&&(this._pageName=e.getBandName(),this._pageThumbnail=d.makeSmallCoverUrl(e.getBandCore().getBandMainImageUrl())),this.render(),this.trigger(u.EVENT.BAND_LIST_FETCHED)}),this))},_cancelSelection:function(){this.trigger(u.EVENT.CANCEL_CLICKED)},_selectBand:function(e){this.trigger(u.EVENT.BAND_SELECTED,e.data("band-no"),e.data("band-name"),e.data("page-band"))},_makeActiveBand:function(e){var t=i(this.ui.eachBandLi[e]);if(0!=t.length){this.ui.eachBandLi.removeClass("active"),t.addClass("active"),this._selectedIndex=e;var n=t.offset().top-this.ui.bandListDiv.offset().top-32+this.ui.bandListDiv.scrollTop();this.ui.bandListDiv.stop().animate({scrollTop:n},200)}},_convertBandCollectionToViewData:function(){return null==this._bandDataCollection?[]:this._bandDataCollection.map((function(e){return{bandNo:e.getBandNo(),thumbnail:e.getCoverThumbnail(),bandName:e.getBandName()}}))}});return u.EVENT={BAND_LIST_FETCHED:"DMentionBandSelectView_bandListFetched",BAND_SELECTED:"DMentionBandSelectView_bandSelected",CANCEL_CLICKED:"DMentionBandSelectView_cancelClicked"},u.buildDMentionBandSelectView=function(e,t,n){return new u({bandNo:e,selectedBandNo:t,currentMemberType:n})},u}.call(t,n,t,e))||(e.exports=i)},1307:function(e,t){e.exports='<div class="<% if ( canSelectPageBand ) { %>pageBandSelect<% } %>">\n    <div class="header"><a href="#" role="button" class="btnBandSelect _cancelSelection"><%- IM(\'web.copypostwrite.btn.back\') %></a></div>\n\n    <div class="scrollWrap _bandListDiv" >\n<%\nif ( canSelectPageBand ) {\n%>\n        <section>\n            <h1 class="subTitle"><%- IM(\'pageband.page\') %></h1>\n            <ul class="roundThumbList">\n                <li role="button" data-band-no="<%- bandNo %>" data-band-name="<%- pageName %>" data-page-band="true" class="_eachBandLi"><span class="thumb"><img src="<%- pageThumbnail %>" alt=""></span><span class="name"><%- pageName %></span></li>\n            </ul>\n        </section>\n<%\n} if ( isBandListExist ) {\n%>\n        <section>\n            <h1 class="subTitle"><%- IM(\'web.noui.band.title.band\') %></h1>\n            <ul class="coverThumbList">\n<%\n    _.each(bandList, function(eachBand) {\n%>\n                <li role="button" data-band-no="<%- eachBand.bandNo %>" data-band-name="<%- eachBand.bandName %>" data-page-band="false" class="_eachBandLi">\n                    <span class="thumb"><img src="<%- eachBand.thumbnail %>" alt=""></span>\n                    <span class="name"><%- eachBand.bandName %></span>\n                </li>\n<%\n    });\n%>\n            </ul>\n        </section>\n<%\n}\n%>\n    </div>\n</div>'},1308:function(e,t){e.exports='<div class="lyContent -w380 _wrap">\n    <header class="header -noTitlebar -profile">\n        <h1 class="title"><%- joining ? band.name : IM(\'my_profiles.edit_profile\') %></h1>\n        <% if (joining) { %>\n            <% if (band.showBandTermAsPage()) { %>\n        <p class="desc"><%- IM(\'profile.profile_sets_layer.header_page.desc\') %></p>\n            <% } else { %>\n        <p class="desc"><%= IM(\'profile.profile_sets_layer.header.desc\') %></p>\n            <% } %>\n        <% } %>\n    </header>\n    <div class="main">\n        <div class="chooseProfilePicture">\n            <div class="profileWrap">\n                <span class="uProfile -size140 -border">\n                    <span class="profileInner _imageWrap">\n                        \x3c!--<img src="" width="140" height="140" alt="">--\x3e\n                    </span>\n                </span>\n                <button class="photoSubmit _menuBtn"><span class="gSrOnly"><%= IM(\'web.profile.label.edit\') %></span></button>\n                <div class="lyMenu _menuWrap" style="display:none;">\n                    <ul>\n                        <li><label class="_fileWrap"><%= IM(\'profile.choose_profile_image\') %><input type="file" accept="image/*" name="attachment"></label></li>\n                        <li><a href="#" class="_deletePhotoLink"><%= IM(\'profile.delete_photo\') %></a></li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class="uInput">\n            <label for="profileName_<%- cid %>" class="gSrOnly"><%= IM(\'web.profile.label.name\') %></label>\n            <input class="_nameInput" type="text" id="profileName_<%- cid %>" placeholder="<%- IM(\'web.profile.placeholder.input_name\') %>" maxlength="<%= authorNameMaxLength %>">\n            <span class="border"></span>\n        </div>\n        <% if (joining && band.supportDefaultProfileForPage()) { %>\n        <div class="checkOption gMat20 -alignC">\n            <label class="inputLabel">\n                <span class="inputCheck">\n                <span class="uCheck -checkbox -noLabel">\n                    <input type="checkbox" id="uCheck_<%- cid %>_setDefaultProfileSetOfPageCheck" class="checkInput _setDefaultProfileSetOfPageCheck" name="setDefaultProfileSetOfPage" <% if (setDefaultProfileSetOfPage) { %>checked<% } %>>\n                    <span class="checkLabel">\n                        <span class="shape "></span>\n                    </span>\n                </span></span>\n                <span class="lableText"><%-IM("profile.profile_sets_layer.label.set_default_profile_set_of_page")%></span>\n            </label>\n        </div>\n        <% } %>\n        <% // 개인정보 동의에 대한 문구 추가 %>\n        <p class="sDesc gMat13 _useProfileImageAgreementInfo" style="display: none;">\n            <span class="descInfoTxt"><%= IM("profile.edit.use_profile_image.agree_description") %></span>\n        </p>\n    </div>\n    <footer class="footer">\n        <button type="submit" class="uButton -confirm -sizeL _confirmBtn">\n            <%= saveButtonLabel %>\n        </button>\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><span class="gSrOnly"><%= IM(\'ui.label.close_layer\') %></span></button>\n    </footer>\n</div>'},1309:function(e,t){e.exports='<div class="lyContent" style="width:340px">\n    <div class="modalBody">\n        <header class="modalHeader -noTitlebar">\n            <h1 class="title"><%= IM(\'bandjoin.join_application.send_verification_email.txt.input_email_id\') %></h1>\n        </header>\n        <div class="modalContentWrap gMat17">\n            <div class="uInputWrap">\n                <label for="emailId" class="labelText gFs11 gColorBk4"><%= IM(\'bandjoin.join_application.send_verification_email.txt.email_id\') %></label>\n                <div class="uInput -simpleLine -borderColorGr4 -h32 gMat2">\n                    <input type="text" id="emailId" placeholder="<%= IM(\'bandjoin.join_application.send_verification_email.txt.id\') %>" class="gFs14 gPab3" value="<%- verifiedEmailId %>">\n                    <span class="border"></span>\n                </div>\n            </div>\n            <div class="selectBox gMat13">\n                <label class="labelText gFs11 gColorBk4"><%= IM(\'bandjoin.join_application.send_verification_email.txt.domain_address\') %></label>\n                <div class="uSelect -lineColorE6 -bgFd gMat6 <%= domains.length === 1 ? \'-arrowNone\':\'\' %>" style="width:100%">\n                    <select title="<%= IM(\'bandjoin.join_application.send_verification_email.txt.domain_address\') %>" class="gFs15 _selectDomain">\n                        <% _.each(domains, function(domain) { %>\n                        <option value="<%= domain %>" <%= domain === verifiedDomain ? \'selected\':\'\' %>>@<%= domain %></option>\n                        <% }) %>\n                    </select>\n                </div>\n            </div>\n            <p class="sDesc gColorGr1 gMat13"><%= IM(\'bandjoin.join_application.send_verification_email.txt.desc\') %></p>\n        </div>\n    </div>\n    <footer class="modalFooter">\n        <button type="button" class="uButton -cancel _btnCancel"><%= IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton <%= !verifiedEmailId ? \'-disabled\':\'\' %> _btnNext" <%= !verifiedEmailId ? \'disabled="disabled"\':\'\' %>><%= IM(\'ui.label.next\') %></button>\n    </footer>\n</div>'},1310:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1311),a=n(486),r=n(54),s=n(555),l=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DGroupBandJoinEmailVerificationCodeSendLayerView"},template:t.template(o),templateContext:function(){return{email:this._email}},ui:{inputVerificationCode:"#inputVerificationCode",btnCancel:"._btnCancel",btnConfirm:"._btnConfirm",btnResendEmail:"._btnResendEmail",messageAlert:"#messageAlert"},events:{"keydown @ui.inputVerificationCode":function(e){if((e.ctrlKey||e.metaKey)&&e.keyCode===s.KEY_V)return!0;if(t.contains([s.RIGHT,s.LEFT,s.BACKSPACE,s.END,s.HOME],e.keyCode))return!0;var n=String.fromCharCode(e.keyCode);return 0===n.length||!!/\d/.test(n)},"keyup @ui.inputVerificationCode":function(e){e.keyCode!==s.ENTER?this.getUI("inputVerificationCode").val().trim().length>0?this.getUI("btnConfirm").removeClass("-disabled").prop("disabled",!1):(this.getUI("btnConfirm").addClass("-disabled").prop("disabled",!0),this._hideMessageAlert()):this.getUI("btnConfirm").click()},"click @ui.btnCancel":"destroy","click @ui.btnConfirm":function(e){var n=this.getUI("inputVerificationCode").val();r.verifyEmail(this._email,n,!1).done(t.bind((function(e){this.trigger("confirm",e.verification_token),this.destroy()}),this)).fail(t.bind((function(e,t,n){e.result_code&&1007===e.result_code?this._showMessageAlert("inputError",e.result_data.message):e.result_data&&e.result_data.message?alert(e.result_data.message):alert(IM("response.result_data.message"))}),this))},"click @ui.btnResendEmail":function(e){r.sendAuthEmail(this._email).then(t.bind((function(){this._showMessageAlert("guideText",IM("bandjoin.join_application.email_verification.txt.email_sent")),this._hideMessageAlert(3e3),this.getUI("inputVerificationCode").val("")}),this))}},initialize:function(e){this._email=e.email},_showMessageAlert:function(e,t){this.getUI("messageAlert").removeClass().addClass(["gMat9",e].join(" ")).text(t).show()},_hideMessageAlert:function(e){setTimeout(t.bind((function(){this.getUI("messageAlert").fadeOut()}),this),e||0)}});return l.openAsLayer=function(e){var t=new l({email:e});return a.open(t),t},l}.call(t,n,t,e))||(e.exports=i)},1311:function(e,t){e.exports='<div class="lyContent" style="width: 340px">\n    <header class="modalHeader -noTitlebar">\n        <h1 class="gSrOnly"><%= IM(\'bandjoin.join_application.email_verification.code_input_layer.title\') %></h1>\n    </header>\n    <div class="modalBody">\n        <div class="modalContentWrap gTaC">\n            <p class="headingMsg gPat32"><%= IM(\'bandjoin.join_application.email_verification.txt.email_sent\') %></p>\n            <p class="headingMsgDesc gMat5"><%= IM(\'bandjoin.join_application.email_verification.code_input_layer.desc\') %></p>\n            <div class="uInputWrap">\n                <div class="uInput -simpleLine -code -displayInline -borderColorGr4 gMat17 gMab5" style="width: 214px;">\n                    <label class="gSrOnly" for="inputVerificationCode"><%= IM(\'bandjoin.join_application.email_verification.code_input_layer.title\') %></label>\n                    <input type="text" id="inputVerificationCode" minlength="4" maxlength="4">\n                    <span class="border"></span>\n                </div>\n                <p id="messageAlert" style="display: none"></p>\n            </div>\n            <div class="emailIdSent gMat17"><%- email %></div>\n            <button type="button" class="buttonText -pointColor gFs14 gFw6 gMat6 _btnResendEmail"><%= IM(\'bandjoin.join_application.email_verification.code_input_layer.resend_email\') %></button>\n        </div>\n    </div>\n    <footer class="modalFooter">\n        <button type="button" class="uButton -cancel _btnCancel"><%= IM(\'ui.label.prev\') %></button>\n        <button type="button" class="uButton _btnConfirm" disabled="disabled"><%= IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},1312:function(e,t){e.exports='<div class="lyContent" style="width:320px">\n    <header class="modalHeader -noTitlebar -profile">\n        <h1 class="title gPat17 gPal11"><%- IM(\'bandjoin.join_info_show\') %></h1>\n        <p class="desc gMal8"><%- joinDateText %></p>\n    </header>\n\n    <div class="modalBody gMal20 gMar20">\n        <div class="modalContentWrap">\n<% if ( isApplicationExist ) { %>\n            <div class="joinInfoBox gMat14">\n                <p class="infoText"><%- joinApplicaionDateText %></p>\n                <p class="infoText"><%= acceptorHtml %></p>\n            </div>\n<% } %>\n<% if ( isJoinQuestiionExist ) { %>\n            <div class="joinQnaBox gMat12">\n                <div class="title gMat4"><%= joinQuestionAsHtml %></div>\n                <div class="answerInfoBox gMat8">\n                    <div class="answerInfoText"><%= joinAnswerAsHtml %></div>\n<%      if ( isJoinAnswerImagesExist ) { %>\n                    <div class="photoBox gMat9">\n                        <a href="#" class="answerImageItem _showMediaViewer">\n                            <img src="<%- joinAnswerThumbnail %>" class="_joinAnswerImage" alt="answerImage">\n                        </a>\n                    </div>\n<%      } %>\n                </div>\n            </div>\n<% } %>\n        </div>\n    </div>\n\n    <div class="modalFooter <%- modalFooterExtraClass %>">\n<% if ( hasApplicantComment ) { %>\n        <button type="button" class="uButton -confirm _openJoinTimeQnAApp"><%- IM(\'bandjoin.detail_button\') %></button>\n<% } %>\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><span class="gSrOnly"><%- IM(\'ui.label.close_layer\') %></span></button>\n    </div>\n</div>'},1344:function(e,t){e.exports='<%\nif ( !isProfileSelectable ) {\n%>\n<span class="current -border _currentProfile"></span>\n<%\n} else {\n%>\n<button type="button" class="current -multiProfileSelect _profileSelectBtn _currentProfile" aria-haspopup="true" aria-expanded="false"></button>\n\n<ul class="lyProfile _profileListUl">\n<%\n    _.each(inputProfileArray, function(profile) {\n%>\n    <li>\n        <button type="button" class="item _eachProfileBtn <%- profile.activeClass %>" data-member-type="<%- profile.memberType %>">\n\t\t\t<span class="uProfile _selectableProfile" data-member-type="<%- profile.memberType %>"></span>\n            <span class="name"><%- profile.name %></span>\n        </button>\n    </li>\n<%\n    });\n%>\n</ul>\n<%\n}\n%>\n\n'},1345:function(e,t){e.exports='<% if (profileImageUrl) { %>\n<span class="profileInner _profileInner <%- profileInnerClass %>"><img class="_img" src="<%-profileThumbnail%>" width="21" height="21" alt="<%-name%>"></span>\n<% } else { %>\n<span class="profileInner"></span>\n<% } %>\n<% if (description) { %>\n<span class="gSrOnly"><%-description %></span>\n<% } %>'},1346:function(e,t){e.exports='<div class="addContents -commentMedia -photo _inputPhoto">\n    <img src="<%- thumbnailUrl %>" class="_inputPhotoImg"><button type="button" class="delete _deleteAttachedPhoto" ><span class="gSrOnly"><%- IM("web.commentmodify.attach.btn.delete_attach_info") %></span></button>\n</div>'},1750:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(779),a=n(486),r=n(1144),s=n(1104),l=n(52),d=n(1102),c=n(3081),u=n(572),h=n(155),A=n(153),p=n(2087),m=n(1109),f=n(3096),_=n(22),g=i.View.extend({className:"sMessagePop",attributes:{"data-viewname":"DGroupBandJoinQnARoomLayoutView"},template:t.template('<div id="qnAContainer" style="height: 100%"></div><div id="layerContainer"></div>'),regions:{qnAContainer:"#qnAContainer",layerContainerRegion:"#layerContainer"},initialize:function(e){this._bandNo=e.bandNo,this._memberKey=e.memberKey,this._memberAlready=1==e.memberAlready},onAttach:function(){if(!this._bandNo||t.isEmpty(this._memberKey))return alert(IM("error.wrong_request")),void m.closeWindow();this._memberAlready?this._renderMemberQnAHistoryView():this._renderApplicantQnARoom()},_renderApplicantQnARoom:function(){p.fetchApplicationAndSetBandData(this._bandNo,this._memberKey,this).then(t.bind((function(e){if(!e)return this.destroy(),void m.closeWindow();this._bandData=h.get(this._bandNo);var t=d.buildBandApplicationModel(this._bandNo,this._memberKey);t.setApplicationModelFromApi(e.application);var n=!t.isCurrentUserApplicant()||e.band.open_type!=_.OPEN_TYPE.SECRET,i=c.buildDBandJoinApplicantQnARoomView(this._bandData,t,n);this.showChildView("qnAContainer",i),this._decorateSkinColorAndTitle()}),this),t.bind((function(e){e&&1040==e.result_code&&alert(IM("chat.original_message_deleted")),this.destroy(),m.closeWindow()}),this))},_renderMemberQnAHistoryView:function(){p.fetchJoinInfoAndBandData(this._bandNo,this._memberKey,this).then(t.bind((function(e){if(!e||!e.data||!e.data.application)return this.destroy(),void m.closeWindow();var t=l.camelizeKeys(e.data.application);this._bandData=h.get(this._bandNo),this.showChildView("qnAContainer",f.buildDBandMemberJoinQnAHistoryView(this._bandData,this._memberKey,t.joinQuestion,t.joinAnswer,t.joinAnswerImages)),this._decorateSkinColorAndTitle()}),this),t.bind((function(){this.destroy(),m.closeWindow()}),this))},_decorateSkinColorAndTitle:function(){var e=this._bandData.getBandCore();s.setSkinColorToBody(e.getSkinColorClass());var t=new o;this.showChildView("layerContainerRegion",t),a.start(t),u.changePageTitle(r.newRoute(A.GROUP_BAND_APPLICANT_JOIN_QNA),{bandName:e.name})},onBeforeDetach:function(){!this._memberAlready&&this._bandData&&this._bandData.resetApplicationDetail()}});return g.buildDBandJoinQnARoomLayoutView=function(e,t,n){return new g({bandNo:e,memberKey:t,memberAlready:n})},g}.call(t,n,t,e))||(e.exports=i)},2085:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(159),a=n(154),r=n(3085),s=n(3091),l=n(592),d=n(1037),c=(n(2086),n(1058)),u=n(510);n(185);var h,A=i.CollectionView.extend({attributes:{"data-viewname":"DGroupBandJoinQnACommentListView"},childView:r,childViewOptions:function(){return{bandNo:this._bandNo,applicantMemberKey:this._memberKey,alreadyMember:this._alreadyMember,hasOtherUserCommentDeletePermit:this._hasOtherUserCommentDeletePermit}},behaviors:[o],onMessages:(h={},h[o.MSG.APPLICANT_COMMENT_DELETE_COMMENT]=function(e){var t=u.openLayer({bodyDesc:IM("web.commentdetail.comment.confirm.delete_comment")});this.listenToOnce(t,u.EVENTS.CONFIRM,(function(){this.collection.deleteQnAComment(e.commentId)}))},h[o.MSG.APPLICANT_COMMENT_PREVIOUS_MORE]=function(){this.collection.fetchPreviousQnACommentList(),this.collection.fetchUpdatedQnACommentList()},h[o.MSG.APPLICANT_COMMENT_NEXT_MORE]=function(){this.collection.fetchNextQnACommentList()},h[o.MSG.APPLICANT_COMMENT_GO_FIRST_COMMENT]=function(){this.collection.fetchFirstQnACommentList()},h[o.MSG.APPLICANT_COMMENT_CHECK_COMMENT_MODIFIABLE]=function(e){if(this.isModificationStatus()||d.hasWritingInputDescendantOf(this.$el)){var t=u.openLayer({bodyDesc:IM("comment.cancel_writing_comment")});this.listenToOnce(t,u.EVENTS.CONFIRM,(function(){e.processQnACommentModify()}))}else e.processQnACommentModify()},h[o.MSG.APPLICANT_COMMENT_CHANGE_TO_MODIFICATION_MODE]=function(){this._cancelDescendantModificationMode()},h[o.MSG.APPLICANT_COMMENT_SUBMIT_MODIFICATION]=function(e){a.wrapActivePromise(this.collection.updateQnAComment(e.commentId,e.message,e.photosJson),this).then(t.bind((function(){var t=this.children.find((function(t){return t.isSameCommentIdWith(e.commentId)}));null!=t&&t.convertToViewingMode()}),this))},h[o.MSG.BANDJOIN_OPEN_MEDIA_VIEWER]=function(e){var t=0,n=this.collection.chain().filter((function(e){return e.isPhotoExist()})).map((function(n,i){var o=n.getFirstPhoto();return e.photoUrl==o.url&&(t=i),{photo_url:o.url,width:o.width,height:o.height}})).value();c.openJoinApplicationSingleViewerAsPopup(this._bandNo,n,t)},h),initialize:function(e){this._bandNo=e.bandNo,this._memberKey=e.memberKey,this._alreadyMember=e.alreadyMember,this._currentElHeightDectector=new l,this._hasOtherUserCommentDeletePermit=e.hasOtherUserCommentDeletePermit},onAttach:function(){this.fetchLastCommentListWithScroll().then(t.bind((function(){this.spawn(o.MSG.APPLICANT_COMMENT_FIRST_FETCH_FINISHED,this.collection.length)}),this))},fetchLastCommentListWithScroll:function(e){return this._fetchLastCommentList().then(t.bind((function(){this._alreadyMember||this._scrollToTargetOrBottomComment(e)}),this))},scrollToComment:function(e){this.isDestroyed()||null==e||(this._scrollToCommentDirectly(e),this.stopListening(this._currentElHeightDectector),this.listenTo(this._currentElHeightDectector,l.EVENT.HEIGHT_CHANGED,t.bind(this._scrollToCommentDirectly,this,e)),this._currentElHeightDectector.startDetecting(this.$el,200,6))},isModificationStatus:function(){return null!=this._findModificationComment()},hasJustOneComment:function(){return this.collection.hasJustOneComment()},_fetchLastCommentList:function(){return a.wrapActivePromise(this.collection.fetchLastQnACommentList(),this)},_scrollToTargetOrBottomComment:function(e){null==e&&(e=this._findBottomCommentId()),this.scrollToComment(e)},_cancelDescendantModificationMode:function(){this.children.each((function(e){e.convertToViewingMode()}))},_scrollToCommentDirectly:function(e){if(!this.isDestroyed()&&0!=this.children.length){var t=this.collection.get(e);if(t){var n=this.children.findByModel(t).$el,i=n.height();if(0!=i){var o=n.scrollParent();o.stop(!0).animate({scrollTop:n.offset().top+o.scrollTop()-o.offset().top-(o.height()-i)/2},100)}}}},_findBottomCommentId:function(){var e=this.collection.last();return e?e.getCommentId():null},_findModificationComment:function(){return this.children.find((function(e){return e.isQnACommentModificationStatus()}))}});return A.buildDGroupBandQnACommentListView=function(e){var t=s.buildDQnACommentCollection(e.bandNo,e.memberKey,e.currentUserApplicant,e.alreadyMember);return new A({collection:t,bandNo:e.bandNo,memberKey:e.memberKey,alreadyMember:e.alreadyMember,hasOtherUserCommentDeletePermit:e.hasOtherUserCommentDeletePermit})},A}.call(t,n,t,e))||(e.exports=i)},2086:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),o=n(52),a=n(497),r=n(9),s=i.Model.extend({idAttribute:"commentId",getCommentId:function(){return this.get("commentId")},getAuthorName:function(){return this.getAuthor().name},getAuthorMemberType:function(){return this.getAuthor().memberType},getAuthorProfileImageUrl:function(){return this.getAuthor().profileImageUrl},getBody:function(){return this.get("body")},getPhotos:function(){return this.get("photos")},getFirstPhoto:function(){return this.isPhotoExist()?this.getPhotos()[0]:null},isPhotoExist:function(){return!t.isEmpty(this.getPhotos())},getCreatedAt:function(){return this.get("createdAt")},getShortRelativeAddTime:function(){return this.get("shortRelativeAddTime")},getAuthorRole:function(){return a.parseRole(this.getAuthor().role)},parse:function(e){var t=o.camelizeKeys(e);return t.photos=t.photos,t.shortRelativeAddTime=r.format.relative(t.createdAt),t},isModifiable:function(){return 1==this.getAuthor().me},isMyComment:function(){return 1==this.getAuthor().me},getAuthor:function(){return this.get("author")||{}},isPreviousButton:function(){return 1==this.get("isPreviousMoreButton")},isNextButton:function(){return 1==this.get("isNextMoreButton")},initialize:function(){}});return s.PREVIOUS_MORE_BUTTON_QNA_ID=-999,s.NEXT_MORE_BUTTON_QNA_ID=4294967296,s.buildMoreButtonDQnACommentModel=function(e){var t=e?s.PREVIOUS_MORE_BUTTON_QNA_ID:s.NEXT_MORE_BUTTON_QNA_ID;return new s({commentId:t,isPreviousMoreButton:e,isNextMoreButton:!e})},s.buildDBandJoinQnACommentModel=function(e,t){return new s(e,t)},s}.call(t,n,t,e))||(e.exports=i)},2087:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(154),o=n(13),a=n(155),r=n(547);return{fetchApplicationAndSetBandData:function(e,t,n){return o.ready().then((function(){return r.getApplicationDetailInfo(e,t).then((function(t){if(null==t)return t;var o=a.get(e);return o.setApplicationDetail(t.band,t.application),i.wrapActivePromise(o.loadBandData(),n).then((function(){return t}))}))}))},fetchJoinInfoAndBandData:function(e,n,s){return o.ready().then((function(){var o=a.get(e);return i.wrapActivePromise(t.when(r.getJoinInfo(e,n),o.loadBandData()),s)}))}}}.call(t,n,t,e))||(e.exports=i)},3081:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(3082),a=n(153),r=n(154),s=n(9),l=n(1109),d=n(562),c=n(3083),u=n(552),h=n(159),A=n(1229),p=n(2085),m=n(510),f=n(547),_=n(594),g=n(26),b=n(3092),M=n(3094),v=n(2087),E=n(82),C=n(1058);n(502);var I,y=i.View.extend({className:"sMessageWrap",attributes:{"data-viewname":"DBandJoinApplicantQnARoomView"},behaviors:[h],getTemplate:function(){return t.template(o)},templateContext:function(){var e=null;return this._applicationModel.isJoinAnswerImagesExist()&&(e=E.make(this._applicationModel.getFirstJoinAnswerImage().url,E.TYPE.s150)),{bandName:this._bandName,bandUrl:a.GROUP_BAND_HOME.makeUrl({band_no:this._bandNo}),applicantName:this._applicationModel.getApplicantName(),formattedCreatedAt:s.format.date(this._applicationModel.getCreatedAt(),"long"),isJoinQuestionExist:this._applicationModel.isJoinQuestionExist(),joinQuestionAsHtml:this._applicationModel.getJoinQuestionAsHtml(),joinAnswerAsHtml:this._applicationModel.getJoinAnswerAsHtml(),isJoinAnswerImagesExist:this._applicationModel.isJoinAnswerImagesExist(),joinAnswerThumbnail:e,currentUserApplicant:this._currentUserApplicant}},onMessages:(I={},I[h.MSG.MESSAGE_INPUT_SUBMIT]=function(e){var n,i=e.submitData.getMessage(),o=e.submitData.getPhotosJson();n=this._currentUserApplicant?A.createMyApplicationComment(this._bandNo,i,o):A.createApplicantComment(this._bandNo,this._memberKey,i,o),r.wrapActivePromise(n,this).then(t.bind((function(e){this._qnACommentListView.fetchLastCommentListWithScroll(e.comment.comment_id).then(t.bind((function(){this._qnACommentListView.hasJustOneComment()&&this._sendPostMessageToOpener(g.BAND_JOIN_QNA_EVENT.FIRST_COMMENT_CREATED)}),this))}),this)).always(t.bind((function(){this._applicantCommentInputView.releaseStandByMode()}),this))},I[h.MSG.APPLICANT_COMMENT_FIRST_FETCH_FINISHED]=function(e){this._currentUserApplicant&&e>0&&this._renderInputArea()},I[h.MSG.APPLICANT_MEMBER_REJECT_APPLICATION]=function(){this._rejectApplication()},I),ui:{applicantCommentListRegion:"._applicantCommentListRegion",applicantCommentInputRegion:"._applicantCommentInputRegion",profileRegion:"._profileRegion",acceptApplicationBtn:"._acceptApplicationBtn",rejectApplicationBtn:"._rejectApplicationBtn",changeProfileBtn:"._changeProfileBtn",cancelApplicationBtn:"._cancelApplicationBtn",applicantName:"._applicantName",goBandAnchor:"._goBandAnchor",showMediaViewer:"._showMediaViewer",joinAnswerThumbnail:"._joinAnswerThumbnail"},regions:{applicantCommentListRegion:"@ui.applicantCommentListRegion",applicantCommentInputRegion:"@ui.applicantCommentInputRegion",profileRegion:{el:"@ui.profileRegion",replaceElement:!0}},events:{"click @ui.acceptApplicationBtn":function(){this._applicationModel.acceptJoinApplication().then(t.bind((function(e){this._sendPostMessageToOpener(g.BAND_JOIN_QNA_EVENT.ACCEPT_APPLICATION),this._alertMessageAndCloseWindow(e)}),this))},"click @ui.rejectApplicationBtn":"_rejectApplication","click @ui.changeProfileBtn":function(){M.openDBandJoinProfileEditView({bandData:this._bandData,name:this._applicationModel.getApplicantName(),profileImageUrl:this._applicationModel.getApplicantProfileImageUrl()}).then(t.bind((function(e){this.listenTo(e,M.PROFILE_CHANGED_EVENT,(function(){v.fetchApplicationAndSetBandData(this._bandNo,this._memberKey,this).then(t.bind((function(e){this._applicationModel.setApplicationModelFromApi(e.application),this._profileView.renderProfileView(),this.ui.applicantName.text(this._applicationModel.getApplicantName()),this._applicantCommentInputView.renderApplicantProfile(this._applicationModel.getApplicantName(),this._applicationModel.getApplicantProfileImageUrl())}),this))}))}),this))},"click @ui.cancelApplicationBtn":function(){var e=m.openLayer({headerTitle:IM("my_page.my_application.confirm.cancel_application"),bodyDesc:IM("bandJoin.application_cancel_description")});this.listenToOnce(e,m.EVENTS.CONFIRM,(function(){r.wrapActivePromise(f.cancelApplication(this._bandNo),this).then(t.bind((function(){this._sendPostMessageToOpener(g.BAND_JOIN_QNA_EVENT.CANCEL_APPLICATION),this._closeWindow()}),this))}))},"click @ui.showMediaViewer":function(){var e=this._applicationModel.getFirstJoinAnswerImage();return C.openJoinApplicationSingleViewerAsPopup(this._bandNo,[{photo_url:e.url,width:e.width,height:e.height}]),!1}},initialize:function(e){this._bandData=e.bandData,this._applicationModel=e.applicationModel,this._canShowGoBandAnchor=e.canShowGoBandAnchor,this._bandNo=this._bandData.getBandCore().bandNo,this._bandName=this._bandData.getBandCore().name,this._memberKey=this._applicationModel.getMemberKey(),this._currentUserApplicant=this._applicationModel.isCurrentUserApplicant()},onDomRefresh:function(){this._applicationModel.isJoinAnswerImagesExist()&&this.ui.joinAnswerThumbnail.setLoading(),this._profileView=b.buildDGroupBandJoinQnAProfileView(this._applicationModel),this.showChildView("profileRegion",this._profileView),this._qnACommentListView=p.buildDGroupBandQnACommentListView({bandNo:this._bandNo,memberKey:this._memberKey,currentUserApplicant:this._currentUserApplicant,alreadyMember:!1,hasOtherUserCommentDeletePermit:!this._currentUserApplicant&&this._bandData.canDeleteOtherApplicantComment()}),this.showChildView("applicantCommentListRegion",this._qnACommentListView),this._currentUserApplicant||this._renderInputArea(),this.ui.goBandAnchor.toggle(this._canShowGoBandAnchor)},_renderInputArea:function(){this._applicantCommentInputView||(this._applicantCommentInputView=c.buildDBandJoinQnAMessageInputView({messageLabel:IM("placeholder.input_content"),textareaPlaceHolder:IM("placeholder.input_content"),buttonLabel:IM("ui.label.send"),maxMessageLength:u.BAND_JOIN_APPLICANT_COMMENT_MAX_LENGTH,overMaxLengthAlertMessage:IM("comment.over_max_message",{count:u.BAND_JOIN_APPLICANT_COMMENT_MAX_LENGTH}),bandNo:this._bandNo,standByMessage:IM("ui.label.sending"),applicantName:this._applicationModel.getApplicantName(),applicantProfileImageUrl:this._applicationModel.getApplicantProfileImageUrl(),currentUserApplicant:this._currentUserApplicant}),this.showChildView("applicantCommentInputRegion",this._applicantCommentInputView))},_closeWindow:function(){this.destroy(),l.closeWindow()},_alertMessageAndCloseWindow:function(e){var n="success";e&&!t.isEmpty(e.message)&&(n=e.message),d.openLayer({bodyTitle:n,withoutHiding:!0}).once(d.EVENTS.CONFIRM,t.bind((function(){this._closeWindow()}),this))},_sendPostMessageToOpener:function(e){_.sendPostMessage(window.opener,g.CHANNEL_NAME.BAND_JOIN_QNA_CHANNEL,e,{bandNo:this._applicationModel.getBandNo(),memberKey:this._applicationModel.getMemberKey()})},_rejectApplication:function(){this._applicationModel.denyJoinApplication().then(t.bind((function(e){this._sendPostMessageToOpener(g.BAND_JOIN_QNA_EVENT.REJECT_APPLICATION),this._alertMessageAndCloseWindow(e)}),this))}});return y.buildDBandJoinApplicantQnARoomView=function(e,t,n){return new y({bandData:e,applicationModel:t,canShowGoBandAnchor:n})},y}.call(t,n,t,e))||(e.exports=i)},3082:function(e,t){e.exports='<header class="header sf_bg">\n    <h1 class="headerTitle"><%- IM(\'bandjoin.join_question_and_answer\') %></h1>\n    <h2 class="groupBandName"><%- bandName %></h2>\n    <a href="<%- bandUrl %>" class="popGroupBandGo _goBandAnchor" style="display: none;" target="_blank"><span class="gSrOnly"><%- IM(\'web.uicomponent.topbar.button.band\') %></span></a>\n</header>\n\n<div class="sMessageContent">\n    <div class="subscriberArea">\n        <div class="_profileRegion"></div>\n\n        <div class="subscriberInfo">\n            <em class="userName _applicantName"><%- applicantName %></em>\n            <span class="date"><%= IM(\'application_detail.label.request\', {\'requestDate\': formattedCreatedAt}) %></span>\n<%\nif ( currentUserApplicant ) {\n%>\n            <div class="buttonBox gMat3">\n                <button type="button" class="uButton -sizeS -cancel _cancelApplicationBtn"><%- IM(\'bandjoin.application_cancel\') %></button>\n                <button type="button" class="uButton -sizeS -confirm _changeProfileBtn"><%- IM(\'bandjoin.profile_change\') %></button>\n            </div>\n<%\n} else {\n%>\n            <div class="buttonBox gMat5">\n                <button type="button" class="uButton -sizeS -cancel _rejectApplicationBtn"><%- IM(\'application_detail.label.deny_join\') %></button>\n                <button type="button" class="uButton -sizeS -confirm _acceptApplicationBtn"><%- IM(\'application_detail.label.accept_join\') %></button>\n            </div>\n<%\n}\n%>\n        </div>\n    </div>\n\n    <div class="qnaMessageArea">\n<%\nif ( isJoinQuestionExist ) {\n%>\n        <div class="qnaBox">\n            <div class="joinQuestion"><%= joinQuestionAsHtml %></div>\n            <div class="joinAnswer gMat13">\n                <div class="joinAnswerText"><%= joinAnswerAsHtml %></div>\n<%\n    if ( isJoinAnswerImagesExist ) {\n%>\n                <div class="answerImage gMat9 gMab5">\n                    <a href="#" role="button" class="answerImageItem _showMediaViewer">\n                        <img src="<%- joinAnswerThumbnail %>" alt="answerImage" class="_joinAnswerThumbnail">\n                    </a>\n                </div>\n<%\n    }\n%>\n            </div>\n        </div>\n<%\n}\n%>\n        <div class="_applicantCommentListRegion messageBox"></div>\n    </div>\n</div>\n\n<div class="_applicantCommentInputRegion cCommentWrite"></div>\n'},3083:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(2),a=n(4),r=n(3084),s=n(1245),l=n(559),d=n(159),c=n(555),u=n(154),h=n(934),A=n(582),p=n(57),m=n(801),f=n(167),_=n(166),g=n(488),b=n(1250),M=n(163),v=n(155),E=n(507),C=n(600),I=n(1117),y=n(82);n(502);var P=a.View.extend({template:t.template(r),className:function(){return I.INPUT_VIEW_CLASS_NAME},templateContext:function(){var e=this.options;return{msg_getTextAreaStyle:function(){return e.textareaHeight?"height: "+e.textareaHeight+";":""},messageLabel:this._messageLabel,textareaPlaceHolder:this._textareaPlaceHolder,buttonLabel:this._buttonLabel,cid:this.cid}},attributes:{"data-viewname":"DBandJoinQnAMessageInputView"},ui:{sendMessageButton:"._sendMessageButton",messageTextArea:"._messageTextArea",mentionListParent:"._mentionListParent",writeMain:"._writeMain",profileInputRegion:"._profileInputRegion",offsetAdjustEl:"._offsetAdjustEl",photoUploadArea:"._photoUploadArea",uploadedPhotoList:"._uploadedPhotoList"},regions:{profileInputRegion:"@ui.profileInputRegion"},behaviors:[d],events:function(){var e={"keyup @ui.messageTextArea":function(){this._fnDebouncedCheckIfValidLengh(),this._determineButtonActivation()},"paste @ui.messageTextArea":function(){this._fnDebouncedCheckIfValidLengh(),u.wrapDeferPromise(this).then(t.bind(this._determineButtonActivation,this))},"cut @ui.messageTextArea":function(){u.wrapDeferPromise(this).then(t.bind(this._determineButtonActivation,this))},"keydown @ui.messageTextArea":function(e){if(e.keyCode!=c.ENTER||e.shiftKey)return this._fnDeboucedDetermineButtonActivation(),!0;switch(this._messageSubmitKeyType){case l.ENTER:return!(!(!!p.isMac()&&e.ctrlKey)&&!e.altKey)||(this._doSubmit(),!1);case l.CONTROL_ENTER:return!(p.isMac()?e.metaKey:e.ctrlKey)||(this._doSubmit(),!1)}return!0},"click @ui.sendMessageButton":function(){this._doSubmit()},"click @ui.uploadedPhotoList ._photoDeleteButton":function(e){var t=o(e.currentTarget).data("photo-url");this._joinQnAInputData.removePhotoInfoByUrl(t),this.ui.uploadedPhotoList.hide(),this.ui.uploadedPhotoList.empty(),this._determineButtonActivation()}};return e},initialize:function(e){e=e||{},this._messageLabel=e.messageLabel||"",this._textareaPlaceHolder=e.textareaPlaceHolder||"",this._buttonLabel=e.buttonLabel||"",this._maxMessageLength=e.maxMessageLength||1e7,this._overMaxLengthAlertMessage=e.overMaxLengthAlertMessage||"max message length: "+this._maxMessageLength,this._bandNo=e.bandNo,this._standByMessage=e.standByMessage,this._joinQnAInputData=A.buildCommentOrJoinQnAInputData(),this._messageSubmitKeyType=this._getSendKey(),this._messageInputBandData=e.messageInputBandData,this._fnDebouncedCheckIfValidLengh=t.debounce(this._checkIfValidMaxLength,100),this._fnDeboucedDetermineButtonActivation=t.debounce(this._determineButtonActivation,100),this._currentProfileMemberType="membership",this._applicantName=e.applicantName,this._applicantProfileImageUrl=e.applicantProfileImageUrl,this._currentUserApplicant=e.currentUserApplicant},onAttach:function(){this._mentionsInput=h.buildBandMentionsInput(this.ui.messageTextArea,null,this.ui.mentionListParent,"",this.ui.offsetAdjustEl,!0),this.ui.sendMessageButton.removeClass(g.ELEMENT.ACTIVE),this._renderProfileArea(),this.$el.data(I.INPUT_VIEW_DATA_KEY,this),this._bindPhotoUploader()},onBeforeDetach:function(){this._mentionsInput&&(this._mentionsInput.destroy(),this._mentionsInput=null),this.$el.removeData(I.INPUT_VIEW_DATA_KEY),null!=this._photoUploader&&(this._photoUploader.destroy(),this._photoUploader=null)},releaseStandByMode:function(){this._standByStatus=!1,this._determineButtonActivation()},hasInputContent:function(){return!(this.isDestroyed()||!this._mentionsInput)&&(this._joinQnAInputData.setMessage(i.trim(this._mentionsInput.val())),this._joinQnAInputData.isAbleToSubmit())},renderApplicantProfile:function(e,t){this._applicantName=e,this._applicantProfileImageUrl=t;var n=new M({name:this._applicantName,memberType:this._currentProfileMemberType,profileImageUrl:this._applicantProfileImageUrl});this._buildProfileViewAndShow([n])},_renderProfileArea:function(){if(this._currentUserApplicant)this.renderApplicantProfile(this._applicantName,this._applicantProfileImageUrl);else{var e=v.get(this._bandNo).getMessageInputBandDataAtApplication(this._bandNo);u.wrapActivePromise(e.loadBandData(),this).then(t.bind((function(){this._buildProfileViewAndShow(e.getSelectableMemberProfiles())}),this))}},_doSubmit:function(){if(this._mentionsInput&&this._checkIfValidMaxLength()&&!this._standByStatus&&this.hasInputContent()){var e=this._joinQnAInputData;this._joinQnAInputData=A.buildCommentOrJoinQnAInputData(),this._standByStatus=!0,this._prepareSendButton(),this.spawn(d.MSG.MESSAGE_INPUT_SUBMIT,{submitData:e}),this._mentionsInput.resetMentionInput(),this.ui.uploadedPhotoList.hide(),this.ui.uploadedPhotoList.empty()}},_getSendKey:function(){var e=f.getCurrentUserEnvStorage().get([_.MessageSendKey,m.MESSAGE_SEND_KEY.API_KEY_NAME.COMMENT]),t=l.CONTROL_ENTER;return e&&(t=l.ENTER),t},_checkIfValidMaxLength:function(){if(this.isDestroyed())return!1;var e=i.trim(this._mentionsInput.val());return!e||e.length<=this._maxMessageLength||(alert(this._overMaxLengthAlertMessage),u.wrapDeferPromise(this).then(t.bind((function(){var e=i.trim(this._mentionsInput.val());this._mentionsInput.val(e.substring(0,this._maxMessageLength))}),this)),!1)},_determineButtonActivation:function(){this._determineSendButtonActivation()},_prepareSendButton:function(){if(this._standByStatus)return this.ui.sendMessageButton.addClass(g.ELEMENT.DISABLED).removeClass(g.ELEMENT.ACTIVE),void this.ui.sendMessageButton.text(this._standByMessage);this.ui.sendMessageButton.addClass(g.ELEMENT.ACTIVE).removeClass(g.ELEMENT.DISABLED),this.ui.sendMessageButton.text(this._buttonLabel)},_determineSendButtonActivation:function(){!this.isDestroyed()&&this._mentionsInput&&(this._standByStatus?this._prepareSendButton():(this._joinQnAInputData.setMessage(this._mentionsInput.val()),this.ui.sendMessageButton.text(this._buttonLabel),this._joinQnAInputData.isAbleToSubmit()?this.ui.sendMessageButton.addClass(g.ELEMENT.ACTIVE).removeClass(g.ELEMENT.DISABLED):this.ui.sendMessageButton.addClass(g.ELEMENT.DISABLED).removeClass(g.ELEMENT.ACTIVE)))},_buildProfileViewAndShow:function(e){this._inputProfileView=b.buildDMessageInputProfileView({bandNo:this._bandNo,memberProfileArray:e,currentProfileMemberType:this._currentProfileMemberType,preventAllEvent:!0}),this.showChildView("profileInputRegion",this._inputProfileView)},_bindPhotoUploader:function(){this._photoUploader=C.createSinglePhotoUploader(this.ui.photoUploadArea,{showProgress:!0,autoUpload:!0}),this.listenTo(this._photoUploader,E.UPLOAD_COMPLETE,t.bind((function(e){e&&e.resultList&&this._renderAndAddUploadedPhoto(e.resultList)}),this))},_renderAndAddUploadedPhoto:function(e){if(!this.isDestroyed()&&null!=e&&null!=e[0]){var n=e[0],i=n.url;this._joinQnAInputData.resetPhoto(),this._joinQnAInputData.addInputPhoto(i,n.width,n.height);var a=y.make(i,y.TYPE.s150),r=o(t.template(s)({thumbnailUrl:a}));r.data("photo-url",i).find("._photoDeleteButton").data("photo-url",i),this.ui.uploadedPhotoList.empty(),this.ui.uploadedPhotoList.append(r),r.find("._uploadedPhoto").setLoading(),this.ui.uploadedPhotoList.show(),this._determineButtonActivation()}}});return P.buildDBandJoinQnAMessageInputView=function(e){return new P(e)},P}.call(t,n,t,e))||(e.exports=i)},3084:function(e,t){e.exports='<h1 class="gSrOnly"><%- messageLabel %></h1>\n<div class="photoBox _uploadedPhotoList" style="display: none;"></div>\n<div class="writeMain _writeMain">\n    <div class="btnUploadWrap">\n        <label class="uploadImg _photoUploadArea"><input type="file" title="<%= IM(\'profile.choose_profile_image\') %>" ></label>\n    </div>\n    <div class="writeWrap">\n        <div class="flexBox">\n            <div class="profileStatus _profileInputRegion"></div>\n            <div class="mentionsWrap">\n                <div class="uInputComment">\n                    <label class="gSrOnly" for="write_comment_<%= cid %>"><%= messageLabel %></label>\n                    <textarea cols="20" rows="1" class="commentWrite _use_keyup_event _messageTextArea" id="write_comment_<%= cid %>" placeholder="<%- textareaPlaceHolder %>" style="<%= msg_getTextAreaStyle() %>"></textarea>\n                </div>\n            </div>\n\n            <div class="lyAutoComplete _mentionListParent _offsetAdjustEl"></div>\n        </div>\n    </div>\n    <div class="submitWrap">\n        <button type="submit" class="writeSubmit uButton -disabled _sendMessageButton"><%- buttonLabel %></button>\n    </div>\n</div>\n\n\n\n\n'},3085:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),o=n(4),a=n(159),r=n(3086),s=n(3087),l=n(3088),d=n(163),c=n(155),u=n(618),h=n(158),A=n(26),p=n(3089),m=n(55),f=n(1256),_=n(514);n(510);return o.View.extend({className:function(){return this.model.isPreviousButton()||this.model.isNextButton()?"moreComment":"cComment"},attributes:{"data-viewname":"DGroupBandJoinQnACommentView"},ui:{optionButton:"._optionButton",optionMenuLayer:"._optionMenuLayer",deleteQnACommentBtn:"._deleteQnACommentBtn",modifyQnACommentBtn:"._modifyQnACommentBtn",previousQnaCommentBtn:"._previousQnaCommentBtn",nextQnaCommentBtn:"._nextQnaCommentBtn",firstQnaCommentBtn:"._firstQnaCommentBtn",authorProfileImage:"._authorProfileImage",photoThumbnail:"._photoThumbnail",showMediaViewer:"._showMediaViewer",photoRegion:"._photoRegion",reportQnACommentBtn:"._reportQnACommentBtn"},templateContext:function(){return{authorName:this.model.getAuthorName(),contents:h.convertText(this.model.getBody(),null,!0),shortRelativeAddTime:this.model.getShortRelativeAddTime(),isModifiable:this.model.isModifiable(),isDeletable:this.model.isMyComment()||this._hasOtherUserCommentDeletePermit,alreadyMember:this._alreadyMember,isShowReport:this._isAcceptApplicationPermitted&&!this.model.isModifiable()}},regions:{qnACommentModificationRegion:"._qnACommentModificationRegion",authorProfileImage:{el:"@ui.authorProfileImage",replaceElement:!0},photoRegion:{el:"@ui.photoRegion",replaceElement:!0}},behaviors:[a],onMessages:(t={},t[a.MSG.APPLICANT_COMMENT_CANCEL_MODIFICATION]=function(){this._modificationMode=!1,this.render()},t),events:{"click @ui.optionButton":function(){this.ui.optionMenuLayer.is(":hidden")&&A.getDGlobalChannel().trigger(A.EVENT.HTML_CLICK);var e=this.ui.optionButton.offset().top;return m.getHeight()-e<160&&this.ui.optionMenuLayer.css("top",-this.ui.optionMenuLayer.height()-12),this.ui.optionMenuLayer.toggle(),this.ui.optionButton.toggleClass("menuOn"),!1},"click @ui.deleteQnACommentBtn":function(e){this.spawn(a.MSG.APPLICANT_COMMENT_DELETE_COMMENT,{commentId:this.model.getCommentId()}),e.preventDefault()},"click @ui.previousQnaCommentBtn":function(){return this.spawn(a.MSG.APPLICANT_COMMENT_PREVIOUS_MORE),!1},"click @ui.firstQnaCommentBtn":function(){return this.spawn(a.MSG.APPLICANT_COMMENT_GO_FIRST_COMMENT),!1},"click @ui.nextQnaCommentBtn":function(){return this.spawn(a.MSG.APPLICANT_COMMENT_NEXT_MORE),!1},"click @ui.modifyQnACommentBtn":function(e){this.spawn(a.MSG.APPLICANT_COMMENT_CHECK_COMMENT_MODIFIABLE,this),e.preventDefault()},click:function(){A.getDGlobalChannel().trigger(A.EVENT.HTML_CLICK)},"click @ui.reportQnACommentBtn":function(){var e=i.bind((function(e){e.bandNo==this._bandNo&&e.memberKey==this._applicantMemberKey&&this._rejectApplication()}),this),t={bandNo:this._bandNo,memberKey:this._applicantMemberKey,contentCommentNo:this.model.getCommentId(),fnCallback:e};_.openBandApplicationCommentReportPopup(t)}},getTemplate:function(){return this.model.isPreviousButton()?i.template(s):this.model.isNextButton()?i.template(l):i.template(r)},initialize:function(e){this._bandNo=e.bandNo,this._alreadyMember=1==e.alreadyMember,this._modificationMode=!1,this._hasOtherUserCommentDeletePermit=e.hasOtherUserCommentDeletePermit,this._isAcceptApplicationPermitted=c.get(this._bandNo).isAcceptApplicationPermitted(),this._applicantMemberKey=e.applicantMemberKey},onDomRefresh:function(){if(!this.model.isPreviousButton()&&!this.model.isNextButton())if(this.showChildView("authorProfileImage",u.buildDProfileImageView({memberProfile:new d({name:this.model.getAuthorName(),profileImageUrl:this.model.getAuthorProfileImageUrl(),memberType:this.model.getAuthorMemberType()}),bandCore:c.get(this._bandNo).getBandCore(),role:this.model.getAuthorRole().name,size:34,disableClick:!0})),this._modificationMode)this.showChildView("qnACommentModificationRegion",p.buildDJoinQnAModificationView(this.model));else if(this.model.isPhotoExist()){var e=this.model.getFirstPhoto(),t=f.buildDCommentAttachedPhotoView(e.url,e.width,e.height,!1,"wide");this.showChildView("photoRegion",t),this.listenTo(t,"showMedia",(function(){this.spawn(a.MSG.BANDJOIN_OPEN_MEDIA_VIEWER,{photoUrl:e.url})}))}},onAttach:function(){this.listenTo(A.getDGlobalChannel(),A.EVENT.HTML_CLICK,(function(){this.ui.optionMenuLayer.hide()}))},processQnACommentModify:function(){this.spawn(a.MSG.APPLICANT_COMMENT_CHANGE_TO_MODIFICATION_MODE),this.convertToModificationMode()},convertToModificationMode:function(){this._modificationMode||this.isDestroyed()||(this._modificationMode=!0,this.render())},convertToViewingMode:function(){this._modificationMode&&!this.isDestroyed()&&(this._modificationMode=!1,this.render())},isQnACommentModificationStatus:function(){return this._modificationMode},isSameCommentIdWith:function(e){return this.model.getCommentId()==e},_rejectApplication:function(){this.spawn(a.MSG.APPLICANT_MEMBER_REJECT_APPLICATION)}})}.call(t,n,t,e))||(e.exports=i)},3086:function(e,t){e.exports='<div class="itemWrap">\n    <div class="writeInfo">\n        <span class="_authorProfileImage"></span>\n        <div class="nameWrap"><strong class="name"><%- authorName %></strong></div>\n    </div>\n    <div class="commentBody _qnACommentModificationRegion">\n        <p class="txt"><%= contents %></p>\n        <div class="_photoRegion" style="display: none;"></div>\n        <div class="func">\n            <time class="time"><%- shortRelativeAddTime %></time>\n        </div>\n    </div>\n</div>\n<%\nif ( !alreadyMember && ( isModifiable || isDeletable) ) {\n%>\n<div class="feedback">\n    <button type="button" class="commentEdit _optionButton" aria-controls="lyMenu"><span class="gSrOnly"><%- IM(\'comment.modify_comment\') %></span></button>\n    <div class="lyMenu _optionMenuLayer" style="width:145px;display:none;">\n        <ul>\n<%\n    if ( isModifiable ) {\n%>\n            <li><a href="#" class="_modifyQnACommentBtn"><%- IM(\'comment.modify_comment\') %></a></li>\n<%\n}\n\n    if ( isDeletable ) {\n%>\n            <li><a href="#" class="_deleteQnACommentBtn"><%- IM(\'comment.delete_comment\') %></a></li>\n<%\n    }\n%>\n<%\n    if( isShowReport ){\n%>\n            <li><a href="#" class="_reportQnACommentBtn"><%- IM(\'ui.label.report\') %></a></li>\n<%\n    }\n%>\n        </ul>\n    </div>\n</div>\n<%\n}\n%>'},3087:function(e,t){e.exports='<button type="button" class="prevComment _previousQnaCommentBtn" ><%- IM(\'bandjoin.previous_conversation\') %></button>\n<button type="button" class="goFirstComment _firstQnaCommentBtn" ><%- IM(\'bandjoin.go_to_first_conversation\') %></button>'},3088:function(e,t){e.exports='<button type="button" class="moreView _nextQnaCommentBtn"><%- IM(\'bandjoin.next_conversation\') %></button>'},3089:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(2),a=n(4),r=n(3090),s=n(1118),l=n(934),d=n(582),c=n(159),u=n(559),h=n(555),A=n(552),p=n(600),m=n(507),f=n(154);n(502);var _=a.View.extend({behaviors:[c],tagName:"FORM",className:"commentModify",attributes:{"data-viewname":"DBandJoinQnACommentModificationView"},template:t.template(r),ui:{cancelModificationButton:"._cancelModificationButton",modificationTextarea:"._modificationTextarea",textareaWrap:"._textareaWrap",mentionListParent:"._mentionListParent",submitButton:"._submitButton",photoList:"._photoList",photoUploadArea:"._photoUploadArea",photoArea:"._photoArea",photoInputArea:"._photoInputArea"},events:function(){var e={"click @ui.submitButton":function(){return this._submitModification(),!1},"cut @ui.modificationTextarea":function(){this._deferedDetermineSaveBtnActivation()},"paste @ui.modificationTextarea":function(){this._fnDebouncedCheckIfValidLengh(),this._deferedDetermineSaveBtnActivation()},"input @ui.modificationTextarea":function(){this._deferedDetermineSaveBtnActivation()},"keyup @ui.modificationTextarea":function(){this._fnDebouncedCheckIfValidLengh(),this._deferedDetermineSaveBtnActivation()},"keydown @ui.modificationTextarea":function(e){if(e.keyCode!=h.ENTER)return!0;switch(this._submitKey){case u.ENTER:return!!e.shiftKey||(this._submitModification(),!1);case u.SHIFT_ENTER:if(e.shiftKey)return this._submitModification(),!1;break;case u.CONTROL_ENTER:if(e.shiftKey)return!0;if(e.ctrlKey||e.metaKey)return this._submitModification(),!1}return!0},"focus @ui.modificationTextarea":function(){this.ui.textareaWrap.addClass("-focus"),this.spawn(c.MSG.MESSAGE_INPUT_TEXTAREA_FOCUS,this)},"blur @ui.modificationTextarea":function(){this.ui.textareaWrap.removeClass("-focus")},"click @ui.cancelModificationButton":function(){this.spawn(c.MSG.APPLICANT_COMMENT_CANCEL_MODIFICATION)}};return e["click @ui.photoList "+A.INPUT_PHOTO_DELETE_BUTTON_SELECTOR]=function(e){var t=o(e.currentTarget).data(A.INPUT_PHOTO_DATA_KEY);return this._joinQnAInputData.removePhotoInfoByUrl(t),this.ui.photoList.find(A.INPUT_PHOTO_SELECTOR).filter((function(e,n){return o(n).data(A.INPUT_PHOTO_DATA_KEY)==t})).remove(),this.ui.photoInputArea.toggle(!this._joinQnAInputData.isPhotoExist()),this.ui.photoArea.toggle(this._joinQnAInputData.isPhotoExist()),this._determineSaveBtnActivation(),!1},e},initialize:function(){this._progressModification=!1,this._maxLength=A.BAND_JOIN_APPLICANT_COMMENT_MAX_LENGTH,this._submitKey=u.CONTROL_ENTER,this._fnDebouncedCheckIfValidLengh=t.debounce(this._checkIfValidLength,100)},onAttach:function(){this._bindMentionInput(),this._joinQnAInputData=d.buildCommentOrJoinQnAInputData({photos:this.model.getPhotos()}),this._renderAttachArea(),this._bindPhotoUploader()},onBeforeDetach:function(){this._destroyModificationMode()},_bindMentionInput:function(){this._mentionsInput||(this._mentionsInput=l.buildBandMentionsInput(this.ui.modificationTextarea,null,this.ui.mentionListParent,"",this.ui.mentionListParent,!0))},_bindPhotoUploader:function(){this._photoUploader=p.createSinglePhotoUploader(this.ui.photoUploadArea,{showProgress:!0,autoUpload:!0}),this.listenTo(this._photoUploader,m.UPLOAD_COMPLETE,t.bind((function(e){if(null!=e&&null!=e.resultList&&null!=e.resultList[0]){var t=e.resultList[0];this._joinQnAInputData.resetPhoto(),this._joinQnAInputData.addInputPhoto(t.url,t.width,t.height),this.ui.photoList.empty(),this._renderAttachArea()}}),this))},_renderAttachArea:function(){this.ui.modificationTextarea.focus(),this._joinQnAInputData.isPhotoExist()&&t.each(this._joinQnAInputData.getInputPhotos(),(function(e){var t=s.createDInputPhotoElement(e.url);this.ui.photoList.append(t),t.find(A.INPUT_PHOTO_IMG_SELECTOR).setLoading()}),this),this.ui.photoInputArea.toggle(!this._joinQnAInputData.isPhotoExist()),this.ui.photoArea.toggle(this._joinQnAInputData.isPhotoExist()),this._determineSaveBtnActivation()},_deferedDetermineSaveBtnActivation:function(){t.defer(t.bind((function(){this._determineSaveBtnActivation()}),this))},_determineSaveBtnActivation:function(){null!=this._mentionsInput&&(this._joinQnAInputData.setMessage(i.trim(this._mentionsInput.val())),this._joinQnAInputData.isAbleToSubmit()?this.ui.submitButton.removeAttr("disabled"):this.ui.submitButton.attr("disabled",""))},_submitModification:function(){if(this._checkIfValidLength()&&!this._progressModification){this.ui.submitButton.removeClass("buttonPoint"),this._progressModification=!0;var e=t.extend({modificationView:this,message:i.trim(this._mentionsInput.val()),commentId:this.model.getCommentId()},this._makeSubmitPhotoData());this.spawn(c.MSG.APPLICANT_COMMENT_SUBMIT_MODIFICATION,e)}},_makeSubmitPhotoData:function(){return this.model.isPhotoExist()||this._joinQnAInputData.isPhotoExist()?this.model.isPhotoExist()&&this._joinQnAInputData.isPhotoExist()&&this.model.getFirstPhoto().url==this._joinQnAInputData.getInputPhotos()[0].url?{}:this._joinQnAInputData.isPhotoExist()?{photosJson:this._joinQnAInputData.getPhotosJson()}:{photosJson:null}:{}},_checkIfValidLength:function(){if(this.isDestroyed())return!1;var e=i.trim(this._mentionsInput.val());return!e||e.length<=this._maxLength||(alert(IM("comment.over_max_message",{count:A.BAND_JOIN_APPLICANT_COMMENT_MAX_LENGTH})),f.wrapDeferPromise(this).then(t.bind((function(){var e=i.trim(this._mentionsInput.val());this._mentionsInput.val(e.substring(0,this._maxLength))}),this)),!1)},_destroyModificationMode:function(){this._mentionsInput&&(this._mentionsInput.destroy(),this._mentionsInput=null),null!=this._photoUploader&&(this._photoUploader.destroy(),this._photoUploader=null)}});return _.buildDJoinQnAModificationView=function(e){return new _({model:e})},_}.call(t,n,t,e))||(e.exports=i)},3090:function(e,t){e.exports='<div class="commentContents">\n    <div class="mentionsWrap">\n        <div class="uInputComment _textareaWrap" >\n            <textarea cols="20" rows="1" style="height:32px;" class="commentWrite _modificationTextarea"><%- body %></textarea>\n            <div class="attachInputBox _photoInputArea">\n                <span class="addPhoto _photoUploadArea"><input type="file" class="imageUpload"><span class="gSrOnly"><%- IM(\'photo.add_photo\') %></span></span>\n            </div>\n        </div>\n        <div class="lyAutoComplete _mentionListParent"></div>\n    </div>\n</div>\n\n<div class="commentMediaListBox _photoArea">\n    <div class="attachPhotoList _photoList"></div>\n</div>\n\n<button type="button" class="buttonCommentModi _cancelModificationButton"><%= IM(\'ui.label.cancel\') %></button>\n<button type="button" class="buttonCommentModi buttonPoint _submitButton"><%= IM(\'ui.label.save\') %></button>\n'},3091:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),o=n(1229),a=n(2086),r=i.Collection.extend({model:a,comparator:function(e){return e.getCommentId()},initialize:function(e,t){this._bandNo=t.bandNo,this._memberKey=t.memberKey,this._currentUserApplicant=t.currentUserApplicant,this._alreadyMember=t.alreadyMember},fetchPreviousQnACommentList:function(){return this._fetchThenPopulateCommentList(this._previousParams,!1)},fetchFirstQnACommentList:function(){return this._fetchThenPopulateCommentList(this._firstParams,!0)},fetchNextQnACommentList:function(){return this._fetchThenPopulateCommentList(this._nextParams,!1)},fetchUpdatedQnACommentList:function(){return this._fetchThenPopulateCommentList(this._updateParams,!1)},fetchLastQnACommentList:function(){var e={band_no:this._bandNo};return this._alreadyMember?e.member_key=this._memberKey:this._currentUserApplicant||(e.applicant_key=this._memberKey),this._fetchThenPopulateCommentList(e,!0)},deleteQnAComment:function(e){(this._currentUserApplicant?o.deleteMyApplicationComment(this._bandNo,e):o.deleteApplicantComment(this._bandNo,this._memberKey,e)).then(t.bind((function(){this.remove(e)}),this))},updateQnAComment:function(e,n,i){return(this._currentUserApplicant?o.updateMyApplicationComment(this._bandNo,e,n,i):o.updateApplicantComment(this._bandNo,this._memberKey,e,n,i)).then(t.bind((function(e){this.putQnAComments(a.buildDBandJoinQnACommentModel(e.comment,{parse:!0}))}),this))},putQnAComments:function(e){t.isEmpty(e)||this.set(e,{add:!0,merge:!0,remove:!1,sort:!0})},hasJustOneComment:function(){return 1==this.length},_fetchThenPopulateCommentList:function(e,n){if(null!=e)return(this._alreadyMember?o.getApplicantCommentHistory(e):this._currentUserApplicant?o.getMyApplicationComments(e):o.getApplicantComments(e)).then(t.bind((function(t){n?this.reset(t.items||[],{parse:!0}):this.set(t.items||[],{parse:!0,add:!0,merge:!0,remove:!1,sort:!0}),this._populatePagingDataAndTotalCount(t,n,e)}),this))},_populatePagingDataAndTotalCount:function(e,t,n){return this._totalCount=e.total,this._updateParams=e.update_param,t?(this._firstParams=e.paging.first_params,this._nextParams=e.paging.next_params,this._previousParams=e.paging.previous_params,void this._populateMoreButton()):n==this._previousParams?(this._firstParams=e.paging.first_params,this._previousParams=e.paging.previous_params,void this._populateMoreButton()):void(n==this._nextParams&&(this._nextParams=e.paging.next_params,this._populateMoreButton()))},_populateMoreButton:function(){this._previousParams?this.add(a.buildMoreButtonDQnACommentModel(!0)):this.remove(a.PREVIOUS_MORE_BUTTON_QNA_ID),this._nextParams?this.add(a.buildMoreButtonDQnACommentModel(!1)):this.remove(a.NEXT_MORE_BUTTON_QNA_ID)}});return r.buildDQnACommentCollection=function(e,t,n,i){return new r([],{bandNo:e,memberKey:t,currentUserApplicant:n,alreadyMember:i})},r}.call(t,n,t,e))||(e.exports=i)},3092:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(3093),a=n(82),r=n(486),s=n(1111),l=i.View.extend({behaviors:[],attributes:{"data-viewname":"DGroupBandJoinQnAProfileView"},template:t.template(o),templateContext:function(){var e=a.makeProfileBigThumbnailUrl(this.model.getApplicantProfileImageUrl());return{thumbnailExist:this.model.isThumbnailExist(),profileImageUrl:e,profileInnerClass:a.makeProfileInnerClass(e),applicantName:this.model.getApplicantName()}},ui:{profileImg:"._profileImg"},events:{"click @ui.profileImg":function(e){e.preventDefault();var t=s.buildDProfilePhotoView(this.model.getApplicantProfileImageUrl(),this.model.getApplicantName());r.open(t)}},renderProfileView:function(){this.render()}});return l.buildDGroupBandJoinQnAProfileView=function(e){return new l({model:e})},l}.call(t,n,t,e))||(e.exports=i)},3093:function(e,t){e.exports='<% if ( thumbnailExist ) { %>\n<a href="#" role="button" class="uProfile -size50 _profileImg">\n    <span class="profileInner <%- profileInnerClass %>">\n        <img src="<%- profileImageUrl %>" width="50" height="50" alt="<%- applicantName %>">\n    </span>\n</a>\n<% } else { %>\n<span class="uProfile -size50 ">\n    <span class="profileInner">\n        <img src="<%- profileImageUrl %>" width="50" height="50" alt="<%- applicantName %>">\n    </span>\n</span>\n<% } %>'},3094:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(4),a=n(3095),r=n(600),s=n(82),l=n(156),d=n(164),c=n(486),u=n(518),h=n(1112),A=n(507),p=n(152),m=n(547),f=n(154),_=n(1002),g=n(540),b=t.template('<img src="<%- image %>" width="140" height="140" alt="<%- IM("photo") %>">'),M=o.View.extend({behaviors:[],tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DGroupBandJoinProfileEditView"},template:t.template(a),templateContext:function(){return{cid:this.cid,bandName:this._bandData.getBandCore().name,authorNameMaxLength:p.AUTHOR_NAME_MAX_LENGTH,name:this._name}},ui:{imageWrap:"._imageWrap",menuBtn:"._menuBtn",menuWrap:"._menuWrap",fileWrap:"._fileWrap",deletePhotoLink:"._deletePhotoLink",otherProfilesLink:"._otherProfilesLink",nameInput:"._nameInput",confirmBtn:"._confirmBtn",closeBtn:"._closeBtn"},events:{"click @ui.menuBtn":function(){this._toggleLayer(this.ui.menuWrap)},"click @ui.deletePhotoLink":function(e){e.preventDefault(),this._setImage(null)},"click @ui.otherProfilesLink":function(e){e.preventDefault(),this._openOtherProfiles()},"click @ui.confirmBtn":"_submitProfile","click @ui.closeBtn":"_close",click:"_closeAllLayers"},initialize:function(e){this._bandData=e.bandData,this._bandNo=this._bandData.getBandNo(),this._profileSetCount=e.profileSetCount,this._photo=null,this._image=null,this._profileImageUrl=e.profileImageUrl,this._name=e.name,this._originalData={profileImageUrl:i.trim(this._profileImageUrl),name:i.trim(this._name)}},onRender:function(){this.ui.nameInput.val(i.trim(this._name)),this._profileSetCount<2&&this.ui.otherProfilesLink.parent().remove(),this._setImage(this._profileImageUrl)},onAttach:function(){this._createProfilePhotoUploader()},onBeforeDetach:function(){this._destroyProfilePhotoUploader()},_setValuesWithProfileSetModel:function(e){this.ui.nameInput.val(i.trim(e.get("name"))),this._setImage(e.get("profileImageUrl"))},_setValuesWithPhoto:function(e){e&&(this._photo=e,this._setImage(e.url))},_setImage:function(e){var t=!!e;if(t){var n=s.makeGifSupportedProfileUrl(e,d.s276_gif);this.ui.imageWrap.html(b({image:n})).toggleClass("-gifProfileBg",l.isGif(n))}else this.ui.imageWrap.empty().removeClass("-gifProfileBg");this._image=e,this.ui.deletePhotoLink.parent().toggle(t)},_close:function(){this.destroy()},_submitProfile:function(){if(this.ui.nameInput.val()){if(!this._submitProgress){this._submitProgress=!0;var e=i.trim(this.ui.nameInput.val()),n=i.trim(this._image);if(!this._isProfileChanged(e,n))return this._submitProgress=!1,void this._close();var o=n;o==this._originalData.profileImageUrl&&(o=null),f.wrapActivePromise(m.setApplicantProfile(this._bandNo,e,o),this).then(t.bind((function(){this.trigger(M.PROFILE_CHANGED_EVENT)}),this)).always(t.bind((function(){this._submitProgress=!1,this._close()}),this))}}else alert(IM("web.profile.alert.input_name"))},_openOtherProfiles:function(){h.openLayer({profileModel:this.model,bandData:this._bandData}).then(t.bind((function(e){this.listenToOnce(e,"DProfileSetSelectView",(function(e,t){e===h.EVENTS.PROFILE_SET_SELECTED&&this._setValuesWithProfileSetModel(t)}))}),this))},_toggleLayer:function(e){e.is(":visible")||t.defer(t.bind(e.show,e))},_closeAllLayers:function(){this.isDestroyed()||this.ui.menuWrap.hide()},_createProfilePhotoUploader:function(){this._destroyProfilePhotoUploader(),this._profilePhotoUploader=r.createProfilePhotoUploader(this.ui.fileWrap,{autoUpload:!1}),this.listenTo(this._profilePhotoUploader,A.SELECT_FILES,(function(e){if(e.files[0].type.indexOf("gif")>-1)return this._profilePhotoUploader.setContinueAutoUpload(),!1;this._profilePhotoUploader.loadFileReaderResize(e.files[0]).then(t.bind((function(e){var n={title:IM("web.upload.title.profile_photo"),cropOptions:{}},i=_.build(e,n);this.listenTo(i,"crop:complete",(function(e){i.destroy(),g.uploadDataUriImage(e).then(t.bind((function(e){this._setValuesWithPhoto(e)}),this))})),this.listenTo(i,"crop:cancel",(function(){i.destroy()}),this)}),this))})),this.listenTo(this._profilePhotoUploader,A.UPLOAD_COMPLETE,t.bind((function(e){this._setValuesWithPhoto(t.first(t.propertyOf(e)("resultList")))}),this))},_destroyProfilePhotoUploader:function(){this._profilePhotoUploader&&(this._profilePhotoUploader.destroy(),this._profilePhotoUploader=null)},_isProfileChanged:function(e,t){return this._originalData.name!=e||this._originalData.profileImageUrl!=t}});return M.openDBandJoinProfileEditView=function(e){var n=u.fetchProfileSetCount().then((function(n){return new M(t.extend({profileSetCount:n},e))}));return c.openPromiseView(n,!1,{width:380,height:446}),n},M.PROFILE_CHANGED_EVENT="PROFILE_CHANGED_EVENT",M}.call(t,n,t,e))||(e.exports=i)},3095:function(e,t){e.exports='<div class="lyContent -w380 _wrap">\n    <header class="modalHeader -noTitlebar -profile">\n        <h1 class="title gPat14 gPal9"><%- IM(\'web.profile.layer.title\') %></h1>\n        <p class="desc gMal10"><%- bandName %></p>\n    </header>\n    <div class="modalBody">\n        <div class="modalContentWrap">\n            <div class="chooseProfilePicture">\n                <div class="profileWrap _iOSMin100vh">\n                <span class="uProfile -size140 -border">\n                    <span class="profileInner _imageWrap">\n                    </span>\n                </span>\n                    <button class="photoSubmit _menuBtn"><span class="gSrOnly"><%= IM(\'web.profile.label.edit\') %></span></button>\n                    <div class="lyMenu _menuWrap" style="display:none;">\n                        <ul>\n                            <li><label class="_fileWrap"><%= IM(\'profile.choose_profile_image\') %><input type="file" accept="image/*" name="attachment"></label></li>\n                            <li><a href="#" class="_deletePhotoLink"><%= IM(\'profile.delete_photo\') %></a></li>\n                            <li><a href="#" class="_otherProfilesLink"><%= IM(\'profile.view_other_profiles\') %></a></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div class="uInput">\n                <label for="name_<%- cid %>" class="gSrOnly"><%= IM(\'web.profile.label.name\') %></label>\n                <input class="_nameInput" type="text" id="name_<%- cid %>" placeholder="<%- IM(\'web.profile.placeholder.input_name\') %>" maxlength="<%= authorNameMaxLength %>" value="<%- name %>">\n                <span class="border"></span>\n            </div>\n        </div>\n\n    </div>\n    <footer class="modalFooter">\n        <button type="submit" class="uButton -confirm -sizeL _confirmBtn"><%= IM(\'web.profile.btn.submit\') %></button>\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><span class="gSrOnly"><%= IM(\'ui.label.close_layer\') %></span></button>\n    </footer>\n</div>'},3096:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(3097),a=n(153),r=n(1109),s=n(159),l=n(2085),d=n(158),c=n(1058),u=n(82);n(502);var h=i.View.extend({className:"sMessageWrap",attributes:{"data-viewname":"DBandMemberJoinQnAHistoryView"},behaviors:[s],getTemplate:function(){return t.template(o)},templateContext:function(){var e=!1,n=null;return this._isJoinAnswerImagesExist()&&(e=!0,n=u.make(this._joinAnswerImages[0].url,u.TYPE.s150)),{bandName:this._bandName,bandUrl:a.GROUP_BAND_HOME.makeUrl({band_no:this._bandNo}),isJoinQuestionExist:!t.isEmpty(this._joinQuestion),joinQuestionAsHtml:d.nl2br(t.escape(this._joinQuestion)),joinAnswerAsHtml:d.nl2br(t.escape(this._joinAnswer)),isJoinAnswerImagesExist:e,joinAnswerThumbnail:n}},ui:{applicantCommentListRegion:"._applicantCommentListRegion",showMediaViewer:"._showMediaViewer",joinAnswerThumbnail:"._joinAnswerThumbnail"},regions:{applicantCommentListRegion:"@ui.applicantCommentListRegion"},events:{"click @ui.showMediaViewer":function(){var e=this._joinAnswerImages[0];return c.openJoinApplicationSingleViewerAsPopup(this._bandNo,[{photo_url:e.url,width:e.width,height:e.height}]),!1}},initialize:function(e){this._bandData=e.bandData,this._bandNo=this._bandData.getBandCore().bandNo,this._bandName=this._bandData.getBandCore().name,this._joinAnswer=e.joinAnswer,this._joinAnswerImages=e.joinAnswerImages,this._joinQuestion=e.joinQuestion,this._memberKey=e.memberKey},onDomRefresh:function(){this._qnACommentListView=l.buildDGroupBandQnACommentListView({bandNo:this._bandNo,memberKey:this._memberKey,currentUserApplicant:!1,alreadyMember:!0}),this.showChildView("applicantCommentListRegion",this._qnACommentListView),this._isJoinAnswerImagesExist()&&this.ui.joinAnswerThumbnail.setLoading()},_isJoinAnswerImagesExist:function(){return!t.isEmpty(this._joinAnswerImages)},_closeWindow:function(){this.destroy(),r.closeWindow()}});return h.buildDBandMemberJoinQnAHistoryView=function(e,t,n,i,o){return new h({bandData:e,memberKey:t,joinQuestion:n,joinAnswer:i,joinAnswerImages:o})},h}.call(t,n,t,e))||(e.exports=i)},3097:function(e,t){e.exports='<header class="header sf_bg">\n    <h1 class="headerTitle"><%- IM(\'bandjoin.join_question_and_answer\') %></h1>\n    <h2 class="groupBandName"><%- bandName %></h2>\n    <a href="<%- bandUrl %>" class="popGroupBandGo" target="_blank"><span class="gSrOnly"><%- IM(\'web.uicomponent.topbar.button.band\') %></span></a>\n</header>\n\n<div class="sMessageContent">\n    <div class="qnaMessageArea">\n<%\nif ( isJoinQuestionExist ) {\n%>\n        <div class="qnaBox">\n            <div class="joinQuestion"><%= joinQuestionAsHtml %></div>\n            <div class="joinAnswer gMat13">\n                <div class="joinAnswerText"><%= joinAnswerAsHtml %></div>\n<%\n    if ( isJoinAnswerImagesExist ) {\n%>\n                <div class="answerImage gMat9 gMab5">\n                    <a href="#" role="button" class="answerImageItem _showMediaViewer">\n                        <img src="<%- joinAnswerThumbnail %>" alt="answerImage" class="_joinAnswerThumbnail">\n                    </a>\n                </div>\n<%\n    }\n%>\n            </div>\n        </div>\n<%\n}\n%>\n        <div class="_applicantCommentListRegion"></div>\n    </div>\n</div>'},486:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(721),a=n(583),r=n(154),s=n(779);var l={open:function(e){this._layerContainerView.openNewLayer(e,!0)},openWithoutHiding:function(e){this._layerContainerView.openNewLayer(e,!1)},closeAll:function(){for(;this._layerContainerView.hasLayer();)this._layerContainerView.closeLastLayer()},openPromiseView:function(e,t,n){var o=!t,s=a.buildLayer(n),l=function(e){return i.find([e,n?n.view:null],(function(e){return r.isView(e)}))};return this._layerContainerView.openNewLayer(s,o),e.then(i.bind((function(e){var t=l(e);if(s.destroy(),t)return this._layerContainerView.openNewLayer(t,o),t}),this),i.bind((function(e){var t=l(e);s.destroy(),t&&t.destroy()}),this))},closeTop:function(){this._layerContainerView.closeLastLayer()},setTopLevelElementOverflow:function(e){t(o.BODY).css({overflow:e})},start:function(e){this._layerContainerView=e},isStarted:function(){return!!this._layerContainerView},isTopLayerView:function(e){return this._layerContainerView.isTopLayerView(e)},isContainedInLayer:function(e){return this._layerContainerView.el.contains(e.el)},getActiveLayerView:function(){return!!this._layerContainerView&&this._layerContainerView.getActiveLayerView()},registerLayerEvent:function(e,t){this._layerContainerView&&this._layerContainerView.on(e,t)},startLayerHelper:function(e){var n=new s;e.getRegion("layerContainer").show(n),e.listenTo(n,{beforeLayerOpen:function(){if(!this.getChildView("layerContainer").hasLayer()){var e=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-t("BODY").prop("clientWidth"),n=t(o.HEADER);n.data("_layerPreviousPaddingRight",n.css("padding-right")),n.css("padding-right",e);var i=t(o.BODY);i.data("_layerPreviousPaddingRight",i.css("padding-right")),i.css("padding-right",e);var a=t(o.LNB);a.data("_layerPreviousPaddingRight",a.css("padding-right")),a.css("padding-right",e),i.data("_layerPreviousOverflow",i.css("overflow")),i.css({overflow:"hidden"})}},afterLayerClose:function(){if(!this.getChildView("layerContainer").hasLayer()){var e=t(o.HEADER);e.data("_layerPreviousPaddingRight")&&(e.css("padding-right",e.data("_layerPreviousPaddingRight")),e.removeData("_layerPreviousPaddingRight"));var n=t(o.BODY);n.data("_layerPreviousOverflow")&&(n.css("overflow",n.data("_layerPreviousOverflow")),n.removeData("_layerPreviousOverflow"));var i=t(o.LNB);i.data("_layerPreviousPaddingRight")&&(i.css("padding-right",i.data("_layerPreviousPaddingRight")),i.removeData("_layerPreviousPaddingRight")),n.data("_layerPreviousPaddingRight")&&(n.css("padding-right",n.data("_layerPreviousPaddingRight")),n.removeData("_layerPreviousPaddingRight"))}}}),l.start(n)}};return l.EVENT=s.EVENT,l}.call(t,n,t,e))||(e.exports=i)},491:function(e,t,n){var i;void 0===(i=function(e){var t=n(155);return{getCachedBandData:function(e){var n=t.get(e);return n.loadBandData().then((function(){return n}))},resetBandData:function(e){t.get(e).resetBandDataState()}}}.call(t,n,t,e))||(e.exports=i)},493:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(21),o={GET_BAND_MEMBERS:"/v1/get_band_members",GET_MEMBERS_OF_BAND:"/v1.3.0/get_members_of_band",GET_MEMBERS_OF_BAND_WITH_FILTER:"/v2.0.0/get_members_of_band_with_filter",GET_MEMBERS_BY_ROLE:"/v1/get_members_by_role",SEARCH_MEMBER:"/v1.2.0/search_member",SEARCH_MEMBER_IN_BAND:"/v1.1/search_member_in_band",SET_MEMBER_ROLE:"/v1/set_member_role",WITHDRAW_MEMBER:"/v1.2.0/withdraw_member",WITHDRAW_MEMBERS:"/v2.0.0/withdraw_members",GET_BLOCK_MEMBERS:"/v1.1.0/get_block_members",RELEASE_BLOCK_MEMBER:"/v1.0.0/release_block_member",GET_VIRTUAL_MEMBERS:"/v1.0.0/get_virtual_members",ADD_VIRTUAL_MEMBER:"/v1.0.0/add_virtual_member",MODIFY_VIRTUAL_MEMBER:"/v1.0.0/modify_virtual_member",DELETE_VIRTUAL_MEMBER:"/v1.0.0/delete_virtual_member",ADD_CHILD_MEMBER:"/v2.1.0/add_child_member",ADD_CHILD_MEMBERS:"/v2.1.0/add_child_members",GET_MEMBER_ACTIVITY_HISTORIES:"/v2.0.0/get_member_activity_histories",ADD_MEMBER_RELATION:"/v2.0.0/add_member_relation",REMOVE_MEMBER_RELATION:"/v2.0.0/remove_member_relation",GET_MUTED_MEMBERS:"/v2.0.0/get_muted_members",GET_CHILD_MEMBER_LIST:"/v2.0.0/get_child_member_list",DELETE_CHILD_MEMBER:"/v2.0.0/delete_child_member",CREATE_MEMBER_GROUP:"/v2.0.0/create_member_group",DELETE_MEMBER_GROUP:"/v2.0.0/delete_member_group",UPDATE_MEMBER_GROUP:"/v2.0.0/update_member_group",ADD_MEMBERS_TO_MEMBER_GROUP:"/v2.0.0/add_members_to_member_group",DELETE_MEMBERS_FROM_MEMBER_GROUP:"/v2.0.0/delete_members_from_member_group",GET_MEMBER_GROUPS:"/v2.0.0/get_member_groups",GET_MEMBER_GROUP:"/v2.0.0/get_member_group"},a=null,r=function(){return a||(a=i.getLoginV1Client()),a},s={getBandMembers:function(e){return r().send({url:"https://api.band.us"+o.GET_BAND_MEMBERS,data:t.extend({band_no:"",member_offset:0,member_count:30},e)}).then((function(e,t,n){return e.result_data}))},getMembersOfBand:function(e,t){var n={band_no:e};return t&&(n.order=t),r().sendAndThenProcess({url:"https://api.band.us"+o.GET_MEMBERS_OF_BAND,data:n})},getBandMembersOfBandWithFilter:function(e,t,n){return r().send({url:"https://api.band.us"+o.GET_MEMBERS_OF_BAND_WITH_FILTER,data:{band_no:e,filter:t,param1:n}}).then((function(e){return e.result_data}))},getMembersByRole:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.GET_MEMBERS_BY_ROLE,data:{band_no:e,member_role:t}})},searchMember:function(e,t,n,i){return r().send({url:"https://api.band.us"+o.SEARCH_MEMBER,data:{query:e,band_no:t,filter:n,param1:i}}).then((function(e){return e.result_data}))},searchMemberInBand:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.SEARCH_MEMBER_IN_BAND,data:{query:e,band_no:t}})},setMemberRole:function(e,t,n){return r().sendAndThenProcess({url:"https://api.band.us"+o.SET_MEMBER_ROLE,data:{band_no:e,user_nos:t,member_role:n},method:"POST"})},doWithdrawBandMember:function(e,n,a,r){var s=r?i.getLoginV1ClientWithoutErrorAlert():i.getLoginV1Client(),l={band_no:e,is_block:a};return t.isNumeric(n)?l.user_no=n:l.member_key=n,s.sendAndThenProcess({url:"https://api.band.us"+o.WITHDRAW_MEMBER,data:l,method:"POST"})},doWithdrawBandMembers:function(e,t,n,a){var r={band_no:e,is_block:n,user_nos:t};return(a?i.getLoginV1ClientWithoutErrorAlert():i.getLoginV1Client()).sendAndThenProcess({url:"https://api.band.us"+o.WITHDRAW_MEMBERS,data:r,method:"POST"})},getBlockMemberList:function(e){return r().send({url:"https://api.band.us"+o.GET_BLOCK_MEMBERS,data:{band_no:e}}).then((function(e){return e.result_data}))},doReleaseBandBlockMember:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.RELEASE_BLOCK_MEMBER,data:{band_no:e,user_no:t},method:"POST"})},getVirtualMembers:function(e){return r().sendAndThenProcess({url:"https://api.band.us"+o.GET_VIRTUAL_MEMBERS,data:{band_no:e}})},addVirtualMembers:function(e){return r().send({url:"https://api.band.us"+o.ADD_VIRTUAL_MEMBER,data:{band_no:e.bandNo,name:e.name,cellphone:e.cellphone,email:e.email},method:"POST"}).then((function(e){return e.result_data}))},modifyVirtualMembers:function(e){return r().send({url:"https://api.band.us"+o.MODIFY_VIRTUAL_MEMBER,data:{band_no:e.bandNo,virtual_member_id:e.virtualMemberId,name:e.name,cellphone:e.cellphone,email:e.email},method:"POST"}).then((function(e){return e.result_data}))},delVirtualMembers:function(e){return r().send({url:"https://api.band.us"+o.DELETE_VIRTUAL_MEMBER,data:{band_no:e.bandNo,virtual_member_id:e.virtualMemberId},method:"POST"}).then((function(e){return e.result_data}))},addChildMembers:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.ADD_CHILD_MEMBERS,method:"POST",data:{band_no:e,names:JSON.stringify(t)}})},getMemberActivityHistories:function(e,t){var n={band_no:e};return t&&(n.after=t),r().sendAndThenProcess({url:"https://api.band.us"+o.GET_MEMBER_ACTIVITY_HISTORIES,data:n})},addMemberRelation:function(e,t,n){return r().sendAndThenProcess({url:"https://api.band.us"+o.ADD_MEMBER_RELATION,method:"POST",data:{type:e,target_user_no:t,band_no:n}})},muteMember:function(e,t){return this.addMemberRelation("mute",e,t)},removeMemberRelation:function(e,t,n){return r().sendAndThenProcess({url:"https://api.band.us"+o.REMOVE_MEMBER_RELATION,method:"POST",data:{type:e,target_user_no:t,band_no:n}})},unmuteMember:function(e,t){return this.removeMemberRelation("mute",e,t)},getMutedMembers:function(){return r().sendAndThenProcess({url:"https://api.band.us"+o.GET_MUTED_MEMBERS})},getChildMemberList:function(e){return r().sendAndThenProcess({url:"https://api.band.us"+o.GET_CHILD_MEMBER_LIST,method:"GET",data:{band_no:e}})},addChildMember:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.ADD_CHILD_MEMBER,method:"POST",data:{band_no:e,name:t}})},deleteChildMember:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.DELETE_CHILD_MEMBER,method:"POST",data:{band_no:e,child_membership_id:t}})},createMemberGroup:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.CREATE_MEMBER_GROUP,method:"POST",data:{band_no:e,name:t}})},deleteMemberGroup:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.DELETE_MEMBER_GROUP,method:"POST",data:{band_no:e,member_group_id:t}})},updateMemberGroup:function(e,t,n){return r().sendAndThenProcess({url:"https://api.band.us"+o.UPDATE_MEMBER_GROUP,method:"POST",data:{band_no:e,member_group_id:t,name:n}})},addMembersToMemberGroup:function(e,t,n){return r().sendAndThenProcess({url:"https://api.band.us"+o.ADD_MEMBERS_TO_MEMBER_GROUP,method:"POST",data:{band_no:e,member_group_id:t,user_nos:n}})},deleteMembersFromMemberGroup:function(e,t,n){return r().sendAndThenProcess({url:"https://api.band.us"+o.DELETE_MEMBERS_FROM_MEMBER_GROUP,method:"POST",data:{band_no:e,member_group_id:t,user_nos:n}})},getMemberGroups:function(e,t){var n={band_no:e};return _.isEmpty(t)||(n.include_roles=t.join(",")),r().sendAndThenProcess({url:"https://api.band.us"+o.GET_MEMBER_GROUPS,method:"GET",data:n})},getMemberGroup:function(e,t){return r().sendAndThenProcess({url:"https://api.band.us"+o.GET_MEMBER_GROUP,method:"GET",data:{band_no:e,member_group_id:t}})}};return s.PATHS=o,s}.call(t,n,t,e))||(e.exports=i)},497:function(e,t,n){var i;void 0===(i=function(){var e={LEADER:"leader",CO_LEADER:"coleader",MEMBER:"member",parseRole:function(t){var n,i;switch(t){case e.LEADER:n=IM("web.band.member.role.leader"),i=t;break;case e.CO_LEADER:n=IM("web.band.member.role.coleader"),i=t;break;default:n=IM("web.band.member.role.member"),i=null}return{leader:t===e.LEADER,coleader:t===e.CO_LEADER,label:n,name:t,iconName:i}}};return e}.apply(t,[]))||(e.exports=i)},498:function(e,t){e.exports='<%\n/**\n-    middleClass 값 설명\n*   middle : 화면 정중앙!\n*  cMiddle : 해당 영역의 중앙!\n\n*/\nif ( typeof middleClass == \'undefined\' ) {\n    middleClass = \'\';\n}\n%>\n\n<p class="uLoading <%= middleClass %>">\n    <img src="data:image/gif;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="\n         width="<%= _loading_size %>" height="<%= _loading_size %>" alt="loading">\n</p>'},499:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(498),o={forCollectionView:function(e){var t=e.collection;t.loadingSupport=!0;var n=new t.model({loading:!0});return t.on({loading:function(){t.length>0||t.add(n,{at:0})},loaded:function(){t.remove(n)}}),o},forItemView:function(e){var t=e.model;return t.set({loading:!0},{silent:!0}),t.on({loading:function(){t.set({loading:!0},{silent:!0}),e.render()},loaded:function(){t.set({loading:null},{silent:!0}),e.render()}}),o},template:function(e,n){n=n||o.Size.MEDIUM;var a="<% try { if (loading) { %>"+i.replace(/<%= _loading_size %>/g,n)+"<% return __p; } } catch (e) {}%>"+e;return t.template(a)},getTemplate:function(e,n,a){return a=a||o.Size.MEDIUM,e?t.template(n):t.template(i)({_loading_size:a})},createFetch:function(e){return function(){var t=this;t.trigger("loading");var n=e.apply(this,arguments);return $.when(n).then((function(){t.trigger("loaded")})),n}},addTrigger:function(e,t){var n=e[t];return e[t]=function(){var e=this;e.trigger("loading");var t=n.apply(this,arguments);return $.when(t).then((function(){e.trigger("loaded")})),t},o},Size:{EXTRA_SMALL:16,SMALL:22,MEDIUM:32,LARGE:64}};return o}.call(t,n,t,e))||(e.exports=i)},502:function(e,t){!function(e){e.fn.setLoading=function(t){var n={tag:'<div style="position:absolute;left:0;top:0;width:100%;height:100%"> <div class="loading_icon1"> <div class="bar" id="bar1"></div> <div class="bar" id="bar2"></div> <div class="bar" id="bar3"></div> <div class="bar" id="bar4"></div> <div class="bar" id="bar5"></div> <div class="bar" id="bar6"></div> <div class="bar" id="bar7"></div> <div class="bar" id="bar8"></div> <div class="bar" id="bar9"></div> <div class="bar" id="bar10"></div> <div class="bar" id="bar11"></div> <div class="bar" id="bar12"></div> </div> </div>',useLoading:!0,timeout:1e3,retryCount:10};return window.isMobileView&&(n.tag='<div style="position:absolute;left:0;top:0;width:100%;height:100%"><div class="uLoading"></div></div>'),t=e.extend({},n,t),this.each((function(){var n=e(this),i=n.attr("src"),o=e(t.tag);function a(){n.off("error",s),n.off("load",a),t.useLoading&&o.hide(),n.trigger("setLoading:beforeShow"),n.css({position:"",visibility:""}),n.trigger("setLoading:done")}n.css({position:"absolute",visibility:"hidden"}),t.useLoading&&n.after(o),n.off("load",a),n.on("load",a);var r=1;function s(){if(r>t.retryCount)return n.trigger("setLoading:fail"),void(t.useLoading&&o.hide());setTimeout((function(){i.indexOf("?")>-1?n.attr("src",i+"&_="+(new Date).getTime()):n.attr("src",i+"?_="+(new Date).getTime()),r++}),t.timeout)}n.on("error",s)}))}}(jQuery)},510:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(486),a=n(1108),r={CANCEL:"modal:cancel",CONFIRM:"modal:confirm"},s=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DConfirmModalView"},template:t.template(a),ui:{btnCancel:"._btnCancel",btnConfirm:"._btnConfirm"},events:{click:function(e){this.options.stopPropagation&&e.stopPropagation()},"click @ui.btnCancel":"_cancel","click @ui.btnConfirm":"_confirm"},initialize:function(e){this._validateOptions(e),this.model=new Backbone.Model({headerTitle:e.headerTitle,bodyTitle:e.bodyTitle,bodyDesc:e.bodyDesc,alignCenter:e.alignCenter,breakWordKeepAll:e.breakWordKeepAll?"-keepAll":"",width:e.width,confirm:e.confirm||IM("ui.label.confirm"),cancel:e.cancel||IM("ui.label.cancel")})},layerOnEscKeyDown:function(){this.isDestroyed()||this._cancel()},_validateOptions:function(e){!e.bodyTitle&&t.isEmpty(e.bodyDesc)&&console.error("One of bodyTitle or bodyDesc is required!!")},onAttach:function(){this.ui.btnConfirm.focus()},_confirm:function(){this.trigger(r.CONFIRM),this.destroy()},_cancel:function(){this.trigger(r.CANCEL),this.destroy()}});return s.EVENTS=r,s.openLayer=function(e){var t=new s(e);return e.withoutHiding?o.openWithoutHiding(t):o.open(t),t},s}.call(t,n,t,e))||(e.exports=i)},514:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(17),o=n(604),a=n(9),r=n(26),s=n(594),l=location.protocol+"//"+window.reportDomain+"/report/content",d=location.protocol+"//"+window.reportDomain+"/report/invitation",c=location.protocol+"//"+window.reportDomain+"/report/chat3",u=location.protocol+"//"+window.reportDomain+"/report/band";return new(t.Object.extend({openPostReportPopup:function(e){this._onBeforeOpenReportPopup();var t={contentType:"POST",bandNo:e.bandNo,contentNo:e.postNo,country:a.countryCode};t=this.addIsMobileParam(t);var n=i.appendParamsToURL(l,t);this._openReportPopup(n),this.listenToOnce(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.CONTENTS_REPORTED,(function(t){var n=i.queryStringToObject(t);e.fnCallback(n)}))},openScheduleReportPopup:function(e){this._onBeforeOpenReportPopup();var t={contentType:e.contentType,bandNo:e.bandNo,scheduleId:e.scheduleId,schedulePhotoUrl:e.schedulePhotoUrl||null};t=this.addIsMobileParam(t);var n=i.appendParamsToURL(l,t);this._openReportPopup(n),this.listenToOnce(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.CONTENTS_REPORTED,(function(t){var n=i.queryStringToObject(t);e.fnCallback(n)}))},openPhotoReportPopup:function(e,t){this._onBeforeOpenReportPopup();var n={contentType:"PHOTO",bandNo:e,contentNo:t,country:a.countryCode};n=this.addIsMobileParam(n);var o=i.appendParamsToURL(l,n);this._openReportPopup(o)},openReportPopupByContentKey:function(e,t){this._onBeforeOpenReportPopup();var n=_.extend({bandNo:e,country:a.countryCode},t.extractReportParams());n=this.addIsMobileParam(n);var o=i.appendParamsToURL(l,n);this._openReportPopup(o)},openChatReportPopup:function(e){this._onBeforeOpenReportPopup(),this.listenTo(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.GET_CHAT_REPORT_MESSAGES,(function(t,n){s.sendPostMessage(n,r.CHANNEL_NAME.EXTERNAL_REPORT,r.EXTERNAL_EVENT.REPORT.CHAT_REPORT_DATA,e.reportData)}));var t=_.pick(e,"bandNo","isPage","isPageOwner","channelId","messageId","channelDeletePermission","liveId","messageTime");t.country=a.countryCode,t=this.addIsMobileParam(t);var n=i.appendParamsToURL(c,t);this._openReportPopup(n),this.listenToOnce(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.CHAT_REPORTED,(function(t){var n=i.queryStringToObject(t);e.fnCallback(n)}))},openInvitationReportPopup:function(e){this._onBeforeOpenReportPopup();var t={invitationId:e.invitationCardId};t=this.addIsMobileParam(t);var n=i.appendParamsToURL(d,t);this._openReportPopup(n),this.listenToOnce(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.INVITATION_REPORTED,(function(t){var n=i.queryStringToObject(t);e.fnCallback(n)}))},openBandReportPopup:function(e,t){this._onBeforeOpenReportPopup();var n=_.extend({},t,{bandNo:e});n=this.addIsMobileParam(n);var o=i.appendParamsToURL(u,n);this._openReportPopup(o)},openLiveReportPopup:function(e,t){this._onBeforeOpenReportPopup();var n={contentType:"LIVE",bandNo:e,liveId:t};n=this.addIsMobileParam(n);var o=i.appendParamsToURL(l,n);this._openReportPopup(o)},openMemberProfileReportPopup:function(e,t){this._onBeforeOpenReportPopup();var n={contentType:"PROFILE",bandNo:e,memberKey:t};n=this.addIsMobileParam(n);var o=i.appendParamsToURL(l,n);this._openReportPopup(o)},openBandMissionReportPopup:function(e,t,n){this._onBeforeOpenReportPopup();var o={contentType:"MISSION",bandNo:e,isRecruiting:t,missionId:n};o=this.addIsMobileParam(o);var a=i.appendParamsToURL(l,o);this._openReportPopup(a)},openBandApplicationReportPopup:function(e){this._onBeforeOpenReportPopup();var t={contentType:"APPLICANT",bandNo:e.bandNo,memberKey:e.memberKey},n=i.appendParamsToURL(l,t);this._openReportPopup(n),this.listenToOnce(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.APPLICATION_REPORTED,(function(t){var n=i.queryStringToObject(t);e.fnCallback(n)}))},openBandApplicationCommentReportPopup:function(e){this._onBeforeOpenReportPopup();var t={contentType:"APPLICANT_COMMENT",bandNo:e.bandNo,memberKey:e.memberKey,contentCommentNo:e.contentCommentNo},n=i.appendParamsToURL(l,t);this._openReportPopup(n),this.listenToOnce(r.getExternalReportChannel(),r.EXTERNAL_EVENT.REPORT.APPLICATION_COMMENT_REPORTED,(function(t){var n=i.queryStringToObject(t);e.fnCallback(n)}))},addIsMobileParam:function(e){return e.isMobile=window.isMobile,e},_onBeforeOpenReportPopup:function(){this.stopListening(r.getExternalReportChannel())},_openReportPopup:function(e){o.openPopup("2003",e,{windowName:"band_report",width:400,height:332})}}))}.call(t,n,t,e))||(e.exports=i)},518:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(6),a=n(607),r=n(168),s=n(34),l=n(13),d=n(26),c=n(521),u=o.Collection.extend({model:a,fetchProfileSets:function(e,t){var n="user_profile_set_id,name,profile_image_url,is_default,is_page_default";return e&&(n+=",bands"),r.getProfileSets({fields:n}).then(i.bind((function(e){var n=e.items;return t&&(n=i.chain(n).each((function(e,t){e._order=(e.is_default?-1:1)*t})).sortBy("_order").value()),this.reset(n,{parse:!0}),this}),this))},getBandProfileSets:function(e,t){return this.chain().map((function(e){var t=e.toJSON(),n=i.omit(t,"bands"),o=t.userProfileSetId,a=o===this.after?3:o===this.before?1:2;return n.changeable=3!==a,i.map(t.bands,(function(e){return i.extend({bandNo:e.bandNo,bandName:e.name,cover:e.cover,certified:e.certified,bandType:e.type,bandProfileImage:e.profileImage,order:this.order+e.name},this.profile)}),{order:a,profile:n})}),{before:e.get("userProfileSetId"),after:t.get("userProfileSetId")}).flatten().sortBy("order").value()},setProfileSet:function(e,t){var n=this.get(e.get("userProfileSetId")).attributes,o=i.pluck(n.bands,"bandNo"),a=n.profileImageUrl,s={name:n.name,band_nos:i.union(o,t).join(",")};return a&&(s.profile_image_url=a),r.setProfileSet(s)},setProfileSets:function(){var e=this.chain().map((function(e){return i.size(e.get("bands"))>0||e.get("isDefault")?e.getSubmitParams():null})).compact().value();return r.setProfileSets({profile_set_relations:s.stringify(e)}).then(i.bind((function(){c.buildPersonalInfoAgreementData().setPersonalInfoAgreements(c.AGREE_TARGET.PROFILE_IMAGE).then(i.bind((function(){var e=l.getUserData(),t=this.getDefaultProfileSet().get("profileImageUrl");e.get("face")!==t&&(e.set("face",t),d.getDGlobalChannel().trigger(d.EVENT.REFRESH_GLOBAL_PROFILE,t))}),this))}),this))},hasDifference:function(){return this.some((function(e){return e.hasDifference()}))},getDefaultProfileSet:function(){return this.find((function(e){return e.get("isDefault")}))},getPageDefaultProfileSet:function(){return this.find((function(e){return e.get("isPageDefault")}))},hasOtherProfiles:function(e){return this.some((function(e){return e.get("userProfileSetId")!==this.userProfileSetId&&i.size(e.get("bands"))>0}),{userProfileSetId:e.get("userProfileSetId")})}});return u.fetchProfileSetCount=function(){var e=t.Deferred();return r.getProfileSets({fields:"user_profile_set_id"}).then((function(t){e.resolve(i.size(t.items))}),(function(){e.resolve(0)})),e.promise()},u.fetchProfileSets=function(e,t){return(new u).fetchProfileSets(e,t)},u}.call(t,n,t,e))||(e.exports=i)},519:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(34),o=n(21),a=n(506),r=n(536);function s(e){e.done((function(e){e.result_data.message&&alert(e.result_data.message)})),e.fail((function(t){return e}))}var l={syncChannel:function(e,t){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.2/sync_chat_channel",data:{channel_id:e,since:t,resolution_type:r.RETINA_RESOLUTION_TYPE}})},quitChannel:function(e){return o.getLoginV1Client().send({url:"https://api.band.us/v1/chat/quit_channel",data:{channel_id:e}})},leaveChannel:function(e){return o.getLoginV1Client().send({url:"https://api.band.us/v1.1/chat/leave_channel",data:{channel_id:e}})},joinChannel:function(e,t){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/join_chat_channel",data:{band_no:e,channel_id:t}})},banChat:function(e){return o.getLoginV1Client().send({url:"https://api.band.us/v1.0.0/ban_chat",data:e}).then((function(e){return e.result_data}))},getAllChatChannels:function(){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_all_chat_channels"})},getChatChannels:function(e){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_chat_channels",data:{band_no:e}})},getOpenChatChannels:function(e){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_open_chat_channels",data:{band_no:e}})},_MAX_READCOUNT_REQUEST_COUNT:200,sendMessageWithExtras:function(e,t,n,r){var s={channel_id:e,message_type:t,extras:i.stringify(n)};return r&&(s.message_tid=r),o.getLoginV1Client().send({url:"https://api.band.us/v1/chat/send_message",data:s}).then((function(e){return a.get(e,"result_data.message")}))},createChannel:function(e,t){var n=o.getLoginV1Client().send({url:"https://api.band.us/v2.0.0/create_chat_channel",data:{band_no:e,invitee_nos:t.join(",")}});return s(n),n.then((function(e){return e.result_data}))},createOpenChatChannel:function(e,t,n,i){var a={band_no:e,name:t};n&&(a.description=n),i&&(a.profile_image_url=i);var r=o.getLoginV1Client().send({url:"https://api.band.us/v2.0.0/create_open_chat_channel",data:a});return s(r),r.then((function(e){return e.result_data}))},inviteUsers:function(e,t,n){var i=o.getLoginV1Client().send({url:"https://api.band.us/v2.0.0/invite_chat_users",data:{band_no:e,channel_id:t,invitee_nos:n.join(",")}});return s(i),i.then((function(e){return e.result_data}))},getAudioUrl:function(e,t){return o.getLoginV1Client().send({url:"https://api.band.us/v1.0.0/get_audio_url_by_message",data:{channel_id:e,msg_id:t,is_https_enabled:!0}}).then((function(e){return e.result_data}))},getChannelMembers:function(e,t){return o.getLoginV1Client().send({url:"https://api.band.us/v1/get_channel_members",data:{channel_id:e,user_nos:t.join(",")}}).then((function(e){return e.result_data}))},deleteMessages:function(e){return o.getLoginV1Client().send({url:"https://api.band.us/v1/chat/delete_messages",data:{channel_id:e}})},deleteChat:function(e){return o.getLoginV1Client().send({url:"https://api.band.us/v1.0.0/delete_chat_channel",data:{channel_id:e}})},setChatChannelNotice:function(e,t,n,i){return o.getLoginV1Client().sendAndThenProcessWithErrorAlert({url:"https://api.band.us/v1.1.0/set_chat_channel_notice",type:"POST",data:{channel_id:e,band_no:t,user_notice:n,message_no:i}})},unsetChatChannelNotice:function(e,t){return o.getLoginV1Client().sendAndThenProcessWithErrorAlert({url:"https://api.band.us/v1.0.0/unset_chat_channel_notice",type:"POST",data:{channel_id:e,band_no:t}})},hideChatMessage:function(e){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v1.0.0/hide_chat_message",data:{band_no:e.bandNo,channel_id:e.channelId,message_no:e.messageNo}})},showChatMessage:function(e){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v1.0.0/show_chat_message",data:{band_no:e.bandNo,channel_id:e.channelId,message_no:e.messageNo}})},getMessagePunishment:function(e,t,n){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v1.0.0/get_message_punishment",data:{channel_id:e,band_no:t,message_no:n}})},getPageChatChannels:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_page_chat_channels",data:e})},talkToPage:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/talk_to_page",data:{band_no:e}})},talkToPageSubscriber:function(e,n){var i={band_no:e};return t.isNumeric(n)?i.subscriber_no=n:i.subscriber_key=n,o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/talk_to_page_subscriber",data:i})},pinPageChatChannel:function(e,t){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/pin_page_chat_channel",data:{band_no:e,channel_id:t}})},unpinPageChatChannel:function(e,t){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/unpin_page_chat_channel",data:{band_no:e,channel_id:t}})},getMessageReaders:function(e,t,n){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_message_readers",data:{band_no:e,channel_id:t,message_no:n}})},recallChatMessage:function(e,t,n){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/recall_chat_message",data:{band_no:e,channel_id:t,message_no:n}})},getChatMembers:function(e){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_chat_members",data:{channel_id:e}})},searchMemberWithChannel:function(e,t,n){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/search_member_with_channel",data:{band_no:e,channel_id:t,query:n}})}};return l.SettingApi={setChatMessagePeriod:function(e,t){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v1/set_chat_message_period",data:{channel_id:e,period:t}})},block:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v1/block_chat",data:e})},unblock:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v1/unblock_chat",data:e})},setChatChannelInfo:function(e,t,n,i,a){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v1.0.0/set_chat_channel_info",data:{band_no:e,channel_id:t,name:n,description:i,profile_image_url:a}})},setMessageReadersVisibleState:function(e,t,n){return o.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/set_message_readers_visible_state",data:{band_no:e,channel_id:t,state:n}})}},l.ChannelList={setPinChatChannel:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/pin_chat_channel",data:{channel_id:e.channelId}})},setUnpinChatChannel:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/unpin_chat_channel",data:{channel_id:e.channelId}})},setReadedMessage:function(e){return o.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v1/chat/ack_message",data:{channel_id:e.channelId,message_no:e.messageNo}})}},l.Config={DEFAULT_MESSAGE_RETRIEVING_COUNT:20,GET_MESSAGE_RETRIEVING_COUNT:20},l}.call(t,n,t,e))||(e.exports=i)},521:function(e,t,n){var i;void 0===(i=function(){var e=n(2),t=n(0),i=n(6),o=n(54),a=i.Model.extend({defaults:{birthday:!1,contacts:!1,email:!1,gender:!1,location:!1,phone_number:!1,profile_image:!1},initialize:function(){this._fetched=!1},fetchAgreementData:function(){return this._fetched?e.Deferred().resolve(this).promise():o.getPersonalInfoAgreements().then(t.bind((function(e){return this.set(e),this._fetched=!0,this}),this))},setPersonalInfoAgreements:function(e){return o.setPersonalInfoAgreements(e).then(t.bind((function(){return this._fetched=!1,this.fetchAgreementData()}),this))},cancelPersonalInfoAgreements:function(e,n){return o.cancelPersonalInfoAgreements(e,n).then(t.bind((function(){return this._fetched=!1,this.fetchAgreementData()}),this))},isContactsCollectable:function(){return this.get("contacts")},isEmailCollectable:function(){return this.get("email")},isGenderCollectable:function(){return this.get("gender")},isLocationCollectable:function(){return this.get("location")},isPhoneNumberCollectable:function(){return this.get("phone_number")},isProfileImageCollectable:function(){return this.get("profile_image")}});return a.AGREE_TARGET={BIRTHDAY:"birthday",CONTACTS:"contacts",EMAIL:"email",GENDER:"gender",LOCATION:"location",PHONE_NUMBER:"phone_number",PROFILE_IMAGE:"profile_image"},a.buildPersonalInfoAgreementData=function(){return new a},a}.call(t,n,t,e))||(e.exports=i)},527:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(0),o=n(493),a=n(82),r=n(581),s=(n(160),t.Model.extend({defaults:{name:null,desc:null,profileImageUrl:null,userNo:0,selected:!1,mentionThumbnail:null,profileInnerClass:"",isKid:!1},idAttribute:"userNo",parse:function(e){var t=a.makeProfileThumbnailUrl(e.profile_image_url);return{name:e.name,desc:e.description,profileImageUrl:e.profile_image_url,userNo:e.user_no,selected:this.collection.selectedMembers.where({userNo:e.user_no}).length>0,mentionThumbnail:t,profileInnerClass:a.makeProfileInnerClass(t),isKid:e.is_kid}},getUserNo:function(){return this.get("userNo")},getName:function(){return this.get("name")},getDesc:function(){return this.get("desc")},getProfileImageUrl:function(){return this.get("profileImageUrl")},isKid:function(){return this.get("isKid")}})),l=t.Collection.extend({model:s,initialize:function(e,t){t&&(this.bandNo=t.bandNo,this.memberFilter=t.filter,this._memberCountLimit=t.memberCountLimit,this._param1=t.param1),this._hasMoreMember=!1,this._hasMemberGroup=!1},setMemberFilter:function(e){this.memberFilter=e},fetchBandMemberWithFilterDataCollection:function(){return o.getBandMembersOfBandWithFilter(this.bandNo,this.memberFilter,this._param1).then(i.bind((function(e){this._hasMoreMember=!1,e.member_count>this._memberCountLimit&&(this._hasMoreMember=!0),this._hasMemberGroup=e.has_member_group,this._resetCollectionAndTotalCount(e)}),this))},searchBandMemberWithFilterDataCollection:function(e){return o.searchMember(e,this.bandNo,this.memberFilter,this._param1).then(i.bind((function(e){this._hasMoreMember=!1,this._resetBandMemberWithFilterDataCollection(e)}),this))},_resetCollectionAndTotalCount:function(e){this._totalMemberCount=e.member_count,this._resetBandMemberWithFilterDataCollection(e)},_resetBandMemberWithFilterDataCollection:function(e){this.hasMoreMember()?this.reset(e.members.slice(0,this._memberCountLimit),{parse:!0}):this.reset(e.members,{parse:!0})},hasMoreMember:function(){return this._hasMoreMember},hasMemberGroup:function(){return this._hasMemberGroup},setSelectedMember:function(e,t){var n=this.get(e);t?this._selectMember(n):this._unselectMember(e,n)},setSelectedMemberGroupsMember:function(e){i.each(e,(function(e){this.get(e.userNo)?this._selectMember(this.get(e.userNo)):this._selectMember(new s(e))}),this)},toMemberSelectionViewModels:function(){return this.map((function(e){return r.buildMemberSelectionViewModelBy(e)}))},_selectMember:function(e){e&&(e.set("selected",!0),this.selectedMembers.add(e,{at:0}))},_unselectMember:function(e,t){this.selectedMembers.remove(e),t&&t.set("selected",!1)}});return l.Model=s,l.buildBandMemberWithFilterDataCollection=function(e,n,i,o){var a=new l([],{bandNo:e,filter:n,memberCountLimit:i=i||1e3,param1:o});return a.selectedMembers=new t.Collection(void 0,{model:s}),a},l}.call(t,n,t,e))||(e.exports=i)},534:function(e,t,n){var i;void 0===(i=function(e){var t=2,n=2,i=4,o={transformInternationalPhoneNumber:function(e){if(!e)return null;if(/[(]?.*[0-9]?.*[)]/.test(e)){var t=[],n=e.match(/[^\)]+\)?|\)/g);return(i=n[1].split("-")).forEach((function(e){var n=o.getTransformedNumber(e);t.push(n)})),n[1]=t.join("-"),n.join("")}var i;t=[];return(i=e.split("-")).forEach((function(e,n){if(1==n||2==n){var a=o.getTransformedNumber(e);t.push(a)}else t.push(i[n])})),t.join("-")},getTransformedNumber:function(e){var n=1;switch(e.length){case 2:case 3:n=e.length-t;break;case 4:n=e.length-t-1}return e.replace(new RegExp(".(?=.{0,"+n+"}$)","g"),"*")},transformNationalNumber:function(e){if(!e)return null;var n=(e=e.toString()).substr(0,e.length-4),i=e.substr(e.length-4),o=i.length-t-1,a=n.replace(new RegExp(".(?=.{0,"+o+"}$)","g"),"*"),r=i.replace(new RegExp(".(?=.{0,"+o+"}$)","g"),"*");return a.concat(r)},transformEmail:function(e){if(!e)return null;var t=e.lastIndexOf("@"),i=e.substr(0,t),o=e.substr(t),a=i.length-n-1;return(i=i.replace(new RegExp(".(?=.{0,"+a+"}$)","g"),"*")).concat(o)},transformNaverId:function(e){if(!e)return null;var t=e.length>i?e.length-i-1:e.length-i+1;return e.replace(new RegExp(".(?=.{0,"+t+"}$)","g"),"*")}};return o}.call(t,n,t,e))||(e.exports=i)},536:function(e,t,n){var i;void 0===(i=function(){return{RETINA_RESOLUTION_TYPE:4}}.call(t,n,t,e))||(e.exports=i)},542:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=t.create({isUserMessage:function(e){return t.isNumber(e)&&e>0&&e<100},isHidingSupport:function(e){return t.contains(o,e)},isGroupCall:function(e){return t.contains(r,e)},isReplySupport:function(e){return t.contains(a,e)}},{TEXT:1,STICKER:10,PHOTO:11,THIRD_PARTY_GIFT:12,THIRD_PARTY:13,AUDIO:14,VOICE_CALL_START:15,VIDEO_CALL_START:16,PHOTO_LIST:17,VIDEO:50,LOCATION:51,FILE:52,CONTACT:53,GIF_VIDEO:54,GIPHY:55,INVITE:101,QUIT:102,CHANGE_MESSAGE_PERIOD:103,CHANGE_CHANNEL_PROFILE:104,CHANGE_CHANNEL_NAME:105,KICK:106,VOICE_CALL_END:107,VIDEO_CALL_END:108,RECLAIM:114}),o=[i.TEXT,i.PHOTO,i.VIDEO,i.GIF_VIDEO,i.AUDIO,i.FILE,i.GIPHY,i.PHOTO_LIST],a=[i.TEXT,i.STICKER,i.PHOTO,i.AUDIO,i.VIDEO,i.LOCATION,i.GIF_VIDEO,i.GIPHY,i.PHOTO_LIST],r=[i.VOICE_CALL_START,i.VOICE_CALL_END,i.VIDEO_CALL_START,i.VIDEO_CALL_END];return i}.call(t,n,t,e))||(e.exports=i)},544:function(e,t,n){var i=n(0),o=(n(9),n(44)),a=n(58);function r(e){return function(t){var n=t&&t.bandName?t.bandName:null;return i.compact([e,n]).join(" : ")}}var s=o.ACCESS_PERMISSION_TYPE,l={routingArea:o.WEB_MAIN_ROUTING_AREA.LFG_BAND,dLayout:o.D_LAYOUT.RECRUITING_BAND,mLoader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(112)]).then(n.t.bind(null,738,7))},mPageBuilder:function(e,t,n){return e.buildMRecruitingBandLayoutView(t.band_no)}},d={LFG_BAND_HOME:new o("/lfg/:band_no",r(),i.extend({},l,{accessPermissionType:s.ANYONE})),LFG_BAND_CHAT:new o("/lfg/:band_no/chat/:channel_id",r(),i.extend({},l,{accessPermissionType:s.ANYONE})),LFG_BAND_CHAT_VIDEO_CALL:new o("/lfg/:band_no/chat/:channel_id/video-call",null,i.extend({},l,{accessPermissionType:s.BAND_MEMBER,localBand:!0,dLayout:o.D_LAYOUT.SIMPLE,skipChangePageTitle:!0})),LFG_BAND_CHAT_VOICE_CALL:new o("/lfg/:band_no/chat/:channel_id/voice-call",null,i.extend({},l,{accessPermissionType:s.BAND_MEMBER,localBand:!0,dLayout:o.D_LAYOUT.SIMPLE,skipChangePageTitle:!0})),LFG_BAND_MEMBER:new o("/lfg/:band_no/member",r(),i.extend({},l,{accessPermissionType:s.BAND_MEMBER})),LFG_BAND_MEMBER_PRINT:new o("/lfg/:band_no/member-print",r(),i.extend({},l,{accessPermissionType:s.BAND_MEMBER,dLayout:o.D_LAYOUT.SIMPLE})),LFG_BAND_SETTING:new o("/lfg/:band_no/setting",r(IM("setting.band_setting")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER})),LFG_BAND_SETTING_UPDATE:new o("/lfg/:band_no/setting/update",r(IM("setting.band_setting")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER,dLayout:o.D_LAYOUT.GLOBAL_HOME,dElClass:a.EL.FULL_WIDE})),LFG_BAND_SETTING_COVER_UPDATE:new o("/lfg/:band_no/setting/cover-update",r(IM("setting.band_setting")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER,dLayout:o.D_LAYOUT.GLOBAL_HOME,dElClass:a.EL.FULL_WIDE})),LFG_BAND_SETTING_MEMBER_WITHDRAWAL:new o("/lfg/:band_no/setting/member-withdrawal",r(IM("setting.band_setting")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER})),LFG_BAND_SETTING_JOIN_CONDITION:new o("/lfg/:band_no/setting/join-condition",r(IM("setting.band_setting")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER})),LFG_BAND_SETTING_BAND_TYPE:new o("/lfg/:band_no/setting/type",r(IM("setting.band_setting")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER})),LFG_BAND_SETTING_INTRO:new o("/lfg/:band_no/setting/intro",r(IM("groupband.band_intro_description.title")),i.extend({},l,{accessPermissionType:s.BAND_MEMBER}))};e.exports=d},546:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),o=n(83),a=n(82),r=n(161),s=n(22),l=i.Model.extend({defaults:{bandNo:0,cover:null,memberCount:0,name:null,themeColor:null,isRecruiting:!1,recruitingMemberCapacity:0,currentUserPostingPermitted:!1},idAttribute:"bandNo",parse:function(e){var n=e.band,i={bandNo:n.band_no,name:n.name,themeColor:n.theme_color,type:"group"},o=r.createBandCore(i).getSkinColorClass(),a=1==((e.band||{}).properties||{})[s.PROPERTIES.POST_WITHOUT_APPROVAL],l=(e.member||{}).permitted_operation,d=t.contains(l,s.PERMITTED_OPERATION.POSTING),c=t.contains(l,s.PERMITTED_OPERATION.APPROVE_POST),u=d&&(a||c);return{bandNo:n.band_no,cover:n.cover,memberCount:n.member_count,name:n.name,themeColor:n.theme_color,isRecruiting:n.is_recruiting,recruitingMemberCapacity:n.recruiting_member_capacity,currentUserPostingPermitted:u,skinColorClassWithFilterDataBandCore:o}},getBandNo:function(){return this.get("bandNo")},getCoverThumbnail:function(){return a.make(this.get("cover"),a.TYPE.s75)},getMemberCount:function(){return this.get("memberCount")},getBandName:function(){return this.get("name")},getThemeColor:function(){return this.get("themeColor")},getBandWithFilterDataBandCore:function(){var e={bandNo:this.get("bandNo"),name:this.get("name"),themeColor:this.get("themeColor"),type:"group"};return r.createBandCore(e)}}),d=i.Collection.extend({model:l,initialize:function(e,t){this.filterName=t.filterName,this.returnFieldsWithBandFilter=t.returnFieldsWithBandFilter,this.excludeBandNos=t.excludeBandNos,this.includeRestricted=t.includeRestricted},fetchBandWithFilterDataCollection:function(){return o.getBandListWithFilter(this.filterName,this.returnFieldsWithBandFilter,this.includeRestricted).then(t.bind(this._setResultData,this))},_setResultData:function(e){var n=t.filter(e,(function(e){return null==this.excludeBandNos||0==this.excludeBandNos.length||this.excludeBandNos.indexOf(e.band.band_no)<0}),this);return this.reset(n,{parse:!0}),this}});return d.buildWithData=function(e){return new d(e,{parse:!0})},d.build=function(e,t,n,i){return new d([],{filterName:e,returnFieldsWithBandFilter:t,excludeBandNos:n||[],includeRestricted:i||!1})},d}.call(t,n,t,e))||(e.exports=i)},547:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(21),o=null,a=function(){return o||(o=i.getLoginV1Client()),o};return{getJoinForm:function(e,t){return i.getLoginV1ClientWithoutErrorAlert().send({url:"https://api.band.us/v1.6.2/get_join_form",data:{join_value:t,join_type:e}}).then((function(e){return e.result_data}))},makeApplication:function(e){return a().sendAndThenProcess({url:"https://api.band.us/v1.5.0/make_application",data:e,type:"post"})},joinBand:function(e){return a().sendAndThenProcess({url:"https://api.band.us/v1.6.0/join_band",data:e,type:"post"})},cancelApplication:function(e){return a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/cancel_application",data:{band_no:e},type:"POST"})},getApplicationOfUser:function(e){return a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_application_of_user",data:e})},getApplicationOfBand:function(e,n){return n=n||{},a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_application_of_band",data:t.extend({band_no:e},n)})},getApplicationDetailInfo:function(e,t){return a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_application_detail_info",data:{band_no:e,member_key:t}})},acceptApplication:function(e,t){return a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/accept_application",data:{band_no:e,member_key:t},type:"POST"})},denyApplication:function(e,t){return a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/deny_application",data:{band_no:e,member_key:t},type:"POST"})},setApplicantProfile:function(e,t,n){var i={band_no:e,applicant_name:t};return null!=n&&(i.applicant_profile_image_url=n),a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/set_applicant_profile",data:i,type:"POST"})},getJoinInfo:function(e,t){var n={band_no:e};return t&&(n.member_key=t),a().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_join_info",data:n})}}}.call(t,n,t,e))||(e.exports=i)},548:function(e,t,n){var i,o;i=[n(2),n(0),n(21),n(506),n(17)],void 0===(o=function(e,t,n,i,o){return{getApiClient:function(){return this.apiClient||(this.apiClient=n.getLoginV1Client()),this.apiClient},_handleAcceptResult:function(e){if(1!=e.result_code){var t={ACCEPT_FAIL:1e3,CHANGE_JOIN_TYPE:1015};return e.result_data&&e.result_data.message&&alert(e.result_data.message),e.result_code===t.ACCEPT_FAIL?{resultType:"acceptFail",failInfo:o.queryStringToObject(e.result_data.url)}:e.result_code===t.CHANGE_JOIN_TYPE?{resultType:"changeJoinType"}:{resultType:"error"}}return{resultType:"success"}},deleteInvitationCard:function(e,t){return t=t||!1,this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.2.0/delete_invitation_card",data:{invitation_card_id:e,is_deny:t}})},deleteInvitationUrl:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.2.0/delete_invitation_url",data:{invitation_url_id:e}})},getInvitationCards:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.1.0/get_invitation_cards",data:{band_no:e}})},getInvitationUrls:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_invitation_urls",data:{band_no:e}})},getApplicationCount:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1/invitation/get_application_count",data:{band_no:e}})},reinvite:function(e,t){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.2.0/reinvite",data:{band_no:e,invitation_card_id:t}})},makeInvitationMessage:function(e,t){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.4.0/make_invitation_message",data:{band_no:e,type:t||"user_email"}})},inviteByBandMembers:function(e,t,n){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.2.0/invite_by_band_members",data:{band_no:e,invitee_user_nos:t,source_band_no:n}})},getPinCode:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.1.0/get_pin_code",data:{band_no:e}})},generatePinCode:function(e,t){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.2.0/generate_pin_code",data:{band_no:e,valid_hour:t}})},getInvitationCardDetailInfo:function(e){return this.getApiClient().send({url:"https://api.band.us/v1.5.0/get_invitation_detail_info",data:{invitation_card_id:e}}).then((function(e){return e.result_data}),(function(e){return e&&e.result_data&&e.result_data.message&&(e.result_code<200||e.result_code>=300)&&alert(e.result_data.message),e}))},getInvitationUrlDetailInfo:function(t){return n.getNoLoginV1Client().send({url:"https://api.band.us/v1.0.0/get_invitation_url_detail_info",data:{invitation_url_id:t}}).then((function(t){return 200==t.result_code?e.Deferred().reject(t).promise():t.result_data}))},makeInvitation:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.6.0/make_invitation",data:{key:e}})},verifyPinCode:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v1.3.0/verify_pin_code",type:"post",data:{code:e}}).fail((function(e){200!=e.result_code&&e.result_data&&e.result_data.message&&alert(e.result_data.message)}))}}}.apply(t,i))||(e.exports=o)},552:function(e,t,n){var i;void 0===(i=function(){return{BAND_JOIN_APPLICANT_COMMENT_MAX_LENGTH:500,INPUT_PHOTO_DATA_KEY:"photo-url",INPUT_PHOTO_IMG_SELECTOR:"._inputPhotoImg",INPUT_PHOTO_DELETE_BUTTON_SELECTOR:"._deleteAttachedPhoto",INPUT_PHOTO_SELECTOR:"._inputPhoto"}}.call(t,n,t,e))||(e.exports=i)},555:function(e,t,n){var i;void 0===(i=function(){return{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,IME:229,FORWARD_SLASH:191,QUESTION_MARK:191,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90}}.apply(t,[]))||(e.exports=i)},558:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(2),a=n(6),r=n(168),s=n(174),l=n(572),d=n(497),c=n(13),u=a.Model.extend({defaults:function(){return{userNo:null,bandNo:null,bandName:null,name:null,description:null,originProfileImageUrl:"",profileImageUrl:"",profileImageWidth:"",profileImageHeight:"",cellphone:null,memberCreatedAt:null,role:{},birthdayLabel:null,isOpenCellphone:null,isOpenBirthday:null,isMemberSelectableForChat:!1,isDeleted:!1,userProfileSetId:null,profileImageUpdatedAt:null}},parse:function(e,n){var i=this.defaults();return t.extend(i,{userNo:e.member.user_no,bandNo:e.band.band_no,bandName:e.band.name,name:e.member.name,description:e.member.description,originProfileImageUrl:e.member.profile_image_url,profileImageUrl:e.member.profile_image_url,cellphone:s.toDisplayPhoneNumber(e.member.cellphone),memberCreatedAt:e.member.member_created_at,role:d.parseRole(e.member.role),birthdayLabel:this._makeBirthdayLabel(e.member.birthday,e.member.is_lunar),isOpenCellphone:e.member.is_open_cellphone,isOpenBirthday:e.member.is_open_birthday,isModifyOpenBirthday:-1!=t.indexOf(e.member.permitted_operation,"modify_open_birthday"),isModifyOpenCellphone:-1!=t.indexOf(e.member.permitted_operation,"modify_open_cellphone"),isMemberSelectableForChat:-1!=t.indexOf(e.member.permitted_operation,"send_message"),canBanChat:-1!=t.indexOf(e.member.permitted_operation,"ban_chat"),canBanMember:-1!=t.indexOf(e.member.permitted_operation,"ban_member"),canBlockCommentAndChat:-1!=t.indexOf(e.member.permitted_operation,"block_comment_and_chat"),isDeleted:!!e.member.is_deleted,userProfileSetId:e.member.user_profile_set_id,profileImageUpdatedAt:e.member.profile_image_updated_at})},isMyProfile:function(){return this._isMyProfile(this.get("userNo"))},_isMyProfile:function(e){return c.getUserData().getUserNo()===e},fetchMemberWithChannel:function(e,n){return r.getMemberWithChannel(e,n).then(t.bind((function(e){return this.set(this.parse(e)),this}),this))},fetchMemberWithBand:function(e,n){var i={band_no:e};return n&&(i.user_no=n),r.getMemberWithBand(i).then(t.bind((function(e){return this.set(this.parse(e)),this}),this))},_makeBirthdayLabel:function(e,t){return l.makeBirthdayLabel(e,t)},isOpenBirthdayModifiable:function(){return this.get("isModifyOpenBirthday")&&this.get("birthdayLabel")},isOpenCellphoneModifiable:function(){return this.get("isModifyOpenCellphone")&&this.get("cellphone")},setMemberProfile:function(e,t,n){try{return r.setMemberProfile(this._getSubmitParams(e,t,n))}catch(e){return o.Deferred().reject(e)}},_getSubmitParams:function(e,n,o){var a=this._parseSubmitParams(this);if(e&&t.every(["name","profileImageUrl"],(function(t){return i.trim(this.get(t))===i.trim(e.get(t))}),this))a=t.extend(t.omit(a,"name","profile_image_url"),{user_profile_set_id:e.get("userProfileSetId")});else if(!a.name)throw"name";return n&&o&&(a.profile_image_width=o.width,a.profile_image_height=o.height,a.create_profile_image_change_post=!0),a},hasDifference:function(e){return!t.isEqual(this._parseSubmitParams(e),this._parseSubmitParams(this))},hasProfileSetDifference:function(e){return!t.isEqual(this._parseProfileSetObject(e),this._parseProfileSetObject(this))},_parseProfileSetObject:function(e){var t=e.attributes;return{name:i.trim(t.name),profile_image_url:t.profileImageUrl}},_parseSubmitParams:function(e){var t=e.attributes,n={band_no:t.bandNo,name:i.trim(t.name),profile_image_url:t.profileImageUrl,description:i.trim(t.description)};return e.isOpenBirthdayModifiable()&&(n.open_birthday=t.isOpenBirthday||!1),e.isOpenCellphoneModifiable()&&(n.open_cellphone=t.isOpenCellphone||!1),n},isUndefinedOpenBirthday:function(){return t.isUndefined(this.get("isOpenBirthday"))},isUndefinedOpenCellphone:function(){return t.isUndefined(this.get("isOpenCellphone"))},createSubmitModel:function(e,t,n,i,o){return new u(this.toJSON()).set({name:e,description:t,profileImageUrl:n,isOpenBirthday:i,isOpenCellphone:o})}});return u.fetchMemberWithBand=function(e,t){return(new u).fetchMemberWithBand(e,t)},u.fetchMemberWithChannel=function(e,t){return(new u).fetchMemberWithChannel(e,t)},u}.call(t,n,t,e))||(e.exports=i)},559:function(e,t,n){var i;void 0===(i=function(){return{NONE:0,ENTER:1,SHIFT_ENTER:2,CONTROL_ENTER:3}}.call(t,n,t,e))||(e.exports=i)},562:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(486),a=n(1175),r={CONFIRM:"modal:confirm"},s=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DAlertModalView"},template:t.template(a),ui:{btnConfirm:"._btnConfirm"},events:{"click @ui.btnConfirm":function(){this._confirmModalView()}},initialize:function(e){this._validateOptions(e),this.model=new Backbone.Model({headerTitle:e.headerTitle,bodyTitle:e.bodyTitle,bodyDesc:e.bodyDesc,confirm:e.confirm||IM("ui.label.confirm")})},layerOnEscKeyDown:function(){this.isDestroyed()||this._confirmModalView()},_confirmModalView:function(){this.trigger(r.CONFIRM),this.destroy()},_validateOptions:function(e){!e.bodyTitle&&t.isEmpty(e.bodyDesc)&&console.error("One of bodyTitle or bodyDesc is required!!")},onAttach:function(){this.ui.btnConfirm.focus()}});return s.EVENTS=r,s.openLayer=function(e){var t=new s(e);return e.withoutHiding?o.openWithoutHiding(t):o.open(t),t},s}.call(t,n,t,e))||(e.exports=i)},564:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(6),a=n(519),r=n(575),s=n(155),l=o.Collection.extend({model:r,fetchChattingChannels:function(){return a.getAllChatChannels().then(t.bind((function(e){var n=t.chain(e.channels).filter((function(e){return!!e.band})).sortBy((function(e){return!e.is_pinned})).value();return this.newChatCount=t.reduce(n,(function(e,t){return e+(t.new_message_count||0)}),0),this.reset(n,{parse:!0}),this}),this))},fetchBandChattingChannels:function(e){return i.when(this._fetchChatChannels(e),this._fetchOpenChatChannels(e)).then(t.bind((function(e,n){var i=t.indexBy(e,"channel_id"),o=t.filter(n,(function(e){return!i[e.channel_id]})),a=this._sortByPinned(e).concat(o);return this.reset(a,{parse:!0}),this}),this))},fetchBandChatChannels:function(e){return this._fetchChatChannels(e).then(t.bind((function(e){return this.reset(this._sortByPinned(e),{parse:!0}),this}),this))},fetchOpenChatChannels:function(e){return this._fetchOpenChatChannels(e).then(t.bind((function(e){return this.reset(e,{parse:!0}),this}),this))},removeDuplicateChatChannels:function(e){var t=this.filter((function(t){return e.get(t.getChatChannelId())}));this.remove(t)},_sortByPinned:function(e){return t.sortBy(e,(function(e){return!e.is_pinned}))},_fetchChatChannels:function(e){return a.getChatChannels(e).then((function(e){return e.channels}))},_fetchOpenChatChannels:function(e){var n=s.get(e);return i.when(a.getOpenChatChannels(e),n.loadBandData()).then((function(e){var i=n.getBandCore(),o=e.open_channels,a={type:i.type,band_no:i.bandNo,name:i.name,cover:i.cover,theme_color:i.themeColor};return t.each(o,(function(e){e.band=a,e.is_open=!0,e.is_group=!0,e.is_default_channel&&(e.name=a.name)})),o}))}});return l.build=function(){return new l([])},l.Commands={createChannel:function(e,t){return a.createChannel(t,e).then((function(e){var t=e.channel,n=t.band;return{channelId:t.channel_id,bandNo:n.band_no}}))},createOpenChatChannel:function(e,t,n,i){return a.createOpenChatChannel(e,t,n,i).then((function(e){var t=e.channel,n=t.band;return{channelId:t.channel_id,bandNo:n.band_no}}))}},l}.call(t,n,t,e))||(e.exports=i)},569:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(6),a=n(4),r=n(52),s=n(527),l=n(493),d=n(160),c=n(82),u=n(491),h=n(85),A=n(546),p=n(172),m=n(155),f=new(o.Model.extend({getBandMembersFetchPromise:function(e){return this.get(""+e)},setBandMembersFetchPromise:function(e,t){this.set(""+e,t)},expireBandMembersFetchPromise:function(e){this.unset(""+e)}})),_=new(o.Model.extend({getBandMemberGroupsFetchPromise:function(e){return this.get(""+e)},setBandMemberGroupsFetchPromise:function(e,t){this.set(""+e,t)},expireBandMemberGroupsFetchPromise:function(e){this.unset(""+e)}}));return new(a.Object.extend({fetchMentionMembersAndMemberGroups:function(e){return u.getCachedBandData(e).then(i.bind((function(n){if(!n.canMention())return{mentionArray:[],memberCollection:[],hasMoreMember:!1,canMentionMemberGroup:!1};var o=t.Deferred().resolve([]);return n.canMentionToCurrentBandMemberGroup()&&(o=this.fetchCachedBandMemberGroups(e)),t.when(this.fetchCachedBandMembers(e),o).then(i.bind((function(e,t){return this.listenTo(n,m.UPDATE_EVENT.MEMBER,(function(){this._resetMembersAtHolder(n)})),this.listenTo(n,m.UPDATE_EVENT.BAND,(function(){this._resetMembersAtHolder(n)})),{memberCollection:e.memberCollection,leaderColeaderCollection:e.leaderColeaderCollection,hasMoreMember:e.hasMoreMember,memberGroupMentionArray:t,canMentionMemberGroup:n.canMentionToCurrentBandMemberGroup()}}),this))}),this))},fetchCachedBandMembers:function(e){var t=f.getBandMembersFetchPromise(e);return t||(t=this._fetchBandMembers(e),f.setBandMembersFetchPromise(e,t),t)},fetchCachedBandMemberGroups:function(e){var t=_.getBandMemberGroupsFetchPromise(e);return t||(t=this._fetchBandMemberGroups(e),_.setBandMemberGroupsFetchPromise(e,t),t)},debouncedFetchMemberList:function(e,n,o){clearTimeout(o);var a=t.Deferred(),r=setTimeout(i.bind((function(){this._fetchMultipleMemberList(e,n).then((function(e){a.resolve(e)}))}),this),500);return{promise:a,timer:r}},convertCollectionToMentionArray:function(e,t){return i.isEmpty(e)?[]:e.map((function(e){return p.buildBandMemberMention(e.getUserNo(),e.getName(),t,c.makeProfileThumbnailUrl(e.getProfileImageUrl()),e.getDesc())}))},concatMentionArrayAndSort:function(e,t){var n=[].concat(e||[]).concat(t||[]);return i.sortBy(n,(function(e){return e.getLowerCaseMentionName()}))},extractMatchingMentionsButEmptyQuery:function(e,t){return i.isEmpty(e)||null==t||""==t?[]:i.filter(e,(function(e){return e.getLowerCaseMentionName().indexOf(t.toLowerCase())>-1}))},fetchBandListForMention:function(e,t){var n=A.build(h.MENTION,h.getFieldsWithFilterType(h.MENTION),[t]);return n.fetchBandWithFilterDataCollection().then((function(){return n}))},_fetchMultipleMemberList:function(e,n){var o=[];i.each(this._generateTypingStringArray(n),(function(t){o.push(this._fetchMentionMemberListByQuery(e,t))}),this);var a={query:n,firstMatchingList:[],secondMatchingList:[]};return i.isEmpty(o)?t.Deferred().resolve(a):t.when.apply(t,o).then((function(e,t){return a.firstMatchingList=e.models||[],t&&!i.isEmpty(t.models)&&(a.secondMatchingList=t.models),a}))},_fetchMentionMemberListByQuery:function(e,t){return u.getCachedBandData(e).then((function(n){if(!n.canMention())return[];var i=s.buildBandMemberWithFilterDataCollection(e,d.MENTION,1e3);return i.searchBandMemberWithFilterDataCollection(t).then((function(){return i}))}))},_fetchBandMembers:function(e){var n=s.buildBandMemberWithFilterDataCollection(e,d.MENTION,1e3),o=s.buildBandMemberWithFilterDataCollection(e,d.SECRET_SCHEDULE_MANAGER,1e3),a=m.get(e);return a.loadBandData().then((function(){var e=t.Deferred().resolve();return a.getBandCore().supportSecretScheduleManagerFetch()&&(e=o.fetchBandMemberWithFilterDataCollection()),t.when(n.fetchBandMemberWithFilterDataCollection(),e).then(i.bind((function(){return{memberCollection:n,leaderColeaderCollection:o,hasMoreMember:n.hasMoreMember()}}),this))}))},_fetchBandMemberGroups:function(e){return l.getMemberGroups(e).then(i.bind((function(e){var t=r.camelizeKeys(e.items);return i.map(t,(function(e){return p.buildBandMemberGroup(e.memberGroupId,e.name,e.memberCount)}))}),this))},_generateTypingStringArray:function(e){var t=e.slice(0,-1);return i.compact([e,t])},_resetMembersAtHolder:function(e){f.expireBandMembersFetchPromise(e.getBandNo()),_.expireBandMemberGroupsFetchPromise(e.getBandNo()),this.stopListening(e,m.UPDATE_EVENT.MEMBER),this.stopListening(e,m.UPDATE_EVENT.BAND)}}))}.call(t,n,t,e))||(e.exports=i)},572:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(16),o=n(9);return{changePageTitle:function(e,n){if(!e.routeInfo.isSkipChangePageTitle()){var i=e.routeInfo.PAGE_TITLE;t.isFunction(i)&&(i=i.call(e,n)),document.title=IM("page.title",{title:t.unescape(i)})}},makeBirthdayLabel:function(e,t){if(!e)return null;var n=i(e,"MMDD");if(!n.isValid())return null;var a=o.format.date(n,"month_day");return t&&(a=a+"("+IM("web.profile.label.lunar")+")"),a}}}.call(t,n,t,e))||(e.exports=i)},575:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),o=n(6),a=n(603),r=n(161),s=n(519),l=n(52),d=n(506),c=n(587),u="joinable",h="join_denied",A="talking_to_page",p={ENABLED:"enabled",DISABLED:"disabled"},m="min",f="on",_="membership",g="public",b="private",M=o.Model.extend({_initialized:!1,idAttribute:"channel_id",defaults:function(){return{channel_id:null,band:{},bandCore:null,bandInfo:{},bandNo:0,channelId:null,isDefaultChannel:!1,isOpen:!1,notification:!1,createdAt:0,channelName:"",channelDescription:"",creator:{},latestMessage:{},messagePeriod:m,newMessageCount:0,notice:null,profileUrl:"",userCount:1,updatedAt:0,type:g,userStatus:null,permittedOperation:null,joinStatus:null,joinDeniedReason:null,userLastMessageNo:0,userNotice:null,isPinned:!1,isGroup:!1,messageReadersVisibleState:p.DISABLED,oldestReadableMessageNo:0,oldestServerMessageNo:0,unreadCountVisible:!1,purpose:null,participants:[],isMessagingDisabled:!1,isBig:!1,groupCall:{}}},_parseUserNotice:function(e){return e?l.camelizeKeys(e):null},_parseGroupCall:function(e){return null==e?null:l.camelizeKeys(e)},parse:function(e){var n=e.band||{},i=n.band_no||e.band_no,o=l.camelizeKeys(e.creator||{}),s=e.latest_message||{},c=e.is_group||!1,u=e.channel_id;return{channel_id:u,band:n,bandCore:t.isEmpty(n)?null:r.createBandCore(n),bandInfo:{bandCover:n.cover,bandName:n.name,certified:n.certified,bandNo:n.band_no,themeColor:n.theme_color,type:n.type,isRecruiting:n.is_recruiting},bandNo:i,channelId:u,isDefaultChannel:e.is_default_channel||!1,isOpen:e.is_open||!1,notification:e.notification==f,createdAt:e.created_at,channelName:e.name,channelDescription:e.description,creator:o,latestMessage:{textBody:a.toTextMessage(s.message_type,s.content),body:s.content||null,no:s.message_no,type:s.message_type,userName:d.get(s,"creator.name","")},messagePeriod:e.message_period,newMessageCount:e.new_message_count||0,notice:e.notice,profileUrl:e.profile_url,userCount:e.participant_count,updatedAt:e.updated_at||e.latest_message_received_at,type:c?g:b,userStatus:e.user_status||null,permittedOperation:e.permitted_operation,joinStatus:e.join_status,joinDeniedReason:e.join_denied_reason,userLastMessageNo:e.latest_read_message_no,userNotice:this._parseUserNotice(e.user_notice),isPinned:e.is_pinned||!1,isGroup:c,messageReadersVisibleState:e.message_readers_visible_state,oldestReadableMessageNo:e.oldest_readable_message_no,oldestServerMessageNo:e.oldest_server_message_no,unreadCountVisible:e.unread_count_visible,purpose:e.purpose,participants:l.camelizeKeys(e.participants||[]),isMessagingDisabled:e.is_messaging_disabled||!1,isBig:e.is_big||!1,groupCall:this._parseGroupCall(e.group_call)}},setWithParse:function(e){this._initialized=!0,this.set(this.parse(e))},isInitialized:function(){return this._initialized},setUserNotice:function(e){this.set("userNotice",this._parseUserNotice(e))},hasUserNotice:function(){return!!this.get("userNotice")},getBand:function(){return this.get("band")},getChannelBandInfo:function(){return this.get("bandInfo")},hasChannelBandInfo:function(){return!!this.get("bandInfo").bandNo},getChannelId:function(){return this.get("channelId")},isDefaultChannel:function(){return this.get("isDefaultChannel")},getLatestMessageNo:function(){return this.getChatChannelLatestMessage().no},hasLatestMessage:function(){return!!this.getLatestMessageNo()},getChatChannelLatestMessage:function(){return this.get("latestMessage")},getChannelName:function(){return this.get("channelName")},getNewMessageCount:function(){return this.get("newMessageCount")},isPrivateChannel:function(){return!this.get("isGroup")},isOpenChannel:function(){return!!this.get("isOpen")},isRecruitingChannel:function(){return this.getChannelBandInfo().isRecruiting},getChannelType:function(){return this.get("type")},getLookType:function(){return this.isPrivateChannel()?"personLook":this.isDefaultChannel()?"bandLook":"groupLook"},getUserCount:function(){return this.get("userCount")},getUpdatedAt:function(){return this.get("updatedAt")},getBandNo:function(){return this.get("bandNo")},getMessagePeriod:function(){return this.get("messagePeriod")},setMessagePeriod:function(e){this.set("messagePeriod",e)},isJoinDenied:function(){return this.get("joinStatus")==h},isJoinable:function(){return this.get("joinStatus")==u},setChatChannelInfo:function(e,n,o){var a={name:this.get("channelName")||null,description:this.get("channelDescription")||null,profile:this.get("profileUrl")||null},r={name:e||null,description:n||null,profile:o||null},l=this.getChatChannelBandNo(),d=this.getChatChannelId();return e?t.isEqual(a,r)?i.Deferred().resolve():s.SettingApi.setChatChannelInfo(l,d,e,n,o).then(t.bind((function(e){var t=e.channel;this.set({channelName:t.name,channelDescription:t.description,profileUrl:t.profile_url})}),this)):i.Deferred().reject()},getNotice:function(){return this.get("notice")},hasNotice:function(){return!!this.getNotice()},isPermitted:function(e){return this.get("permittedOperation")&&this.get("permittedOperation").indexOf(e)>-1},getChatChannelDisplayMessage:function(){var e=this.get("channelDescription"),n=this.getChatChannelLatestMessage();return this.isJoinDenied()?"exceed_limit"===this.get("joinDeniedReason")?IM("web.chatting.exceed_limit"):IM("channel_list.message.join_denied"):this.hasLatestMessage()?t.isEmpty(n.textBody)?"":this.isPrivateChannel()||this.isPageBandChatChannel()?n.textBody:[n.userName||IM("chat.unknown_writer_name"),n.textBody].join(" : "):this.isOpenChannel()?e||(this.isDefaultChannel()?this.isRecruitingBandChatChannel()?IM("recruiting_band.chatting_message.default"):IM("chat.setting.txt.default_channel_description"):IM("web.chatting.start_talking_to_your_group")):""},isPageBandChatChannel:function(){return this.get("purpose")==A},isRecruitingBandChatChannel:function(){var e=this.getChatChannelBandCore();return!!e&&e.isChatRoomRecruiting()},getChatChannelCreator:function(){return t.clone(this.get("creator"))},getChatChannelCreatorUserNo:function(){return this.get("creator").userNo},getChatChannelDescription:function(){return this.get("channelDescription")},getChatChannelCreatedAt:function(){return this.get("createdAt")},isMessageReadersVisibleChatChannel:function(){return this.get("messageReadersVisibleState")==p.ENABLED},setMessageReadersVisibleState:function(e){this.set("messageReadersVisibleState",e)},getChatChannelDisplayNewMessageCount:function(){var e=this.getNewMessageCount();return e>999?"999+":e},initChatChannelNewMessageCount:function(){this.set("newMessageCount",0)},isPinnedChatChannel:function(){return this.get("isPinned")||!1},togglePageChatChannelPinned:function(){var e=!this.isPinnedChatChannel();return this._togglePageChatChannelPinned(e).then(t.bind((function(){this.set("isPinned",e)}),this))},_togglePageChatChannelPinned:function(e){var t=this.getChatChannelBandNo(),n=this.getChatChannelId();return e?s.pinPageChatChannel(t,n):s.unpinPageChatChannel(t,n)},getChatChannelBandCore:function(){return this.get("bandCore")},isMessagingDisabledChatChannel:function(){return this.get("isMessagingDisabled")||!1},getChatChannelPageBandSubscriber:function(){var e=this.isPageBandChatChannel()?t.findWhere(this.get("participants"),{memberType:_}):null;return e?t.clone(e):null},getChatChannelProfileUrl:function(){return this.get("profileUrl")},getChatChannelBandNo:function(){return this.get("bandNo")},getChatChannelId:function(){return this.get("channelId")},getParticipants:function(){return this.get("participants")},isGroupChatChannel:function(){return this.get("isGroup")},isCertifiedBandChatChannel:function(){return this.getChannelBandInfo().certified||!1},isJoinableChatChannel:function(){return this.get("joinStatus")==u},isBigChatChannel:function(){return this.get("isBig")},isInvitePermittedChatChannel:function(){return this.isPermitted(M.OPERATIONS.INVITE_CHAT)},canSetMessageReadersVisibleState:function(){return!this.isPageBandChatChannel()&&this.isPermitted(M.OPERATIONS.SET_MESSAGE_READERS_VISIBLE_STATE)},getGroupCall:function(){return this.get("groupCall")},getGroupCallKey:function(){return(this.getGroupCall()||{}).groupCallKey},setGroupCall:function(e){this.set("groupCall",this._parseGroupCall(e))},isGroupCallExistAndNotClosed:function(){var e=this.getGroupCall();return!t.isEmpty(e)&&e.status!=c.CALL_STATUS_CLOSE},isVoiceCallOpen:function(){return!!this.isGroupCallExistAndNotClosed()&&0==this.getGroupCall().isVideo},isVideoCallOpen:function(){return!!this.isGroupCallExistAndNotClosed()&&1==this.getGroupCall().isVideo}});return M.OPERATIONS={CHANGE_MESSAGE_PERIOD:"change_message_period",DELETE_CHAT:"delete_chat",BAN_MEMBER:"ban_member",BAN_CHAT:"ban_chat",EDIT_CHAT_INFO:"edit_chat_info",SET_USER_NOTICE:"set_user_notice",HIDE_MESSAGE:"hide_message",INVITE_CHAT:"invite_chat",ACCEPT_APPLICATION:"accept_application",SET_MESSAGE_READERS_VISIBLE_STATE:"set_message_readers_visible_state"},M.STATE=p,M.create=function(e){return new M({channelId:e})},M}.call(t,n,t,e))||(e.exports=i)},577:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(4),a=n(55);function r(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}return new(o.Object.extend({initialize:function(){a.get$Window().on(this.FULLSCREEN_EVENT_NAME,i.bind((function(){this.trigger(this.FULLSCREEN_CHANGE_EVENT,this.isFullScreenMode())}),this))},FULLSCREEN_EVENT_NAME:"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",FULLSCREEN_CHANGE_EVENT:"FULLSCREEN_CHANGE_EVENT",isEnableFullScreen:function(){var e;return document.fullscreenEnabled?e=document.fullscreenEnabled:document.msFullscreenEnabled?e=document.msFullscreenEnabled:document.mozFullScreenEnabled?e=document.mozFullScreenEnabled:document.webkitFullscreenEnabled&&(e=document.webkitFullscreenEnabled),e},isFullScreenMode:function(){return!!r()},isFullScreenElementIn:function(e){var n=r();return!!n&&e===n||t.contains(e,n)},closeFullScreen:function(){return this.isFullScreenMode()?(document.exitFullscreen?e=document.exitFullscreen():document.cancelFullScreen?e=document.cancelFullScreen():document.mozCancelFullScreen?e=document.mozCancelFullScreen():document.webkitCancelFullScreen?e=document.webkitCancelFullScreen():document.msExitFullscreen&&(e=document.msExitFullscreen()),e&&i.isFunction(e.then)?e:t.Deferred().resolve().promise()):t.Deferred().resolve().promise();var e},openFullScreen:function(e){var n;return e||(e=document.documentElement),e.requestFullscreen?n=e.requestFullscreen():e.mozRequestFullScreen?n=e.mozRequestFullScreen():e.webkitRequestFullscreen?n=e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&(n=e.msRequestFullscreen()),n&&i.isFunction(n.then)?n:t.Deferred().resolve().promise()}}))}.call(t,n,t,e))||(e.exports=i)},581:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(0),o=n(82),a=t.Model.extend({idAttribute:"userNo",getUserNo:function(){return this.get("userNo")},getUserName:function(){return this.get("userName")},getDescription:function(){return this.get("description")},isDescriptionExist:function(){return!i.isEmpty(this.getDescription())},getExtraText:function(){return this.get("extraText")},setExtraText:function(e){this.set("extraText",e)},isExtraTextExist:function(){return!i.isEmpty(this.getExtraText())},isDisabled:function(){return 1==this.get("disabled")},setDisabled:function(e){this.set("disabled",e)},getProfileImageUrl:function(){return this.get("profileImageUrl")},getProfileThumbnail:function(){return this.get("profileThumbnail")},getProfileInnerClass:function(){return this.get("profileInnerClass")},isKid:function(){return 1==this.get("isKid")},isSelected:function(){return 1==this.get("selected")},setSelected:function(e){this.set("selected",e)},isSelectAllBtn:function(){return 1==this.get("selectAllBtn")}});function r(e){return new a({userNo:e.userNo,userName:e.userName,profileImageUrl:e.profileImageUrl,profileThumbnail:e.profileThumbnail,profileInnerClass:o.makeProfileInnerClass(e.profileThumbnail),selectAllBtn:e.selectAllBtn,description:e.description,isKid:e.isKid||!1,selected:e.selected||!1,extraText:e.extraText||null,disabled:e.disabled||!1})}return a.NONE_EXIST_USER_NO=-99999,a.buildMemberSelectionViewModelBy=function(e){return a.buildMemberSelectionViewModel({userNo:e.getUserNo(),userName:e.getName(),description:e.getDesc(),profileImageUrl:e.getProfileImageUrl(),isKid:e.isKid()})},a.buildMemberSelectionViewModel=function(e){return r({userNo:e.userNo,userName:e.userName,profileImageUrl:e.profileImageUrl,profileThumbnail:o.makeProfileThumbnailUrl(e.profileImageUrl),selectAllBtn:!1,description:e.description,isKid:e.isKid,selected:e.selected,extraText:e.extraText,disabled:e.disabled})},a.buildSelectAllBtnModel=function(e){return r({userNo:a.NONE_EXIST_USER_NO,userName:e.btnName,profileImageUrl:e.btnImageUrl,profileThumbnail:o.makeMediumSquareCoverUrl(e.btnImageUrl),selectAllBtn:!0,description:e.description})},a}.call(t,n,t,e))||(e.exports=i)},582:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(4),a=n(34),r=n(177),s=o.Object.extend({initialize:function(e){e=e||{},this.message=e.message,this.packNo=null,this.stickerId=null,this.photos=[],this.videoId=null,this.videoUrl=null,this.videoWidth=null,this.videoHeight=null,this.videoName=null,this.gifVideo=!1,this.videoPlaytime=null,this.fileName=null,this.fileId=null,this.fileSize=null},setStickerInfo:function(e,t){this.packNo=e,this.stickerId=t},getPhotoCount:function(){return this.photos.length},isMaxPhotoCount:function(){return this.getPhotoCount()>=r.COMMENT.PHOTO_COUNT_LIMIT},addInputPhoto:function(e,t,n){this.photos.push({url:e,width:t,height:n})},getInputPhotos:function(){return this.photos},removePhotoInfoByUrl:function(e){this.photos=t.reject(this.photos,(function(t){return t.url==e}))},setInputPhotos:function(e){this.photos=e||[]},setVideoInfo:function(e,t,n,i,o,a,r){this.videoId=e,this.videoUrl=t,this.videoWidth=n,this.videoHeight=i,this.videoName=o,this.gifVideo=a,this.videoPlaytime=r||null},setFileInfo:function(e,t,n){this.fileName=e,this.fileId=t,this.fileSize=n},setDropboxFileInfo:function(e,t,n){this.dropboxFileName=e,this.dropboxFileId=t,this.dropboxFileSize=n},setExternalFileInfo:function(e,t,n){this.externalFileName=e,this.externalFileId=t,this.externalFileSize=n},isPhotoExist:function(){return!t.isEmpty(this.photos)},isVideoExist:function(){return null!=this.videoId},isFileExist:function(){return null!=this.fileName},isDropboxFileExist:function(){return null!=this.dropboxFileName},isExternalFileExist:function(){return null!=this.externalFileName},isStickerExist:function(){return null!=this.stickerId},isAttachedDataExist:function(){return this.isAttachmentExist()},isMessageExist:function(){return null!=this.message&&""!=i.trim(this.message)},resetSticker:function(){this.setStickerInfo(null,null)},setMessage:function(e){this.message=e},resetPhoto:function(){this.photos=[]},resetVideo:function(){this.setVideoInfo(null,null,null,null,null,null,null)},resetFile:function(){this.setFileInfo(null,null,null)},resetDropboxFile:function(){this.setDropboxFileInfo(null,null,null)},resetExternalFile:function(){this.setExternalFileInfo(null,null,null)},resetCommentInput:function(){this.resetPhoto(),this.resetSticker(),this.resetFile(),this.resetDropboxFile(),this.resetExternalFile(),this.resetVideo()},getPackNo:function(){return this.packNo},getStickerId:function(){return this.stickerId},getMessage:function(){return this.message},getVideoId:function(){return this.videoId},getVideoUrl:function(){return this.videoUrl},getVideoWidth:function(){return this.videoWidth},getVideoHeight:function(){return this.videoHeight},isGifVideo:function(){return this.gifVideo},isAbleToSubmit:function(){return this.isMessageExist()||this.isAttachmentExist()},isAttachmentExist:function(){return this.isStickerExist()||this.isPhotoExist()||this.isFileExist()||this.isDropboxFileExist()||this.isExternalFileExist()||this.isVideoExist()},getPhotosJson:function(){return this.isPhotoExist()?a.stringify(this.photos):null},getFileJson:function(){return this.isFileExist()?a.stringify({file_name:this.fileName,id:this.fileId,file_size:this.fileSize}):null},getFileName:function(){return this.fileName},getDropboxFileJson:function(){return this.isDropboxFileExist()?a.stringify({file_name:this.dropboxFileName,id:this.dropboxFileId,file_size:this.dropboxFileSize}):null},getDropboxFileName:function(){return this.dropboxFileName},getExternalFileJson:function(){return this.isExternalFileExist()?a.stringify({file_name:this.externalFileName,id:this.externalFileId,file_size:this.externalFileSize}):null},getExternalFileName:function(){return this.externalFileName},getVideoJson:function(){return this.isVideoExist()?a.stringify({id:this.videoId,url:this.videoUrl,width:this.videoWidth,height:this.videoHeight,title:this.videoName,is_gif:this.gifVideo}):null},isSameAttachInfoWith:function(e){function t(e){var t=["none"];return e.isAttachmentExist()&&(e.isStickerExist()?t=["sticker",e.getPackNo(),e.getStickerId()]:e.isPhotoExist()?t=["photos",e.getPhotosJson()]:e.isFileExist()?t=["file",e.getFileJson()]:e.isDropboxFileExist()?t=["dropboxFile",e.getDropboxFileJson()]:e.isExternalFileExist()?t=["externalFile",e.getExternalFileJson()]:e.isVideoExist()&&(t=["video",e.getVideoJson()])),t.join("_")}return t(this)===t(e)},makeJackpotExtra:function(){var e=null;return this.isPhotoExist()?e="photo":this.isVideoExist()?e="video":this.isFileExist()&&(e="file"),t.isEmpty(e)?{}:{attached_item_type:e}}});return s.buildCommentOrJoinQnAInputData=function(e){e=e||{};var n=new s;return n.setStickerInfo(e.stickerPackNo,e.stickerId),n.setInputPhotos(t.clone(e.photos)),n.setFileInfo(e.fileName,e.fileId,e.fileSize),n.setDropboxFileInfo(e.dropboxFileName,e.dropboxFileId,e.dropboxFileSize),n.setExternalFileInfo(e.externalFileName,e.externalFileId,e.externalFileSize),n.setVideoInfo(e.videoId,e.videoUrl,e.videoWidth,e.videoHeight,null,e.gifVideo),n},s}.call(t,n,t,e))||(e.exports=i)},583:function(e,t,n){var i,o;i=[n(0),n(2),n(6),n(4),n(498),n(499),n(488)],void 0===(o=function(e,t,n,i,o,a,r){var s=i.View.extend({tagName:"section",className:"lyWrap",template:e.template('<div class="lyContent _wrap"><header class="header -noTitlebar"><h1 class="gSrOnly"><%= IM("ui.message.loading") %></h1></header><div class="main _main"></div></div>'),ui:{wrap:"._wrap",main:"._main"},onRender:function(){this.ui.main.html(e.template(o)({_loading_size:a.Size.MEDIUM,middleClass:r.ELEMENT.AREA_VERTICAL_MIDDLE})).css({height:this.options.height||340}),this.ui.wrap.css({width:this.options.width||340})}}),l=i.View.extend({initialize:function(e){this._loadingSize=e.loadingSize,this._middleClass=e.middleClass},template:e.template(o),serializeData:function(){return{_loading_size:this._loadingSize,middleClass:this._middleClass}},addClassName:function(e){this.$el.addClass(e)}});return l.Size=a.Size,l.MiddleClass=r.ELEMENT,l.build=function(e,t){return new l({loadingSize:e||l.Size.MEDIUM,middleClass:t})},l.buildAsMediumAreaMiddle=function(){return new l({loadingSize:l.Size.MEDIUM,middleClass:l.MiddleClass.AREA_VERTICAL_MIDDLE})},l.buildAsMediumScreenMiddle=function(){return new l({loadingSize:l.Size.MEDIUM,middleClass:l.MiddleClass.SCREEN_VERTICAL_MIDDLE})},l.buildListBottomLoadingBar=function(){return new l({loadingSize:l.Size.EXTRA_SMALL,middleClass:void 0})},l.buildListBottomMediumLoadingBar=function(){return new l({loadingSize:l.Size.MEDIUM,middleClass:void 0})},l.buildLayer=function(e){return new s(e||{})},l}.apply(t,i))||(e.exports=o)},587:function(e,t,n){var i;void 0===(i=function(){return{CALL_STATUS_OPEN:"open",CALL_STATUS_CLOSE:"close",MAX_CALL_USER_COUNT:50,MAX_GALLERY_PEER_COUNT_PER_PAGE:25,GROUP_CALL_PROFILE_CLASS:"_groupCallProfile",MAX_VGA_RESOLUTION_USER_COUNT:4,PLANET_CAMERA_WIDTH:1280,PLANET_CAMERA_HEIGHT:720,PERMIT:{RENEW_GROUP_CALL_EXPIRATION:"renew_group_call_expiration",CLOSE_GROUP_CALL:"close_group_call"}}}.call(t,n,t,e))||(e.exports=i)},589:function(e,t,n){var i;void 0===(i=function(e){var t=n(1242),i=n(1291),o=n(486),a=n(720),r=n(26),s=n(153),l=n(162),d=n(155),c=n(1033),u=n(1057),h=n(510),A=n(158),p=n(798),m=n(84),f=n(163),g=n(22),b=n(1113),M=n(514),v=n(493),E=n(1114),C={openMemberProfileLayer:function(e,t,n){if(!(e instanceof f))throw new Error("memberProfile is not instanceof MemberProfile");this._openProfileLayer({name:e.name,profileImageUrl:e.profileImageUrl},n,t)},_sendMessageToPageBandSubscriber:function(e,t){var n=e.getBandCore().bandNo,i=t.getBandMemberProfileMemberKey(),o=t.get("name");t.isAlreadyBlockedCommentAndChat()?h.openLayer({bodyDesc:A.nl2br(IM("page_band.unblock_and_start_chatting_confirm_desc")),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(h.EVENTS.CONFIRM,(function(){t.togglePenaltyBlockCommentAndChat().then((function(){a.talkToPageBandSubscriber(n,i,o),t.fetchBandMember()}))})):a.talkToPageBandSubscriber(n,i,o)},_createProfileView:function(e,n){var i=n.getBandCore().bandNo,d=e.getBandMemberProfileUserNo(),c=e.getBandMemberProfileMemberKey(),A=new t({model:e,bandData:n,availableFunctions:[t.AVAILABLE_FUNCTIONS.EDIT_PROFILE,t.AVAILABLE_FUNCTIONS.SEND_MESSAGE,t.AVAILABLE_FUNCTIONS.BAN_MEMBER,t.AVAILABLE_FUNCTIONS.BLOCK_COMMENT_AND_CHAT,t.AVAILABLE_FUNCTIONS.GOTO_SEARCH_MEMBER_CONTENTS,t.AVAILABLE_FUNCTIONS.UNMUTE_MEMBER,t.AVAILABLE_FUNCTIONS.VIEW_JOIN_INFO,t.AVAILABLE_FUNCTIONS.REPORT_MEMBER_PROFILE]}),f={};return f[t.AVAILABLE_FUNCTIONS.SEND_MESSAGE]=_.bind((function(){var t=[{userNo:d,name:e.get("name")}];n.isPageChatAsManagerPermitted()?this._sendMessageToPageBandSubscriber(n,e):a.startChattingWithUsers(t,i)}),this),f[t.AVAILABLE_FUNCTIONS.GOTO_SEARCH_MEMBER_CONTENTS]=function(){o.closeAll(),n.canAccessSearchMemberPostWebPage()?s.GROUP_BAND_MEMBER_CONTENT.goDForced({band_no:i,member_key:c,type:"post"}):l.PAGE_BAND_MEMBER_COMMENT.goDForced({band_no:i,member_key:c})},f[t.AVAILABLE_FUNCTIONS.UNMUTE_MEMBER]=function(){h.openLayer({bodyTitle:IM("member.unmute.confirm.title"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(h.EVENTS.CONFIRM,(function(){v.unmuteMember(d,i).then(_.bind((function(){e.fetchBandMember(),m.refreshCurrentPage()}),this))}))},f[t.AVAILABLE_FUNCTIONS.EDIT_PROFILE]=function(){n.canStartJoinInsteadEditProfile()?(o.closeAll(),p.build({onBandJoinCompleted:function(e){e&&alert(e),m.refreshCurrentPage()}}).subscribePageFromEditProfile(i)):C.openEditProfileView(i)},f[t.AVAILABLE_FUNCTIONS.BAN_MEMBER]=function(){u.openLayer({bandData:n,userNo:d,memberKey:c,isDeleted:!e.get("isMember")}).on("memberWithdrawal:updateMember",(function(){n.fetchBandData(),r.getDGlobalChannel().trigger(r.EVENT.MEMBER_REMOVED,i,d),o.closeAll()}))},f[t.AVAILABLE_FUNCTIONS.BLOCK_COMMENT_AND_CHAT]=function(){(e.get("isAlreadyBlockedCommentAndChat")?E.openPenaltyRemoveConfirm():E.openPenaltyAddConfirm()).confirm((function(){e.togglePenaltyBlockCommentAndChat().then((function(){e.fetchBandMember()}))}))},f[t.AVAILABLE_FUNCTIONS.VIEW_JOIN_INFO]=function(){b.openDGroupBandJoinHistoryView({bandNo:e.getBandNo(),name:e.getName(),createdAt:e.getCreatedAt(),memberKey:e.getBandMemberProfileMemberKey()})},f[t.AVAILABLE_FUNCTIONS.REPORT_MEMBER_PROFILE]=function(){M.openMemberProfileReportPopup(i,c)},A.on(f),A},openProfileView:function(e,t){this._openProfileLayer({},e,t)},openMembershipProfileLayer:function(e){var t=f.buildMemberProfile({name:e.name,profileImageUrl:e.profileImageUrl,memberType:g.MEMBER_TYPE.MEMBERSHIP});this.openMemberProfileLayer(t,e.userNo,e.bandNo)},_openProfileLayer:function(e,t,n){var i=d.get(t);i.loadBandData().then((function(){var o=c.createBandMemberProfileModel(e,t,n);return i.canFetchMemberProfile()?o.fetchBandMember().then((function(){return o})):o})).then(_.bind((function(e){var t=this._createProfileView(e,i);o.open(t)}),this))},openEditProfileView:function(e,t){i.openLayer(_.extend({bandNo:e,bandData:d.get(e)},t))}};return C}.call(t,n,t,e))||(e.exports=i)},592:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(4).Object.extend({initialize:function(){this._timer=null},startDetecting:function(e,n,o,a){clearInterval(this._timer),this._$el=t(e),this._count=1,this._totalCount=o,this._checkScroll=!!a,this._checkScroll?this._domHeight=this._$el.prop("scrollHeight"):this._domHeight=this._$el.height(),this._timer=setInterval(i.bind(this._heightCheck,this),n)},_heightCheck:function(){this._count>this._totalCount&&clearInterval(this._timer),this._count++;var e=0;e=this._checkScroll?this._$el.prop("scrollHeight"):this._$el.height(),this._domHeight!=e&&this.trigger(o.EVENT.HEIGHT_CHANGED),this._domHeight=e}});return o.EVENT={HEIGHT_CHANGED:"domHeightDetector:changed"},o}.call(t,n,t,e))||(e.exports=i)},594:function(e,t,n){var i;void 0===(i=function(e){var t=n(0);return{sendPostMessage:function(e,n,i,o,a){!e||t.isEmpty(n)||t.isEmpty(i)||e.postMessage({channel:n,message:i,data:o},a||"*")}}}.call(t,n,t,e))||(e.exports=i)},600:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),o=n(4),a=n(1293),r=n(177),s=n(537),l=n(198),d=n(533),c=n(57),u=n(507);n(56);var h=o.Object.extend({createPhotoUploader:function(e,t){return new a(this._generatePhotoDefaultOption(e,t))},createSinglePhotoUploader:function(e,n){return new a(t.extend(this._generatePhotoDefaultOption(),{multiple:!1,autoUpload:!1,validators:[s.SINGLE_PHOTO_WITHOUT_GIF_VALIDATOR]},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.PHOTO)}}))},createProfilePhotoUploader:function(e,n){return new a(t.extend(this._generatePhotoDefaultOption(),{multiple:!1,autoUpload:!0,title:IM("web.upload.title.profile_photo"),validators:s.makeProfilePhotoValidators(),data:{keep_ani_gif:!0},fileInputTitle:window.webkitURL?" ":""},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.PHOTO)}}))},createVideoUploader:function(e,t){return new a(this._generateVideoDefaultOption(e,t))},createFileUploader:function(e,n){var i=t.extend({multiple:!0,autoUpload:!0,maxSize:0,maxFiles:0,showProgress:!0,title:IM("web.upload.title.attach"),accept:"*/*",validators:[s.FILE_VALIDATOR]},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.FILE)}});return new a(i)},createBandCoverImageUploader:function(e,n){var i=this._generatePhotoDefaultOption();return new a(t.extend(i,{multiple:!1,autoUpload:!1,title:IM("web.upload.title.band_cover_image"),validators:[s.SINGLE_PHOTO_WITHOUT_GIF_VALIDATOR]},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.PHOTO)}}))},createPhotoOrVideoUploader:function(e,n){var i=new a(this._generatePhotoOrVideoOption(e,n));return this.listenTo(i,u.SELECT_FILES,(function(o){if(s.isVideoType(o.files[0])){var a=t.extend({},i.getOption(),this._generateVideoDefaultOption(e,n),{validators:[s.PHOTO_OR_VIDEO_VALIDATOR]});i.setOption(a)}})),this.listenTo(i,u.RESET,(function(){var o=t.extend({},i.getOption(),this._generatePhotoOrVideoOption(e,n));i.setOption(o)})),i},createAudioUploader:function(e,n){return n=t.extend({multiple:!1,autoUpload:!0,maxSize:0,maxFiles:0,showProgress:!0,title:IM("web.upload.title.attach"),accept:"."+r.AUDIO.UPLOAD_FORMAT.join(",."),validators:[s.AUDIO_VALIDATOR]},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.AUDIO)}}),new a(n)},createPageIntroMediaUploader:function(e){var n={multiple:!1,autoUpload:!0,duplicate:!0,data:{maxRunningSecs:r.VIDEO.MAX_RUNNING_SECS.BAND_MISSION},elements:{dnd:{el:e}},accept:this._generatePhotoOrVideoAcceptOption(r.PHOTO.FORMAT_WITHOUT_GIF,r.VIDEO.FORMAT),validators:[s.PAGE_INTRO_ATTACHED_MEDIA_VALIDATOR]},i=new a(this._generatePhotoDefaultOption(e,n));return this.listenTo(i,u.SELECT_FILES,(function(o){if(s.isVideoType(o.files[0])){var a=t.extend({},i.getOption(),this._generateVideoDefaultOption(e,n));i.setOption(a)}})),this.listenTo(i,u.RESET,(function(){var o=t.extend({},i.getOption(),this._generatePhotoDefaultOption(e,n));i.setOption(o)})),i},addUploadResultListToBandAlbum:function(e,t,n){var o=i.map(n,(function(e){return e.isVideo||e.isGifVideo?{video:{id:e.id,url:e.url,width:e.width,height:e.height,title:e.name,is_gif:e.isGifVideo}}:{photo:{url:e.url,width:e.width,height:e.height}}}));return d.createPhotosOrVideos(e,t,o)},_generatePhotoOrVideoOption:function(e,n){var i=t.extend({},n,{accept:this._generatePhotoOrVideoAcceptOption(r.PHOTO.FORMAT,r.VIDEO.FORMAT),validators:[s.PHOTO_OR_VIDEO_VALIDATOR]});return this._generatePhotoDefaultOption(e,i)},_generatePhotoOrVideoAcceptOption:function(e,n){var i="image/"+e.join(",image/")+",image/*,video/"+n.join(",video/")+",video/*";return(c.isWindows8Or8_1IE()||t.browser.mozilla)&&(i="."+e.join(",.")+",."+n.join(",.")),i},_generatePhotoDefaultOption:function(e,n){return t.extend({multiple:!0,autoUpload:!1,maxSize:0,maxFiles:0,showProgress:!0,title:IM("web.upload.title.photo"),accept:"image/*",photoUpload:!0,videoUpload:!1,validators:[s.PHOTO_VALIDATOR],readPhotographedAt:!1},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.PHOTO)}})},_generateVideoDefaultOption:function(e,n){var i="video/*,.ts,.mts";return c.isWindows8Or8_1IE()?i="."+r.VIDEO.FORMAT.join(",."):t.browser.safari&&(i="video/"+r.VIDEO.FORMAT.join(",video/")+",video/*"),t.extend({multiple:!1,autoUpload:!0,maxSize:0,maxFiles:0,showProgress:!0,title:IM("upload_video"),accept:i,photoUpload:!1,videoUpload:!0,validators:[s.VIDEO_VALIDATOR]},n,{el:e,urlCreator:function(){return l.makeApiBaseUrl(A.VIDEO)}})}}),A={FILE:"https://up.band.us/v1/uploader/upload_file",PHOTO:"https://up.band.us/v2/uploader/upload_photo",VIDEO:"https://up.band.us/v1/uploader/upload_video",AUDIO:"https://up.band.us/v1/uploader/upload_audio"};return new h}.call(t,n,t,e))||(e.exports=i)},603:function(e,t,n){var i;void 0===(i=function(e){var t=n(9),i=n(542),o={};return o[i.TEXT]=function(e){return e},o[i.STICKER]=function(e){return t.message("chat.message.sticker_body")},o[i.PHOTO]=function(e){return t.message("chat.message.photoType_body")},o[i.GIPHY]=function(e){return t.message("chat.message.gif_body")},o[i.AUDIO]=function(e){return t.message("chat.message.audio_body")},o[i.VOICE_CALL_START]=function(e){return t.message("group_call.voice_call_started")},o[i.VIDEO_CALL_START]=function(e){return t.message("group_call.video_call_started")},o[i.VIDEO]=function(e){return t.message("chat.message.video_body")},o[i.LOCATION]=function(e){return t.message("chat.message.location_body")},o[i.FILE]=function(e){return t.message("chat.message.file_body")},o[i.CONTACT]=function(e){return t.message("chat.message.contact_body")},o[i.GIF_VIDEO]=function(e){return t.message("chat.message.gif_body")},o[i.RECLAIM]=function(e){return t.message("chat.message.reclaim_body")},o[i.PHOTO_LIST]=function(e){return t.message("chat.message.photo_list_body")},{toTextMessage:function(e,n){return e in o?o[e](n):t.message("chat.message.unknown_body")}}}.call(t,n,t,e))||(e.exports=i)},604:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(513);return new(t.Object.extend({openPopup:function(e,t,n){n=n||{},i.openGet({windowURL:"https://"+window.authDomain+"/oauth2/authorize",windowName:n.windowName||null,width:n.width||450,height:n.height||450,centerBrowser:1,params:{response_type:"token",client_id:e,redirect_uri:t}})}}))}.call(t,n,t,e))||(e.exports=i)},607:function(e,t,n){var i;void 0===(i=function(e){var t=n(0);return n(6).Model.extend({idAttribute:"userProfileSetId",defaults:{userProfileSetId:null,name:null,profileImageUrl:null,isPageDefault:!1,isDefault:null,bands:null},parse:function(e){var n={userProfileSetId:e.user_profile_set_id,name:e.name,profileImageUrl:e.profile_image_url,isDefault:e.is_default,isPageDefault:!!e.is_page_default,bands:t.map(e.bands,(function(e){return{bandNo:e.band_no,name:e.name,cover:e.cover,certified:e.certified,type:e.type,profileImage:e.profile_image}}))};return this._previous=this.getSubmitParams(n),n},addBand:function(e){this.set({bands:t.union(this.get("bands"),[e])})},removeBand:function(e){this.set({bands:t.reject(this.get("bands"),(function(e){return e.bandNo===this.bandNo}),{bandNo:e})})},getSubmitParams:function(e){return{name:(e=e||this.attributes).name||null,profile_image_url:e.profileImageUrl||null,is_default:e.isDefault||!1,band_nos:t.chain(e.bands).pluck("bandNo").sortBy().value()}},hasDifference:function(){return!t.isEqual(this._previous,this.getSubmitParams())}})}.call(t,n,t,e))||(e.exports=i)},618:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1288),a=n(22),r=n(82),s=n(497),l=n(1145),d=n(487),c={21:"-size21",24:"-size24",25:"-size25",30:"-size30",34:"-size34",40:"-size40",50:"-size50",60:"-size60"},u=i.View.extend({options:{size:40,disableClick:!1,useCORS:!1,lazyLoading:!0},tagName:function(){return this.options.disableClick?"span":"a"},attributes:function(){var e={"data-viewname":"DProfileImageView"};return this.options.disableClick||(e=t.extend(e,{href:"#",role:"button"})),e},className:function(){var e=["uProfile",this._getSizeClass(),this._getIconClass()];return this.options.withoutBorder||e.push("-border"),e.join(" ")},triggers:function(){return this.options.disableClick?{}:{click:"clickProfileImageView"}},behaviors:[d],_hasProfileImage:function(){return!!this.options.memberProfile.profileImageUrl&&!this._isImageLoadErrorOccured},_getSizeClass:function(){return c[this.options.size]},_getIconClass:function(){if(this.options.bandCore.showBandLeaderTermAsManager()){if(this.options.memberProfile.memberType===a.MEMBER_TYPE.PAGE_PROFILE)return"-pageIcon -pageProfile"}else switch(this.options.role){case s.LEADER:return"-leader";case s.CO_LEADER:return"-coleader";default:return null}},initialize:function(){this._isImageLoadErrorOccured=void 0},template:t.template(o),serializeData:function(){var e=r.makeProfileThumbnailUrl(this.options.memberProfile.profileImageUrl,this.options.useCORS);return{imageSize:this.options.size,name:this.options.memberProfile.name,hasProfileImage:this._hasProfileImage(),profileImageThumbnail:e,profileInnerClass:this._hasProfileImage()?r.makeProfileInnerClass(e):"",roleLabel:this._getRoleLabel(),useCORS:this.options.useCORS,lazyLoading:this.options.lazyLoading}},_getRoleLabel:function(){if(!this.options.bandCore.showBandLeaderTermAsManager())switch(this.options.role){case s.LEADER:return IM("web.band.member.role.leader");case s.CO_LEADER:return IM("web.band.member.role.coleader");case s.MEMBER:return IM("web.band.member.role.member");default:return null}},ui:{image:"._image"},onRender:function(){this.$el.attr("class",this.className()),this.getUI("image").one("error",t.bind((function(){this._isImageLoadErrorOccured=!0,this.render()}),this))}});return u.buildDProfileImageView=function(e){var t={memberProfile:e.memberProfile,bandCore:e.bandCore,role:e.role};if(e.size){if(!c[e.size])throw new Error("Invalid options.size");t.size=e.size}return t.lazyLoading=void 0===e.lazyLoading||!!e.lazyLoading,t.useCORS=!!e.useCORS,t.disableClick=!!e.disableClick,t.withoutBorder=1==e.withoutBorder,new u(t)},u.buildContentCreatorProfileImageView=function(e){var t=new l(e.memberProfile,e.userNoOrMemberKey,e.bandCore),n={memberProfile:e.memberProfile,bandCore:e.bandCore,role:e.role};if(e.size){if(!c[e.size])throw new Error("Invalid options.size");n.size=e.size}return e.useCORS&&(n.useCORS=!!e.useCORS),e.lazyLoading&&(n.lazyLoading=!!e.lazyLoading),n.disableClick=!t.canClickMemberProfile(),n.events=function(){return t.canClickMemberProfile()?{click:function(n){if(n.preventDefault(),n.stopPropagation(),t.isGotoBandOnClick()){var i=e.bandCore.bandNo;this.jplClick(d.CLASSIFIER.PAGE_PROFILE_NAME,{band_no:i},i)}t.clickMemberProfileAction()}}:{}},n.triggers={},new u(n)},u}.call(t,n,t,e))||(e.exports=i)},636:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(172),o=n(13),a=n(82),r=n(569);return{makeCommentMentionTargets:function(e){var n=e.withMemberGroupMention,i=e.memberGroupMentionArray,a=e.mentionLeaderAndColeaderAsWell,s=e.leaderColeaderMentionArray,l=e.bandMemberMentionArray,d=e.fixedTargetMemberMentionArray,c=[];return n&&(c=c.concat(i||[])),a&&(c=c.concat(s||[])),c=!a&&t.isEmpty(d)?c.concat(l||[]):c.concat(d||[]),c=t.chain(c).uniq((function(e){return e.getUniqueIdGroupByType()})).filter((function(e){return e.getUserNo()!=o.getUserData().getUserNo()})).value(),r.concatMentionArrayAndSort(c)},makeScheduleCommentMentionTargets:function(e,n){if(null==n||n.isEmpty())return null;var r=n.chain().filter((function(e){return!e.isDeleted()})).map((function(e){return i.buildBandMemberMention(e.getUserNo(),e.getName(),null,e.getFaceThumb(),e.getDescription())})).value();return null==e||e.isContentAuthorDeleted()||r.push(i.buildBandMemberMention(e.getUserNo(),e.getName(),null,a.makeProfileThumbnailUrl(e.getContentAuthorProfileImageUrl()),e.getContentAuthorDescription())),t.filter(r,(function(e){return e.getUserNo()!=o.getUserData().getUserNo()}))}}}.call(t,n,t,e))||(e.exports=i)},659:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(21),i="/v2.0.0/get_band_email_verification",o="/v2.0.0/set_band_email_verification",a="/v2.0.0/check_band_email_verification_domains",r="/v2.0.0/resend_band_email_verification",s="/v2.0.0/verify_member_email",l="/v2.0.0/get_member_email",d="/v2.0.0/check_member_email";return{getBandEmailVerification:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i,data:{band_no:e}})},checkBandEmailVerificationDomains:function(e){return e=e||[],t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+a,data:{email_verification_domains:e.join(",")}})},setBandEmailVerification:function(e,n){return n=n||[],t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+o,data:{band_no:e,email_verification_domains:n.join(",")},method:"POST"})},resendBandEmailVerification:function(e,n){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+r,data:{band_no:e,days_passed:n},method:"POST"})},verifyMemberEmail:function(e,n){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+s,data:{band_no:e,email_verification_token:n},method:"POST"})},getMemberEmail:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+l,data:{band_no:e}})},checkMemberEmail:function(e,n){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+d,data:{band_no:e,email:n}})}}}.call(t,n,t,e))||(e.exports=i)},668:function(e,t,n){var i=n(2),o=n(1091),a=n(510),r=n(562),s=n(158),l=a.EVENTS,d=r.EVENTS,c={openConfirm:function(e){return o.create({modal:a.openLayer(e),confirm:l.CONFIRM,cancel:l.CANCEL})},openSimpleConfirm:function(e){return o.create({modal:this._createSimpleConfirm(e),confirm:l.CONFIRM,cancel:l.CANCEL})},openPromiseTypeSimpleConfirm:function(e){var t=i.Deferred();return this._createSimpleConfirm(e).once(l.CONFIRM,(function(){t.resolve()})).once(l.CANCEL,(function(){t.reject()})),t.promise()},_createSimpleConfirm:function(e){return a.openLayer({bodyTitle:s.nl2br(e),withoutHiding:!0})},_createSimpleAlert:function(e){return r.openLayer({bodyTitle:s.nl2br(e),withoutHiding:!0})},openSimpleAlert:function(e){return o.create({modal:this._createSimpleAlert(e),confirm:d.CONFIRM})},openPromiseTypeSimpleAlert:function(e){var t=i.Deferred();return this._createSimpleAlert(e).once(d.CONFIRM,(function(){t.resolve()})),t.promise()},openApiErrorAlert:function(e){var t=e?e.result_data:null,n=t?t.message:null;n&&this.openSimpleAlert(n)}};e.exports=c},718:function(e,t,n){var i;void 0===(i=function(){var e={EDIT_MODE:{NEW:1,MODIFY:2,COPY:3,SHARE:4},PLACE_HOLDER_CLASS:"_placeholder",RICH_EDITOR_CLASS:"_richEditor",preventMention:function(t,n){return!(t!==e.EDIT_MODE.COPY&&t!==e.EDIT_MODE.SHARE||!n||!(n.length>0))},postSettingEnabled:function(t){return t===e.EDIT_MODE.NEW||t===e.EDIT_MODE.COPY||t===e.EDIT_MODE.SHARE},createReservedPostEnabled:function(t){return t!=e.EDIT_MODE.MODIFY},isNewOrModifyMode:function(t){return t==e.EDIT_MODE.NEW||t==e.EDIT_MODE.MODIFY}};return e}.call(t,n,t,e))||(e.exports=i)},720:function(e,t,n){var i;void 0===(i=function(e){return new(n(1244))}.call(t,n,t,e))||(e.exports=i)},721:function(e,t,n){var i;void 0===(i=function(){return{BODY:"body",HEADER:"#header",LNB:"#lnb",LAYER_CONTAINER:"#layerContainer"}}.call(t,n,t,e))||(e.exports=i)},743:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),o=n(52),a=n(547),r=n(158);return i.Model.extend({defaults:function(){return{bandNo:"",name:"",joinMethod:"",joinQuestion:"",needAdAgreement:!1,emailVerificationEnabled:!1}},parse:function(e){return{bandNo:(e=o.camelizeKeys(e)).bandNo,name:e.name,joinMethod:e.joinMethod,joinQuestion:e.joinQuestion,needAdAgreement:e.needAdAgreement,emailVerificationEnabled:e.emailVerificationEnabled,joinQuestionAsHtml:r.nl2br(t.escape(e.joinQuestion))}},fetchByInvitationCardId:function(e){return this.set({invitationCardId:e}),a.getJoinForm("invitation_card_id",e).then(t.bind((function(e){return this.set(this.parse(e)),this}),this))},fetchMemberFormByBandNo:function(e){return this.set({bandNo:e}),a.getJoinForm("band_no",e).then(t.bind((function(e){return this.set(this.parse(e)),this}),this))},getBandNo:function(){return this.get("bandNo")},getBandName:function(){return this.get("name")},getJoinQuestionAsHtml:function(){return this.get("joinQuestionAsHtml")},isEmailVerificationEnabled:function(){return this.get("emailVerificationEnabled")},hasJoinQuestion:function(){return!!this.get("joinQuestion")},isJoinMethodNormal:function(){return"normal"===this.get("joinMethod")},isJoinMethodApplication:function(){return"application"===this.get("joinMethod")}})}.call(t,n,t,e))||(e.exports=i)},744:function(e,t,n){var i=n(0),o=n(6),a=n(547),r=o.Model.extend({defaults:function(){return{}},submit:function(){var e=this.toJSON();return!i.isEmpty(e.name)&&i.isEmpty(e.profile_image_url)&&(e.profile_image_url=null),i.isEmpty(e.join_answer_images)||(e.join_answer_images=JSON.stringify(e.join_answer_images)),a.joinBand(e)},setJoinAnswer:function(e){this.set({join_answer:e})},setJoinAnswerImages:function(e){this.set("join_answer_images",e)},setNewProfile:function(e,t){this.set({name:e,profile_image_url:t}),this.unset("user_profile_set_id")},setUserProfileSetId:function(e){this.set({user_profile_set_id:e}),this.unset("name"),this.unset("profile_image_url")},setSetDefaultProfileSetOfPage:function(e){this.set({set_default_profile_set_of_page:e})},setEmailVerificationToken:function(e){this.set("email_verification_token",e)}});r.buildJoinTypeBandNo=function(e){var t=new r(null);return t.set({join_type:"band_no",join_value:e}),t},r.buildJoinTypeInvitationCardId=function(e){var t=new r(null);return t.set({join_type:"invitation_card_id",join_value:e}),t},e.exports=r},779:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(0),o=n(2),a=n(26),r=n(796),s=n(169),l=n(577),d=n(718),c=function(e){e.each((function(e,t){var n=o(t);n.data("_scrollBeforeHide",n.scrollTop())}))},u=function(e){e.each((function(e,t){var n=o(t);n.data("_scrollBeforeHide")&&(n.scrollTop(n.data("_scrollBeforeHide")),n.removeData("_scrollBeforeHide"))}))},h={layerRegionTemplate:i.template('<div class="<%=className%>"></div>'),addRegionWithDOM:function(e,t){var n="_"+t,i="."+n;e.$el.append(this.layerRegionTemplate({className:n})),e.addRegion(t,{el:i,replaceElement:!0})},removeRegionWithDOM:function(e,t){var n=e.getRegion(t);e.removeRegion(t),e.$(n.el).remove()}},A=t.View.extend({attributes:{"data-viewname":"DLayerContainerView"},className:"layerContainerView",template:function(){return""},initialize:function(){this._layerContainer=[],this._layerWrapScrollClassName=".lyWrap",this._activeLayerViewClassName="activeLayerView",this.listenTo(a.getDGlobalChannel(),a.EVENT.DOCUMENT_ESC_KEY_DOWN,this._onEscKeyDown),this.listenTo(a.getDGlobalChannel(),a.EVENT.WINDOW_RESIZE,i.throttle(this._onWindowResize,300)),this._$window=o(window),this._onWindowFullscreen=i.bind(this._onWindowFullscreen,this),this._$window.on(l.FULLSCREEN_EVENT_NAME,this._onWindowFullscreen)},onDestroy:function(){this._$window.off(l.FULLSCREEN_EVENT_NAME,this._onWindowFullscreen)},_onEscKeyDown:function(e){if(this.hasLayer()){o.browser.msie&&e.preventDefault();var t=this._getLastLayerInnerView();i.isFunction(t.options.layerView.layerOnEscKeyDown)?t.options.layerView.layerOnEscKeyDown():this.closeLastLayer()}},_onWindowResize:function(){if(this.hasLayer()){var e=this._getLastLayerInnerView();i.isFunction(e.options.layerView.layerOnWindowResize)&&e.options.layerView.layerOnWindowResize()}},_onWindowFullscreen:function(e){if(this.hasLayer()){var t=this._getLastLayerInnerView();i.isFunction(t.options.layerView.layerOnWindowFullScreen)&&t.options.layerView.layerOnWindowFullScreen(e)}},childViewEvents:{detach:function(e){i.contains(this._layerContainer,e.cid)&&this._closeLayer(e.cid)}},openNewLayer:function(e,t){o(window).scrollTop();var n=this._findLayerCallElement(),i=new r({layerView:e,layerCallElement:n});if(this.trigger(A.EVENT.BEFORE_LAYER_OPEN,i),this.hasLayer()&&t){var a=this._getLastLayerInnerView();c(a.$(this._layerWrapScrollClassName)),a.$el.hide()}e.$el.addClass("layer_wrap"),o("body").addClass(this._activeLayerViewClassName),h.addRegionWithDOM(this,i.cid),this.showChildView(i.cid,i),this._layerContainer=this._layerContainer.concat(i.cid)},getActiveLayerView:function(){var e=this._getLastLayerInnerView();return e&&e.getLayerView()},hasLayer:function(){return this._layerContainer.length>0},closeLastLayer:function(){this.hasLayer()&&this._closeLayer(i.last(this._layerContainer))},_getLastLayerInnerView:function(){if(this.hasLayer())return this.getChildView(i.last(this._layerContainer))},isTopLayerView:function(e){var t=this._getLastLayerInnerView();return t&&t.getLayerView()==e},_closeLayer:function(e){var t=this.getChildView(e);if(this._layerContainer=i.without(this._layerContainer,e),h.removeRegionWithDOM(this,e),this.hasLayer()){var n=this._getLastLayerInnerView();n.$el.show(0,i.bind((function(){u(n.$(this._layerWrapScrollClassName))}),this))}else o("body").removeClass(this._activeLayerViewClassName);this.trigger(A.EVENT.AFTER_LAYER_CLOSE,t),this._restoreFocus(t)},_restoreFocus:function(e){var t=e.getLayerCallElement(),n=o(t);if(t&&o(t).hasClass(d.RICH_EDITOR_CLASS)){var i=n.parent().scrollTop();n.focus(),n.parent().scrollTo(i)}else t&&n.focus()},_findLayerCallElement:function(){var e=document.activeElement;if(e&&o(e).clone().wrap("<div/>").filter(s.FOCUSABLE_ELEMENTS_STRING).length)document.querySelector&&(e=document.querySelector(":focus"));else{if(/MSIE|Trident/.test(navigator.userAgent)&&(e=o(e).closest(s.FOCUSABLE_ELEMENTS_STRING)).length)return e;e=null}return e||null}});return A.EVENT={BEFORE_LAYER_OPEN:"beforeLayerOpen",AFTER_LAYER_CLOSE:"afterLayerClose"},A}.call(t,n,t,e))||(e.exports=i)},784:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(21);return{PENALTY_TYPE:{BLOCK_COMMENT_AND_CHAT:"block_comment_and_chat"},addPenaltyMember:function(e,n,o,a){var r=a?i.getLoginV1ClientWithoutErrorAlert():i.getLoginV1Client(),s={band_no:e,type:o};return t.isNumeric(n)?s.user_no=n:s.member_key=n,r.sendAndThenProcess({url:"https://api.band.us/v2.0.0/add_penalty_member",method:"POST",data:s})},removePenaltyMember:function(e,n,o,a){var r=a?i.getLoginV1ClientWithoutErrorAlert():i.getLoginV1Client(),s={band_no:e,type:o};return t.isNumeric(n)?s.user_no=n:s.member_key=n,r.sendAndThenProcess({url:"https://api.band.us/v2.0.0/remove_penalty_member",method:"POST",data:s})},getPenaltyMembers:function(e,t,n){var o={band_no:e,type:t};return n&&(o.limit=n),i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_penalty_members",data:o})},checkPenaltyMembers:function(e,t,n){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/check_penalty_members",data:{band_no:e,user_nos:t.join(","),type:n}})}}}.call(t,n,t,e))||(e.exports=i)},796:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=(n(0),n(2)),o=n(169);return t.View.extend({attributes:{"view-name":"DLayerContainerInnerView",role:"dialog","aria-live":"polite"},template:function(){return'<button type="button" aria-hidden="true" class="_layerFirstElement" style="position:fixed;left:0;top:0;width:1px;height:1px;overflow:hidden;background:transparent;color:transparent">layer focus check first element</button><div aria-hidden="true" class="_layerTmpFocusElement" tabindex="-1" style="position:fixed;left:0;top:0;width:1px;height:1px;overflow:hidden;background:transparent;color:transparent"></div><div class="_layerContent"></div><button type="button" aria-hidden="true" class="_layerLastElement" style="position:fixed;left:0;top:0;width:1px;height:1px;overflow:hidden;background:transparent;color:transparent">layer focus check last element</button>'},ui:{layerFirstElement:"._layerFirstElement",layerLastElement:"._layerLastElement",layerTmpFocusElement:"._layerTmpFocusElement"},regions:{layerContent:{el:"._layerContent",replaceElement:!0}},events:{"focus @ui.layerFirstElement":"_layerFocusCheck","focus @ui.layerLastElement":"_layerFocusCheck","blur @ui.layerTmpFocusElement":"_removeLayerTmpFocusElement"},initialize:function(e){this._layerView=e.layerView,this._layerCallElement=e.layerCallElement},onAttach:function(){this.getUI("layerTmpFocusElement").focus(),this.getRegion("layerContent").show(this._layerView),this.listenTo(this._layerView,"detach",(function(){this.destroy()}))},_removeLayerTmpFocusElement:function(){this.getUI("layerTmpFocusElement").remove()},_findFocusableElement:function(){return this._layerView.$el.find(o.FOCUSABLE_ELEMENTS_STRING).filter(":visible")},_layerFocusCheck:function(e){var t=i(e.target),n=null,o=this._findFocusableElement();t.get(0)==this.getUI("layerFirstElement").get(0)?n=o.last():t.get(0)==this.getUI("layerLastElement").get(0)&&(n=o.first()),n.length?n.focus():this.getUI("layerFirstElement").next().attr("tabindex",-1).focus()},getLayerView:function(){return this._layerView},getLayerCallElement:function(){return this._layerCallElement}})}.call(t,n,t,e))||(e.exports=i)},798:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),o=n(1301),a=n(157),r=n(153),s=n(162),l=n(84),d=n(13),c=n(170),u=n(510),h=n(547),A=n(1112),p=n(1246),m=n(521),f=n(155),_=n(743),g=n(491),b=n(518),M=n(744),v=n(486),E=n(1176),C=n(548),I=n(562),y=n(53),P=n(87),T=i.Object.extend({formModel:void 0,submitModel:void 0,bandCore:void 0,initialize:function(){this._subscribePageFromEditProfile=!1,this.formModel=new _,this.submitModel=void 0},_goLoginIfneeded:function(){if(!d.isLogedIn())return c.goLoginPage(this.options.nextUrlAfterLogin),!0},subscribePageFromEditProfile:function(e){this._subscribePageFromEditProfile=!0,this.startJoinFromBand(e)},startJoinFromBand:function(e){this._goLoginIfneeded()||g.getCachedBandData(e).then(t.bind((function(n){n.isUserJoinApplied()?this._openAlreadyAppliedModal(e):(this.bandCore=n.getBandCore(),this.submitModel=M.buildJoinTypeBandNo(e),this.formModel.fetchMemberFormByBandNo(e).then(t.bind(this._openVerificationEmailSendLayerView,this)).fail(this._onFormSelectFail()))}),this))},startJoinFromInvitationCard:function(e,n){this._goLoginIfneeded()||(this.bandCore=n,this.submitModel=M.buildJoinTypeInvitationCardId(e),this.formModel.fetchByInvitationCardId(e).then(t.bind(this._openVerificationEmailSendLayerView,this)).fail(this._onFormSelectFail(e)))},_openAlreadyAppliedModal:function(e){u.openLayer({bodyDesc:IM("band.already_applied.modal.msg"),confirm:IM("web.modal.btn.confirm"),cancel:IM("band.cancel_applied.btn.label")}).once(u.EVENTS.CANCEL,t.bind((function(){f.get(e).resetBandDataState(),h.cancelApplication(e).then(t.bind((function(){this.getOption("onRefreshPage").call(this)}),this))}),this))},_openVerificationEmailSendLayerView:function(){if(this.formModel.isEmailVerificationEnabled()){var e=E.openAsLayer(this.bandCore.bandNo);this.listenToOnce(e,"apply:next",(function(e){this.submitModel.setEmailVerificationToken(e),this._openBandJoinFormView()}))}else this._openBandJoinFormView()},_openBandJoinFormView:function(){this.formModel.hasJoinQuestion()?this.listenToOnce(o.openLayer(this.formModel),"DBandJoinFormView",(function(e,t){e===o.EVENTS.CONFIRM&&(this.submitModel.setJoinAnswer(t.joinAnswer),this.submitModel.setJoinAnswerImages(t.joinAnswerImages),this._openProfileSetSelectView())})):this._openProfileSetSelectView()},_openProfileSetSelectView:function(){b.fetchProfileSets().then(t.bind((function(e){var n=this.formModel.get("needAdAgreement");if(!this._subscribePageFromEditProfile&&this.bandCore.supportDefaultProfileForPage()){var i=e.getPageDefaultProfileSet();if(i){var o=$.Deferred();return n?u.openLayer({bodyTitle:IM("bandjoin.desc.ad_agreement.page_band"),bodyDesc:IM("bandjoin.confirm_desc.ad_agreement.page_band"),withoutHiding:!0}).once(u.EVENTS.CONFIRM,(function(){o.resolve()})):o.resolve(),void o.then(t.bind((function(){this.submitModel.setUserProfileSetId(i.get("userProfileSetId")),this.onApplyComplete()}),this))}}var a=A.openBandJoinLayer(e,this.bandCore,this._subscribePageFromEditProfile,n);this.listenToOnce(a,"DProfileSetSelectView",(function(e,t,n){var i=A.EVENTS;switch(e){case i.PROFILE_SET_SELECTED:this.submitModel.setUserProfileSetId(t.get("userProfileSetId")),n&&this.submitModel.setSetDefaultProfileSetOfPage(!0),this.onApplyComplete();break;case i.NEW_PROFILE:this._openProfileSetInputView(n)}}))}),this))},_openProfileSetInputView:function(e){this.listenTo(p.openBandJoinLayer(this.bandCore,e),"DProfileSetInputView",(function(e,t){e===p.EVENTS.CONFIRM&&(this.submitModel.setNewProfile(t.name,t.profileImageUrl),t.setDefaultProfileSetOfPage&&this.submitModel.setSetDefaultProfileSetOfPage(!0),this.onApplyComplete((function(){v.closeTop()})))}))},_handleInvitationForKids:function(e){I.openLayer({bodyDesc:IM("invitation.error.kids.user.approach.to.not.kids.band")}).once(I.EVENTS.CONFIRM,t.bind((function(){if(e){C.deleteInvitationCard(e,!1).then(t.bind((function(){y.getCurrentRouteInfo(),y.getCurrentRouteInfo().routeInfo!=a.GLOBAL_INVITE?y.getCurrentRouteInfo().routeInfo!=a.GLOBAL_FINDING_INVITATION?y.getCurrentRouteInfo().routeInfo==a.GLOBAL_HOME&&this.getOption("onRefreshPage").call():this.getOption("onRefreshPage").call():a.GLOBAL_HOME.goDForced()}),this))}}),this))},_onFormSelectFail:function(e){return t.bind((function(n){var i=t.propertyOf(n)("result_code"),o=t.property("message")(t.propertyOf(n)("result_data"));1060!=i?P.isUserAlertResultCode(i)?alert(o):i>=300&&(o&&alert(o),1016!==i&&1017!==i||a.GLOBAL_MY_PROFILE.goDForced({},{invitationId:this.submitModel.get("invitation_card_id"),bandNo:this.submitModel.get("band_no")})):this._handleInvitationForKids(e)}),this)},onApplyComplete:function(e){t.isFunction(e)||(e=t.noop),this.submitModel.submit().then(t.bind((function(n){m.buildPersonalInfoAgreementData().setPersonalInfoAgreements(m.AGREE_TARGET.PROFILE_IMAGE).then(t.bind((function(){f.get(this.bandCore.bandNo).resetBandDataState(),e(),this.formModel.isJoinMethodNormal()?this.getOption("onBandJoinCompleted").call(this,t.propertyOf(n)("message")):this.getOption("onRefreshPage").call(this,t.propertyOf(n)("message"))}),this))}),this)).fail(t.bind((function(t){"1011"==t.result_code?(e(),this.getOption("onBandJoinCompleted").call(this)):"1014"==t.result_code&&(e(),this.getOption("onRefreshPage").call(this,t.result_data.message))}),this))}});return T.build=function(e){return e=t.extend({nextUrlAfterLogin:location.href,onBandJoinCompleted:function(e){e&&alert(e),this.bandCore.goBandDForced(r.GROUP_BAND_HOME,s.PAGE_BAND_HOME,{band_no:this.bandCore.bandNo})},onRefreshPage:function(e){e&&alert(e),l.refreshCurrentPage()}},e),new T(e)},T}.call(t,n,t,e))||(e.exports=i)},801:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(9);return{MAX_LENGTH_AUTH_CODE:4,PHONE_VERIFY_AUTHENTICATION_TIMER:30,BIRTH_YEAR_RANGE:(t=(new Date).getFullYear(),{min:t-100,max:t-i.spec.getBandAccessibleAge()}),MESSAGE_SEND_KEY:{API_KEY_NAME:{CHAT:"chat_enter",COMMENT:"comment_enter"},VIEW_TYPE:{GNB_CHAT_LIST:"gnb:chat:list",SETTING_HOME:"setting:home"}},AUTH_TYPE_2FA:"auth:type:2fa",LOGIN_FACTOR_2FA:{PHONE_NUMBER:"phone_number",TOTP:"totp"},SMS_AUTH_COMPLETE:"sms:auth:complete"}}.call(t,n,t,e))||(e.exports=i)},934:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(569),o=n(1303),a=n(636);return{buildBandMentionsInput:function(e,t,n,i,a,r){var s={bandNo:t,el:e,autoCompleteListElParent:n,autoCompleteListClass:i,offsetAdjustEl:a,mentionArray:[],disableMention:r};return o.buildDMentionsInput(s)},fetchMembersAndPopulateMentionsInput:function(e,t,n,o){return i.fetchCachedBandMembers(e).then((function(e){t.changeMentionArrayAndInputOptions({mentionArray:i.convertCollectionToMentionArray(e.memberCollection,n),dynamicSearchRequired:e.hasMoreMember,hideCompleteListOnEmptyQuery:e.hasMoreMember&&!o,canMentionMemberGroup:!1})}))},fetchMembersAndGroupsAndPopulateMentionsInput:function(e,n,o,a,r){return i.fetchMentionMembersAndMemberGroups(e).then(t.bind((function(e){var t=e.hasMoreMember&&r.isDynamicSearchPossible(),i=e.canMentionMemberGroup&&r.isMemberGroupMentionPossible();n.changeMentionArrayAndInputOptions({mentionArray:this._populateFetchedMentionData(e,o,i,r.getFixedTargetMemberMentionArray(),r.canMentionLeaderAndColeaderAsWell()),dynamicSearchRequired:t,hideCompleteListOnEmptyQuery:t&&!a,canMentionMemberGroup:i})}),this))},_populateFetchedMentionData:function(e,t,n,o,r){return a.makeCommentMentionTargets({mentionLeaderAndColeaderAsWell:r,withMemberGroupMention:n,bandMemberMentionArray:i.convertCollectionToMentionArray(e.memberCollection,t),leaderColeaderMentionArray:i.convertCollectionToMentionArray(e.leaderColeaderCollection,t),memberGroupMentionArray:e.memberGroupMentionArray,fixedTargetMemberMentionArray:o})},buildDChatMentionsInput:function(e,t,n,i,a,r){var s={el:e,autoCompleteListElParent:t,autoCompleteListClass:n,mentionArray:[],offsetAdjustEl:i,hideCompleteListOnEmptyQuery:a,disableMention:r};return o.buildDMentionsInput(s)}}}.call(t,n,t,e))||(e.exports=i)},936:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),o=n(2),a=n(171);o.fn.removeBandSkin=function(){return this.removeClass(a.ALL_TYPES.join(" ")),this},o.fn.bandSkin=function(e){if(null==e){var n=i.words(this[0].className);return t.find(a.ALL_TYPES,(function(e){return t.contains(n,e)}))}return this.removeBandSkin().addClass(e)},o.fn.bandSkinByThemeColor=function(e){console.log("ThemeColor는 BandCore.js 의 getSkinColorClass()를 사용해야 합니다."),this.bandSkin(a.findByThemeColor(e))}}.call(t,n,t,e))||(e.exports=i)}}]);