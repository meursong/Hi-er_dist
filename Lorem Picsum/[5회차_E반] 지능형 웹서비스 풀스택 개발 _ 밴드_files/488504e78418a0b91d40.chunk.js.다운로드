(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{1027:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(179),a=t(164),s=t(82),o={1:i.PROFILE_DEFAULT_R1.make(),3:i.PROFILE_DEFAULT_R3.make()},l={1:i.MULTI_PROFILE_DEFAULT_R1.make(),3:i.MULTI_PROFILE_DEFAULT_R3.make()};return{getChatChannelImageUrl:function(e){var t=e.getChatChannelProfileUrl();return e.isPageBandChatChannel()?n.result(e.getChatChannelCreator(),"profileImageUrl"):t||(e.isDefaultChannel()?e.getChannelBandInfo().bandCover:null)},getUrl:function(e,n){var t=this.getChatChannelImageUrl(e);return t?s.make(t,n?a.s276:a.s75):e.isPrivateChannel()||e.isPageBandChatChannel()?o[n?3:1]:l[n?3:1]},getPageBandSubscriberProfileImageUrl:function(e){return n.result(e.getChatChannelPageBandSubscriber(),"profileImageUrl")}}}.call(n,t,n,e))||(e.exports=i)},1043:function(e,n,t){var i;void 0===(i=function(e){var n=t(542),i="one_to_one",a="one_to_many",s="band",o="open",l="page",r="text",c="photo",u="video",h="audio",d="map",g="file",p="contact",m="sticker",b="giphy";return{getJplChannelType:function(e){return e.isPageBandChatChannel()?l:e.isDefaultChannel()?s:e.isOpenChannel()?o:e.isGroupChatChannel()?a:i},getJplMessageType:function(e){switch(e){case n.TEXT:return r;case n.PHOTO:return c;case n.VIDEO:case n.GIF_VIDEO:return u;case n.AUDIO:return h;case n.LOCATION:return d;case n.FILE:return g;case n.CONTACT:return p;case n.STICKER:return m;case n.GIPHY:return b;case n.PHOTO_LIST:return c;default:return null}}}}.call(n,t,n,e))||(e.exports=i)},1077:function(e,n,t){var i;void 0===(i=function(e){t(0);var n=t(13),i=t(9),a="dy5_6k30eb19jprfw8omcigthqsazu2nv4lx7",s=a.length,o=function(e){var n=null;return e<s?a.substring(e,e+1):(n=e%s+1,o(e/s)+a.substring(e%s,n))},l=null,r=function(){var e=n.getUserData().getUserNo();return l||(e>0?l=o(e):null)},c=window.isMobile?"5.5.0":"7.4.0";return{PLACEMENT:{FEED:"feed",OPEN_FEED:"open_feed",NEWS:"news"},createAdPayload:function(e){return{ad_token:r(),os_type:window.isMobileView?"moweb":"pcweb",language:i.getLang(),agent_version:c,country:i.getCountryCode(),placement:e}},getAdToken:function(){return r()}}}.call(n,t,n,e))||(e.exports=i)},1078:function(e,n,t){var i;void 0===(i=function(e){var n=t(21),i=t(13),a=t(198),s=t(9),o=t(1077);return{getApiClient:function(){return this.apiClient||(this.apiClient=n.getLoginV1Client()),this.apiClient},_generateClientParam:function(){return JSON.stringify({user_no:i.getUserData().getUserNo(),type:"bandweb",country:s.getCountryCode(),language:s.getLang(),os_name:window.isMobileView?"moweb":"pcweb"})},adReport:function(e,n){var t=this._generateClientParam();this._sendByImage({url:"https://ad-api.band.us/v1/ad_report",data:{action:e,ad_token:o.getAdToken(),client:t,data:n?JSON.stringify([n]):""}})},adExposeReport:function(e){this.adReport("imp",e)},adClickReport:function(e){this.adReport("click",e)},_sendByImage:function(e){var n=a.makeApiBaseUrl(e.url)+"&"+$.param(e.data);try{document.createElement("IMG").setAttribute("src",n)}catch(e){}}}}.call(n,t,n,e))||(e.exports=i)},1103:function(e,n,t){var i;void 0===(i=function(e){var n=t(2),i=t(0),a=t(4),s=t(153),o=t(533),l=t(26),r=t(611),c=t(154),u=t(1249),h=t(190),d=t(833),g=t(84),p=t(553),m=t(155);return new(a.Object.extend({openImageViewer:function(e,n,t,i,a,s,o,l){var c={photos:a,total_count:s},u=n.getBandCore(),h=u.bandNo,g={result_data:c,openIndex:i,bandNo:h,goPostSupport:!0,profileViewSupport:!0,showUserInfo:!0,fetchNextPhotosOnShow:o,hidePageIndex:l,moreOptionList:[d.MEDIA_MORE_OPTION.SHOW_VIDEO_VIEWER_LIST,d.MEDIA_MORE_OPTION.COPY_URL,d.MEDIA_MORE_OPTION.DELETE,d.MEDIA_MORE_OPTION.REPORT,d.MEDIA_MORE_OPTION.MEDIA_DOWNLOAD_SETTING]},m=r.openDPhotoVideoImageViewer(g);return this._bindDeletePhotoEvent(m,e,h),e.listenTo(m,r.EVENT.SHOW_POST,(function(e){m.destroy(),p.postDetail(u,e).go()})),m},openSingleImageViewerByUrl:function(e,n){var t=r.getMatchedMediaViewerRouteInfo(n);if(t){var i=g.extractPageRouteData(t,n),a=i.pathVariables||{},s=i.params||{};this.openSingleImageViewer(e,a.band_no,a.photo_no,a.comment_id,a.comment_reply_id,!!s.goPostSupport,!!s.goAlbumSupport)}},openSingleImageViewer:function(e,t,a,l,u,g,b){var _={result_data:{total_count:1},openIndex:0,bandNo:t,goPostSupport:!0===g,goAlbumSupport:!0===b,profileViewSupport:!0,showUserInfo:!0,initCommentId:l,initCommentReplyId:u,moreOptionList:[d.MEDIA_MORE_OPTION.SHOW_VIDEO_VIEWER_LIST,d.MEDIA_MORE_OPTION.COPY_URL,d.MEDIA_MORE_OPTION.DELETE,d.MEDIA_MORE_OPTION.REPORT]},f=m.get(t),C=n.when(o.getPhotoDetail(t,a),f.loadBandData());c.wrapActivePromise(C,e).then(i.bind((function(n){_.result_data.photos=[n.photo];var i=r.openDPhotoVideoImageViewer(_);this._bindDeletePhotoEvent(i,e,t),e.listenTo(i,r.EVENT.SHOW_POST,(function(e){i.destroy(),p.postDetail(f.getBandCore(),e).go()})),e.listenTo(i,r.EVENT.GO_ALBUM,(function(e){i.destroy(),e?s.GROUP_BAND_ALBUM_DETAIL.goDForced({band_no:t,album_no:e||h.TOTAL_ALBUM_NO}):s.GROUP_BAND_ALBUM.goDForced({band_no:t})}))}),this))},_bindDeletePhotoEvent:function(e,n,t){n.listenTo(e,d.TRIGGERING_EVENTS.MEDIA_DELETED,i.bind((function(n){e.destroy(),l.getAlbumChannel().trigger(l.EVENT.ALBUM_PHOTO_DELETED,t,[n])}),this))},populateToCollection:function(e,n,t,i){var a={photoInfo:i,bandNo:n,lastImageIndex:t,postNo:null,profileViewSupport:!0,showUserInfo:!0},s=u.build([],a);e.collection.addCollection(s)}}))}.call(n,t,n,e))||(e.exports=i)},1133:function(e,n,t){var i;void 0===(i=function(e){var n=t(1134);return n.extend({initialize:function(e,t){this.srcCollection=t.srcCollection,t.getSize=_.bind((function(){return this.srcCollection.length}),this),t.sliceModels=_.bind((function(e,n){return this.srcCollection.slice(e,n)}),this),n.prototype.initialize.call(this,e,t)}})}.call(n,t,n,e))||(e.exports=i)},1134:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(2);return t(6).Collection.extend({options:{getSize:function(){return 0},fetchNext:function(){return i.Deferred().resolve().promise()},hasNext:function(){return!1},sliceModels:function(e,n){return[]},stepInterval:15},initialize:function(e,t){this.options=n.extend({},this.options,t),this._loadFromSrc()},_loadFromSrc:function(){var e=this.options.sliceModels(this.length,this.length+this.options.stepInterval);this.add(e)},hasNext:function(){return this.length<this.options.getSize()||this.options.hasNext()},loadNext:function(){return this.length<this.options.getSize()?(this._loadFromSrc(),i.Deferred().resolve().promise()):this.options.hasNext()?this.options.fetchNext().then(n.bind((function(){this._loadFromSrc()}),this)):i.Deferred().resolve().promise()},resetItem:function(e,n){var t=this.options.sliceModels(e,n);return this.reset(t),i.Deferred().resolve().promise()},removeItem:function(e){this.remove(e),this.options.removeItem(e)}})}.call(n,t,n,e))||(e.exports=i)},1157:function(e,n,t){var i;void 0===(i=function(){return{LINKS:{BLOG:{DEFAULT:null,US:"http://blog.band.com",KR:"http://blog.naver.com/bandapp",JP:"http://jpblog.band.com",TW:null},FACEBOOK:{DEFAULT:null,US:"https://www.facebook.com/BANDglobal",en:"https://www.facebook.com/BANDglobal",IN:null,KR:null,JP:"https://www.facebook.com/BANDJapan",ja:"https://www.facebook.com/BANDJapan",CN:null,TW:null,HK:null,ID:null},TWITTER:{DEFAULT:null,US:"https://twitter.com/bandtogetherapp",en:"https://twitter.com/bandtogetherapp",KR:null,JP:"https://twitter.com/BAND_app_jp",ja:"https://twitter.com/BAND_app_jp",TW:null},BIZCENTER:{DEFAULT:"https://"+window.bizcenterDomain+"/main",en:"https://"+window.bizcenterDomain+"/main",ko:"https://"+window.bizcenterDomain+"/main",ja:"https://"+window.bizcenterDomain+"/main","zh-TW":"https://"+window.bizcenterDomain+"/main"},DESKTOP:{DEFAULT:"/cs/notice/1301",en:"/cs/notice/1301",ko:"/cs/notice/1301",ja:"/cs/notice/1301","zh-TW":"/cs/notice/1301"}},makeLink:function(e){if("FACEBOOK"==e||"TWITTER"==e||"YOUTUBE"==e){var n=this.LINKS[e];return"US"==window.countryCode||"JP"==window.countryCode||"KR"==window.countryCode?n[window.countryCode]:n[window.messageLang]}var t=this.LINKS[e][window.messageLang]?this.LINKS[e][window.messageLang]:this.LINKS[e][window.countryCode];return t||this.LINKS[e].DEFAULT}}}.call(n,t,n,e))||(e.exports=i)},1265:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(21);return{getApiClient:function(){return this.apiClient||(this.apiClient=i.getLoginV1Client()),this.apiClient},getNews:function(e){return this.getApiClient().send({url:"https://api.band.us/v2.0.0/get_news",data:{ad_payload:e}}).then((function(e,n,t){return e.result_data}))},getBandNews:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_band_news",data:{band_no:e}})},getNewsCount:function(e){return this.getApiClient().send({url:"https://api.band.us/v1.2.0/get_news_count",data:n.extend({without_post_news:!0,without_album_news:!0,with_chat_message_count:!0,feed_version:"1.1.0"},e)}).then((function(e,n,t){return e.result_data}))},setMarkNewsAsRead:function(){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/mark_news_as_read"})}}}.call(n,t,n,e))||(e.exports=i)},1415:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(6),a=t(52),s=t(153),o=t(9),l=t(179),r=t(506),c=t(82),u=t(16),h=t(152),d=t(161),g={notice_post:function(e){var t=a.camelizeKeys(e),i={ad_report_data:JSON.parse(t.adPayload||"{}").ad_report_data,hideHeader:!!n.isEmpty(t.headerContent),hideFooter:!(!n.isEmpty(t.footerContent)||t.createdAt),footerHeadLabel:t.footerHeader,footerHeadStyle:t.footerHeaderStyle,headerName:t.headerContent,headerType:t.typeName,bandName:t.footerContent,subBody:t.subcontent,commentCount:t.bubbleCount||0,endPageUrl:!!t.action&&t.action.pc,exposed:!1,contentLineage:t.contentLineage},s=t.leftImage,o="",r=l.PROFILE_BAND_SMALL.make();switch(s){case"band":t.band=t.band||{};var u="page"===t.band.type;o=u?t.band.profileImage:t.band.cover,r=u?l.PROFILE_DEFAULT_PAGE.make():l.COVER_BAND_SMALL.make();break;case"actor":t.actor=t.actor||{},o=t.actor.profileImageUrl,r=l.PROFILE_DEFAULT_R1.make();break;case"image1":case"image2":o=t[s]}i.symbolImgUrl=c.make(o,c.TYPE.s150,r),i.symbolErrorImgUrl=r;var h=t.rightImage;switch(h){case"image1":case"image2":i.additionalImgUrl=c.make(t[h],c.TYPE.s150,l.PROFILE_BAND_SMALL.make())}return i},feed_ad:function(e){var n=a.camelizeKeys(e);return{ad_report_data:e.ad_report_data,headerName:n.titleText,symbolImgUrl:c.make(n.imageUrl,c.TYPE.s150),additionalImgUrl:c.make(n.subImageUrl,c.TYPE.s150),footerHeadLabel:"biz_news_ad"==n.adType?IM("ad.mark.label"):IM("news.feed_ad.sponsor.label"),bandName:n.tagline,endPageUrl:!!n.action&&n.action.pc,mainBody:n.contentText,regTime:null,exposed:!1,adType:n.adType,adReportData:n.adReportData,contentLineage:n.contentLineage,feedAdNo:n.feedAdNo}},post:function(e){var n=a.camelizeKeys(e),t={headerType:IM("web.news.newscollectonitem.typename.post"),mainBody:n.content.replace(/\n/g," ").trim(),exposed:!1,contentLineage:n.contentLineage},i=!!n.band&&n.band.bandNo,o=n.postNo;i&&o&&(t.endPageUrl=s.GROUP_BAND_POST_DETAIL.makeUrl({band_no:i,post_no:o}));var c=r.get(n.postAddition,"type",null);return c===h.VIEW_TYPE_BIRTHDAY?(t.symbolImgUrl=l.PROFILE_BIRTHDAY.make(),t.hideHeader=!0):c===h.VIEW_TYPE_ANNIVERSARY&&(t.symbolImgUrl=l.PROFILE_ANNIVERSARY.make(),t.hideHeader=!0),t}};return i.Model.extend({parse:function(e,t){var i=a.camelizeKeys(e),s=g[i.type],h=i.band,p=h?d.createBandCore(h):null;if(!s||"function"!=typeof s)return this.isNotSupportType=!0,{type:i.type};var m={type:i.type,read:!i.isNew,endPageUrl:null,symbolImgUrl:c.makeProfileThumbnailUrl(r.get(i.actor,"profileImageUrl",null)),symbolErrorImgUrl:l.PROFILE_DEFAULT_R1.make(),headerName:r.get(i.actor,"name",null),isViewerReferred:i.isViewerReferred||!1,hideHeader:!1,hideFooter:!1,mainBody:i.content,subBody:null,bandName:p?p.name:null,themeColor:i.themeColor||null,headerType:null,commentCount:i.commentCount||0,mainBodyLabel:r.get(i.postAddition,"prefix",null),footerHeadLabel:null,footerHeadStyle:null,regTime:i.createdAt?o.format.relative(u(i.createdAt).toDate(),"month_day"):null,additionalImgUrl:c.make(i.thumbnail,c.TYPE.s75)||null,additionalImgType:r.get(i.postAddition,"type",null),additionalImgCount:i.photoCount||0,bandCore:p,postNo:i.postNo};return n.extend(m,s(e))},validate:function(e,n){if(this.isNotSupportType)return"This is not Supported type: "+e.type},getNewsModelBandCore:function(){return this.get("bandCore")}})}.call(n,t,n,e))||(e.exports=i)},1603:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(2),a=t(4),s=t(1604),o=t(170),l=t(186),r=t(9),c=t(1107),u=t(26),h=a.View.extend({tagName:"header",attributes:{"data-viewname":"DIntroHeaderView"},template:n.template(s),templateContext:function(){return{isGnbMenuView:this._isNotKorea,isJapan:r.isJapanCountryCode(),isSpanish:r.isSpanishLanguage(),aboutBandUrl:"https://"+window.aboutDomain,aboutBandFeaturesUrl:"https://"+window.aboutDomain+"/features",aboutBandUseCaseUrl:"https://"+window.aboutDomain+"/usecase",aboutBandLearningUrl:"https://"+window.aboutDomain+"/learning",aboutBandJaUrl:"https://"+window.aboutDomain+"/jp",aboutBandJaUseCaseUrl:"https://"+window.aboutDomain+"/jp/usecase/sportsteam",aboutBandEsUseCaseUrl:"https://"+window.aboutDomain+"/es/sports-team-communication"}},ui:{currentLanguageLink:"._currentLanguageLink",langList:"._langList",languageLink:"._languageLink",signUpLink:"._signUpLink",loginLink:"._loginLink",gnbMenuFixed:"._gnbMenuFixed"},events:{"click @ui.currentLanguageLink":function(e){e.preventDefault(),this.ui.langList.is(":visible")||n.defer(n.bind((function(){this.ui.langList.show()}),this))},"click @ui.languageLink":function(e){var n=i(e.currentTarget).data("lang");e.preventDefault(),n!==this._currentLanguage.VALUE&&(l.setLanguage(n),window.location.reload())},"click @ui.signUpLink":function(e){e.preventDefault(),o.goSignUpPage(this._nextUrl)},"click @ui.loginLink":function(e){e.preventDefault(),o.goLoginPage(this._nextUrl,!0)}},initialize:function(e){this._isIntro=!!e.isIntro,this._nextUrl=this._isIntro?null:window.location.href,this._currentLanguage=c.INTRO_LANGUAGE[r.lang],this.listenTo(u.getDGlobalChannel(),u.EVENT.HTML_CLICK,(function(){this.ui.langList.hide()})),this._isNotKorea=!r.isKoreaCountryCode()},serializeData:function(){return{isIntro:this._isIntro,languages:n.map(c.INTRO_LANGUAGE),currentLanguage:this._currentLanguage}},onAttach:function(){this._$window=i(window),this._scrollCheckGnbMenuEventHandler=n.bind((function(){return!!this._isNotKorea&&this._scrollCheckGnbMenu()}),this),this._$window.on("scroll",this._scrollCheckGnbMenuEventHandler)},onBeforeDetach:function(){this._$window.off("scroll",this._scrollCheckGnbMenuEventHandler)},onRender:function(){this.$el.attr("id","header"),this.$el.toggleClass("header",this._isIntro),this._isIntro?this.$el.removeAttr("role"):this.$el.attr("role","banner"),this.ui.langList.hide(),this._countryCodeCheck()},_countryCodeCheck:function(){this._isNotKorea&&this.getUI("gnbMenuFixed").addClass("-fixed")},_scrollCheckGnbMenu:function(){0!==this.getUI("gnbMenuFixed").offset().top?(this.getUI("gnbMenuFixed").removeClass("-fixedBgGray"),this.getUI("gnbMenuFixed").addClass("-fixedBgWhite")):(this.getUI("gnbMenuFixed").removeClass("-fixedBgWhite"),this.getUI("gnbMenuFixed").addClass("-fixedBgGray"))}});return h.build=function(e){return new h(e||{})},h}.call(n,t,n,e))||(e.exports=i)},1604:function(e,n){e.exports='<div class="headerInner _gnbMenuFixed">\n    <h1 class="headerTitle"><a href="/home" class="bandlogo"><span class="gSrOnly">BAND</span></a></h1>\n    <% if (isGnbMenuView) {%>\n    <div class="headerGlobalMenu">\n        <ul class="globalMenuList gMat21">\n            <% if(isJapan) { %>\n            <li class="globalMenuItem"><a href="<%- aboutBandJaUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.aboutband\') %></a></li>\n            <li class="globalMenuItem"><a href="<%- aboutBandJaUseCaseUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.usecase\') %></a></li>\n            <% } else { %>\n                <% if (isSpanish) { %>\n                <li class="globalMenuItem"><a href="<%- aboutBandUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.aboutband\') %></a></li>\n                <li class="globalMenuItem"><a href="<%- aboutBandFeaturesUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.features\') %></a></li>\n                <li class="globalMenuItem"><a href="<%- aboutBandEsUseCaseUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.usecase\') %></a></li>\n                <li class="globalMenuItem"><a href="<%- aboutBandLearningUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.learningcenter\') %></a></li>\n                <% } else { %>\n                <li class="globalMenuItem"><a href="<%- aboutBandUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.aboutband\') %></a></li>\n                <li class="globalMenuItem"><a href="<%- aboutBandFeaturesUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.features\') %></a></li>\n                <li class="globalMenuItem"><a href="<%- aboutBandUseCaseUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.usecase\') %></a></li>\n                <li class="globalMenuItem"><a href="<%- aboutBandLearningUrl %>" target="_blank" class="globalMenuLink"><%= IM(\'web.about.band.menu.learningcenter\') %></a></li>\n                <% } %>\n            <% } %>\n        </ul>\n    </div>\n    <% } %>\n\n    <div class="floatSection">\n        <div class="currentLang">\n            <a href="#" class="lang _currentLanguageLink" style="display: inline-block;"><%- currentLanguage.LABEL %></a>\n            <div class="languageSelect _langList">\n                <ul class="langList">\n                    <% _.each(languages, function(language) { %>\n                    <li class="langItem"><a href="#" class="languageLink _languageLink" data-lang="<%- language.VALUE %>"><%- language.LABEL %></a></li>\n                    <% }); %>\n                </ul>\n            </div>\n        </div>\n        <a href="#" class="signUp _signUpLink"><%= IM(\'web.intro.btn.signup\') %></a>\n        <a href="#" class="login _loginLink"><%= IM(\'web.intro.btn.login\') %></a>\n    </div>\n</div>\n\n'},1677:function(e,n,t){var i;void 0===(i=function(e){var n=t(2),i=t(0),a=t(6),s=t(1265),o=t(26),l=t(13),r=a.Model.extend({defaults:{news_count:0,new_chat_message_count:0,new_feed_count:0,apiParam:{}},initialize:function(){this.listenTo(o.getDGlobalChannel(),o.EVENT.REFRESH_BADGE_REQUEST,(function(e){l.isLogedIn()&&this.fetchNewsCountData(e)}))},fetchNewsCountData:function(e){if(e){if(i.isNumber(e.readChatCount))return this._decrease(e.readChatCount);if(i.isNumber(e.newMessageCount))return this._setNewMessageCount(e.newMessageCount)}return null!=this._fetchingPromise||(this._fetchingPromise=s.getNewsCount(this.get("apiParam")).then(i.bind((function(e){return this._fetchingPromise=null,i.isEqual(this.attributes,e)||(this.set(e),o.getDGlobalChannel().trigger(o.EVENT.BADGE_UPDATED,this)),this}),this))),this._fetchingPromise},_decrease:function(e){return this._setNewMessageCount(this.getNewChatMessageCount()-e)},_setNewMessageCount:function(e){return this.set("new_chat_message_count",e),o.getDGlobalChannel().trigger(o.EVENT.BADGE_UPDATED,this),n.Deferred().resolve()},hasAnyNewsCount:function(){return this.getNewsCount()+this.getNewChatMessageCount()>0},getNewsCount:function(){return this.get("news_count")},getNewChatMessageCount:function(){return this.get("new_chat_message_count")},getNewFeedCount:function(){return this.get("new_feed_count")},isNewFeedUpdatable:function(){return this.getNewFeedCount()>0}});return r.build=function(e){return new r({apiParam:e})},r}.call(n,t,n,e))||(e.exports=i)},1678:function(e,n,t){var i;void 0===(i=function(e){t(2);var n=t(0),i=t(6),a=t(1415),s=t(1265),o=t(34),l=t(1077);return i.Collection.extend({model:a,initialize:function(){},fetchNews:function(){var e=l.createAdPayload(l.PLACEMENT.NEWS);return s.getNews(o.stringify(e)).then(n.bind((function(e){this.reset(e||[],{parse:!0,validate:!0})}),this),n.bind((function(){this.reset([])}),this))},markNewsAsRead:function(){return s.setMarkNewsAsRead()}})}.call(n,t,n,e))||(e.exports=i)},1711:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(4),a=t(13),s=t(157),o=t(486),l=t(534),r=t(170),c=t(1712),u=t(1713),h=t(488),d=i.View.extend({className:h.LAYER.OPTION_MENU_LIST,attributes:function(){var e={"data-viewname":"LogoutItemView"};return this.isMobile&&(e.style="background:white;"),e},getTemplate:function(){return this.isMobile?n.template(u):n.template(c)},ui:{btnCancel:"._btnCancel",btnLogout:"._btnLogout",btnMoveToSetting:"._btnMoveToSetting"},events:{"click @ui.btnCancel":"destroy","click @ui.btnLogout":"_logout","click @ui.btnMoveToSetting":"_moveToSettingUrl"},initialize:function(){this.isMobile=window.isMobileView},serializeData:function(){var e=this._getLoginIdMessage();return{loginMessage:e,title:e?IM("web.setting.home.popup.title.logout"):IM("setting.logout.title.phone_account")}},_getAccountData:function(){var e=a.getUserData();return{naverId:e.getNaverId(),email:e.getEmail(),facebookId:e.getFacebookUserId(),lineUserId:e.getLineUserId(),googleUserId:e.getGoogleUserId()}},_getLoginIdMessage:function(){var e=this._getAccountData(),n="";return""!=e.facebookId?(n=IM("web.setting.home.popup.txt.logout.txt.service_facebook"),{accountId:"",message:IM("web.setting.home.popup.txt.logout.description",{serviceName:n})}):""!=e.email?(n=IM("web.setting.home.popup.txt.logout.txt.service_email"),{accountId:l.transformEmail(e.email),message:IM("web.setting.home.popup.txt.logout.description",{serviceName:n})}):""!=e.googleUserId?(n=IM("web.setting.home.popup.txt.logout.txt.service_google"),{accountId:"",message:IM("web.setting.home.popup.txt.logout.description",{serviceName:n})}):""!=e.naverId?(n=IM("web.setting.home.popup.txt.logout.txt.service_naver"),{accountId:l.transformNaverId(e.naverId),message:IM("web.setting.home.popup.txt.logout.description",{serviceName:n})}):""!=e.lineUserId?(n=IM("web.setting.home.popup.txt.logout.txt.service_line"),{accountId:"",message:IM("web.setting.home.popup.txt.logout.description",{serviceName:n})}):null},_logout:function(){r.goLogoutPage()},_moveToSettingUrl:function(){this.isMobile?s.GLOBAL_MY_PROFILE.goForced():s.GLOBAL_MY_PROFILE.goDForced()}});return d.buildLogoutView=function(){if(window.isMobileView)return new d;o.open(new d)},d}.call(n,t,n,e))||(e.exports=i)},1712:function(e,n){e.exports='<section class="lyWrap">\n    <div class="lyContent">\n        <header class="header">\n            <h1 class="title"><%- title %></h1>\n        </header>\n        <div class="main">\n        <% if (loginMessage) { %>\n            <p class="p"><%= loginMessage.message %></p>\n\n            <% if(!!loginMessage.accountId) { %>\n            <p class="p"><em class="point"><%= loginMessage.accountId %></em></p>\n            <% } %>\n        <% } else { %>\n            <p class="p"><%= IM("setting.logout.txt.phone_account.description") %></p>\n        <% } %>\n        </div>\n        <footer class="footer">\n        <% if (loginMessage) { %>\n            <button type="button" class="uButton -cancel _btnCancel"><%- IM("ui.label.cancel") %></button>\n        <% } else { %>\n            <button type="button" class="uButton -cancel _btnMoveToSetting"><%- IM("setting.connected_service.lable.connect") %></button>\n        <% } %>\n            <button type="button" class="uButton -confirm _btnLogout"><%- IM("web.setting.home.txt.logout") %></button>\n        </footer>\n    </div>\n</section>'},1713:function(e,n){e.exports='<div class="modalContent">\n    <header class="modalHeader -bottomLine">\n        <h1 class="title"><%- title %></h1>\n    </header>\n\t<div class="modalBody">\n\t\t<% if (loginMessage) { %>\n\t\t<div class="modalDesc gTaC gPab13">\n\t\t\t<%= loginMessage.message %>\n\t\t\t<strong class="emailId"><%= loginMessage.accountId %></strong>\n\t\t</div>\n\t\t<% } else { %>\n\t\t<%= IM("setting.logout.txt.phone_account.description") %>\n\t\t<% } %>\n\t</div>\n    <footer class="modalButtonBox -topLine">\n        <% if (loginMessage) { %>\n        <button type="button" class="uBtn -w100 -grayBorder _btnCancel"><%-IM(\'ui.label.cancel\')%></button>\n        <% } else { %>\n        <button type="button" class="uBtn -w100 -grayBorder _btnMoveToSetting"><%- IM("setting.connected_service.lable.connect") %></button>\n        <% } %>\n        <button type="button" class="uBtn -w100 -point _btnLogout"><%- IM("web.setting.home.txt.logout") %></button>\n    </footer>\n</div>\n'},1743:function(e,n,t){var i;void 0===(i=function(e){var n=t(4),i=(t(512),t(189)),a=t(1133),s=n.Behavior.extend({initialize:function(e,t){if(!(t instanceof n.CollectionView||t instanceof n.CompositeView))throw new Error("Use DIntervalLoadingCollectionBehavior in CollectionView or CompositeView!")},onResetChattingChannels:function(){var e=this.view.collection.srcCollection.length;this.view.collection.remove(this.loadingModel),this.view.collection.resetItem(0,e)},onLoadNext:function(e,n){if(e&&"update"==e.type)"down"==n.direction&&n.maximum-n.position<=.1*n.maximum&&(this.view.collection.remove(this.loadingModel),this.view.collection.loadNext());else{if(!e)return this.view.collection.remove(this.loadingModel),void this.view.collection.loadNext();var t=e.target;t.scrollHeight-t.scrollTop<=2*t.clientHeight&&this.view.collection.loadNext()}},onResetFromOrignalCollection:function(){this.view.collection.resetItem(0,this.view.collection.length)},onBeforeRender:function(){var e=this.view.collection;if(this.loadingModel=new e.model({loading:!0}),!(this.view.collection instanceof a)){var n=new a([this.loadingModel],{srcCollection:e});this.view.collection=n}}});return i.DIntervalLoadingCollectionBehavior=s,s}.call(n,t,n,e))||(e.exports=i)},1744:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(2),a=t(4),s=t(486),o=t(1745),l=a.View.extend({attributes:{"data-viewname":"DChattingRoomQuitWithReportConfirmView"},template:n.template(o),templateContext:function(){return{hideDesc:this._hideDesc}},ui:{btnConfirm:"[data-uiselector=btnConfirm]",btnCancel:"[data-uiselector=btnCancel]"},events:{"click @ui.btnConfirm":"_confirm","click @ui.btnCancel":"_cancel"},initialize:function(e){console.log(e),this._hideDesc=!!e.hideDesc||!1},_confirm:function(){var e={};return this.$("[data-uiselector=chk]").each((function(){e[i(this).val()]=i(this).is(":checked")})),this.trigger("modal:confirm",e),this.destroy(),!1},_cancel:function(){return this.trigger("modal:cancel"),this.destroy(),!1}});return l.openAsLayer=function(e){var n=new l(e);return s.open(n),n},l}.call(n,t,n,e))||(e.exports=i)},1745:function(e,n){e.exports='<section class="lyWrap">\n    <div class="lyContent" >\n        <header class="header -noTitlebar">\n            <h1 class="title"><%=IM(\'web.chatroom.confirm.leave\')%></h1>\n        </header>\n\n        <% if(!hideDesc) { %>\n        <div class="main">\n            <p class="p"><%=IM(\'web.chatroom.quit.msg_report\')%></p>\n        </div>\n        <% } %>\n\n        <footer class="footer">\n            <button data-uiselector="btnCancel" type="button" class="uButton -cancel"><%=IM(\'ui.label.cancel\')%></button>\n            <button data-uiselector="btnConfirm" type="button" class="uButton -confirm"><%=IM(\'ui.label.confirm\')%></button>\n        </footer>\n    </div>\n</section>'},1746:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(6),a=t(541),s=i.Model.extend({fetchBandNotificationOptionData:function(e){return a.getBandNotificationOption(e).then(n.bind((function(e){return this.set(e),this}),this))},getNewsNotificationLabel:function(){if(n.isEmpty(this._getNewsNotificationOptions().key)||n.isEmpty(this._getNewsNotificationOptions().options))return"";var e=n.find(this._getNewsNotificationOptions().options,n.bind((function(e){return e.key==this._getNewsNotificationOptions().key}),this));return n.isEmpty(e)?"":e.short_name},getNewsNotificationOptions:function(){return this._getNewsNotificationOptions()},_getNewsNotificationOptions:function(){return{key:this.get("selected_comment_news_option"),options:this.get("selectable_comment_news_options")}},isReceiveEmailNotification:function(){return this.get("receive_email_notification")}});return s.build=function(e){return(new s).fetchBandNotificationOptionData(e)},s}.call(n,t,n,e))||(e.exports=i)},2073:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(907),a=t(589),s=t(527),o=t(1034),l=t(581),r=t(13),c=t(160),u=t(720),h=t(2954),d=t(53),g=t(486),p=t(510),m=t(26),b=t(22),_=t(1097),f=t(2956),C=t(590),w={startNewChat:function(e,t){_.openLayer({title:IM("web.inviteband.btn.choice_band"),selectionType:_.SELECTION_TYPE.SINGLE_SELECT,excludedBandNos:[],bandTypes:[b.BAND_TYPE.GROUP],groupBandFilters:t,pageBandFilters:[]}).on("singleBand:selected",n.bind((function(n){var t=n.bandNo;e?w.startNewChatFromBand(t):w.startNewPublicChatFromBand(t,(function(){var e=d.getCurrentRouteInfo(),n=e.routeInfo,i=e.pathVariables||{};"BAND"===n.getDesktopLayout()&&i.band_no===t.toString()&&($.browser.msie||$.browser.msedge||m.getDGlobalChannel().trigger(m.EVENT.CHAT_ROOM_LIST_UPDATED))}))}),this))},startNewChatFromBand:function(e){var t=i.openDMemberSelectionView(),h=s.buildBandMemberWithFilterDataCollection(e,c.INVITE_CHAT,100),d=s.buildBandMemberWithFilterDataCollection(e,c.INVITE_CHAT,100);h.fetchBandMemberWithFilterDataCollection().then((function(){t.renderMemberListToSelect({memberModels:h.toMemberSelectionViewModels(),memberGroupSelectSupport:h.hasMemberGroup(),showSearchMoreMemberBtn:h.hasMoreMember()})})),t.on(i.EVENT.MEMBER_SELECTION_MEMBER_SELECT_CLICK,(function(e){t.selectMember(e.selectedMember)})),t.on(i.EVENT.MEMBER_SELECTION_MEMBER_DESELECT_CLICK,(function(e){t.deselectMember(e)})),t.on(i.EVENT.MEMBER_SELECTION_MEMBER_PROFILE_CLICK,(function(n){a.openMembershipProfileLayer({name:n.name,profileImageUrl:n.profileImageUrl,userNo:n.userNo,bandNo:e})})),t.on(i.EVENT.MEMBER_SELECTION_SEARCH,(function(e){d.searchBandMemberWithFilterDataCollection(e).then((function(){t.renderMemberListToSelect({memberModels:d.toMemberSelectionViewModels(),memberGroupSelectSupport:h.hasMemberGroup(),showSearchMoreMemberBtn:d.hasMoreMember()})}))})),t.on(i.EVENT.MEMBER_SELECTION_INPUT_EMPTY,(function(){t.renderMemberListToSelect({memberModels:h.toMemberSelectionViewModels(),memberGroupSelectSupport:h.hasMemberGroup(),showSearchMoreMemberBtn:h.hasMoreMember()})})),t.on(i.EVENT.MEMBER_SELECTION_COMPLETE,(function(t){var i=n.map(t.selectedMembers,(function(e){return{userNo:e.getUserNo(),name:e.getUserName()}}));g.closeAll(),u.startChattingWithUsers(i,e)})),t.on(i.EVENT.MEMBER_SELECTION_MEMBER_GROUP_CLICK,(function(){o.buildMemberGroupSelectView(e).on("memberGroupView:selectedMemberGroups",(function(e){n.chain(e).filter((function(e){return!r.isMe(e.userNo)})).map((function(e){return l.buildMemberSelectionViewModel({userNo:e.userNo,userName:e.name,description:e.description,profileImageUrl:e.profileImageUrl,isKid:e.isKid})})).each((function(e){t.selectMember(e)})).value()}))}))},startNewPublicChatFromBand:function(e,t){h.openAsLayer({bandNo:e}).on("modal:confirm",n.bind((function(e){g.closeAll(),p.openLayer({headerTitle:IM("chat_open.title"),bodyDesc:IM("chat.message.confirm_open_public_chat_room",{channelName:e.channelName}),confirm:IM("chat_open.btn.open"),cancel:IM("ui.label.cancel")}).once(p.EVENTS.CONFIRM,n.bind((function(){u.open(e.bandNo,e.channelId)}),this)),t&&t()}),this))},startNewChatFromBandWithGroupCall:function(e,t){if(!C.isContentCreationPunished()){var i=f.openLayer(e,c.INVITE_CHAT);i.on("member:selected",(function(e){var i=n.map(e.selectedMembers,(function(e){return{userNo:e.getUserNo(),name:e.getName()}}));g.closeAll(),u.startChattingWithGroupCall(i,e.bandNo,t)})),i.on("channel:selected",(function(e){g.closeAll(),u.openWithGroupCall(e.bandNo,e.selectedChatChannelId,t)}))}}};return w}.call(n,t,n,e))||(e.exports=i)},2074:function(e,n,t){var i;void 0===(i=function(e){var n=t(2),i=t(0),a=t(4),s=t(2966),o=t(486),l=t(54),r=t(57),c=t(801),u=a.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DSettingMessageSendKeyModalView"},template:i.template(s),templateContext:function(){return{title:this._isSettingHome?IM("setting.home.message_send_key.title"):IM("bandsetting.band_chatting.title"),keyName:r.isMac()?IM("chat.setting.send_key.label.key2.mac"):IM("chat.setting.send_key.label.key2"),isChatKeyEnter:this._chatKeyEnter,isCommentKeyEnter:this._commentKeyEnter,isSettingHome:this._isSettingHome,ApiKeyChat:c.MESSAGE_SEND_KEY.API_KEY_NAME.CHAT,ApiKeyComment:c.MESSAGE_SEND_KEY.API_KEY_NAME.COMMENT}},ui:{btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",checkInput:"._checkInput"},events:{"click @ui.btnConfirm":"_onClickBtnConfirm","click @ui.btnCancel":"_onClickCancel"},initialize:function(e){this._isSettingHome=e.isSettingHome,this._chatKeyEnter=!!e[0]&&JSON.parse(e[0].value)||!1,this._commentKeyEnter=!!e[1]&&JSON.parse(e[1].value)||!1},_onClickCancel:function(){this.destroy()},_onClickBtnConfirm:function(){var e=[];this.getUI("checkInput").each(i.bind((function(t,i){var a=n(i),s=this._setUserConfig({key:a.data("key"),value:a.is(":checked")});e.push(s)}),this)),n.when.apply(n,e).then(i.bind((function(){this.destroy()}),this))},_setUserConfig:function(e){return l.setUserConfig(e)}});return u.openAsLayer=function(e){var n=[c.MESSAGE_SEND_KEY.API_KEY_NAME.CHAT],t=e==c.MESSAGE_SEND_KEY.VIEW_TYPE.SETTING_HOME;return t&&n.push(c.MESSAGE_SEND_KEY.API_KEY_NAME.COMMENT),l.getUserConfig(n.join(",")).then(i.bind((function(e){i.extend(e,{isSettingHome:t});var n=new u(e);return o.open(n),n}),this))},u}.call(n,t,n,e))||(e.exports=i)},2075:function(e,n,t){var i;void 0===(i=function(e){t(2);var n=t(0),i=t(4),a=t(541),s=t(486),o=t(2972),l=i.View.extend({attributes:{"data-viewname":"DBandNotificationItemView"},template:n.template(o),ui:{settingLayer:"._settingLayer",newsNotificationLevel:"._newsNotificationLevel",btnConfirm:"._btnConfirm",btnClose:"._btnClose"},events:{"click @ui.btnConfirm":"_setNewsNotificationLevel","click @ui.btnClose":"destroy"},initialize:function(e){this.bandNo=e.bandNo,this.selectedNewsOption=e.selectedNewsOption,this.newsOptions=e.newsOptions},serializeData:function(){return{selectedNewsOption:this.selectedNewsOption,newsOptions:this.newsOptions}},onAttach:function(){var e=this.selectedNewsOption;n.find(this.newsOptions,(function(n){return n.key==e}))&&this.ui.newsNotificationLevel.val([e])},_setNewsNotificationLevel:function(){var e={bandNo:this.bandNo,newsLevel:this.ui.newsNotificationLevel.filter(":checked").val()};return a.setBandNotificationOption(e).then(n.bind((function(){this.trigger("bandSetting:refreshData"),this.destroy()}),this))}});return l.buildAsLayer=function(e){var n=new l({bandNo:e.bandNo,selectedNewsOption:e.selectedNewsOption,newsOptions:e.newsOptions});return s.open(n),n},l}.call(n,t,n,e))||(e.exports=i)},2946:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(2),a=t(4),s=t(2947),o=t(53),l=(t(1157),t(2948)),r=t(2974),c=t(486),u=t(721),h=t(2975),d=t(1603),g=t(13),p=t(157),m=t(583),b=t(1241),_=t(1031),f=t(9);return a.View.extend({id:"wrap",attributes:{"data-viewname":"DWebMainLayoutView"},template:n.template(s),ui:{container:"#container",gnbRegion:"._gnbRegion",footer:"#footer",layerContainer:"#layerContainer"},regions:{containerRegion:{el:"@ui.container",replaceElement:!0},gnbRegion:{el:"@ui.gnbRegion",replaceElement:!0},layerContainer:{el:"@ui.layerContainer",replaceElement:!0}},initialize:function(){this._body=i(u.BODY)},onRender:function(){this.showChildView("containerRegion",m.buildAsMediumScreenMiddle())},clearPageLayoutContent:function(){var e=this.getChildView("containerRegion");"function"==typeof e.clearPageLayoutContent&&e.clearPageLayoutContent()},renderWebLayout:function(e,t,i,a){e.isDesktopPageServiceLayout()?this._body.addClass("pageBand"):this._body.removeClass("pageBand"),this._body.removeClass("bandTypePreview"),this._drawFooter(),h[e.getDesktopLayout()].call().then(n.bind((function(n){var s=n.default,o=this.getRegion("containerRegion"),l=o.currentView;this._isPageChanged(t)||(l instanceof s||(l&&l.$el.hide(),o.show(l=new s)),l.renderPageLayout(e,t,i),this._showGnbLayer(e,a))}),this))},onAttach:function(){c.startLayerHelper(this),this.getChildView("layerContainer"),this._initBandNonEssentialCookieModule()},_initBandNonEssentialCookieModule:function(){_.initBandNonEssentialCookieModule({isStickyPosition:!1,domainLanguage:f.getLang(),isUS:f.isUSACountryCode(),isLogedIn:g.isLogedIn(),isKid:g.isKid()})},_showGnbLayer:function(e,n){var t=this.getChildView("gnbRegion");t?t instanceof l&&t.refreshDGnbMenuView(n):this.showChildView("gnbRegion",this._createGnbView(e,n))},_createGnbView:function(e,n){if(!g.isLogedIn())switch(e){case p.GLOBAL_UNSUBSCRIBE_EMAIL:return d.build()}return l.buildDGnbMenuView(n)},_drawFooter:function(){var e={outerLink:b.getLinkInfo(),copyrightYear:function(){return(new Date).getFullYear()},makeDesc:function(e){return e.boldDescription?"<strong>"+e.desc+"</strong>":e.desc}},t=n.template(r)(e);this.getUI("footer").html(t)},_isPageChanged:function(e){return this.isDestroyed()||o.getCurrentRouteInfo().pathVariables!==e}})}.call(n,t,n,e))||(e.exports=i)},2947:function(e,n){e.exports='<div class="_gnbRegion"></div>\n\n<div id="container"></div>\n\n<footer id="footer" role="contentinfo"></footer>\n\n<div id="layerContainer"></div>\n<div id="autoCompleteParent" class="lyAutoComplete"></div>\n'},2948:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(4),a=t(2949),s=t(13),o=t(1711),l=t(170),r=t(2950),c=t(2967),u=t(26),h=t(82),d=t(156),g=t(1677),p=t(53),m=t(157),b=t(83),_=t(167),f=t(166),C=t(9),w=t(1183),I=t(599),v=t(85),M=t(171),E=t(187),L=(t(1286),t(1287),t(57)),N=t(905),y={key:[f.EmailAlarmHelpGuideStatus],value:"close"},S=i.View.extend({tagName:"header",attributes:{"data-viewname":"DGnbMenuView",id:"header",role:"banner"},template:n.template(a),templateContext:{aboutBandUrl:"https://"+window.aboutDomain,learningCenterUrl:"https://"+window.aboutDomain+"/learning",canShowAboutMenu:E.canShowAboutMenuInGnb()},ui:{ieEndOfSupportGuideBanner:"._ieEndOfSupportGuideBanner",btnCloseIEEndOfSupportGuideBanner:"._btnCloseIEEndOfSupportGuideBanner",searchBox:"._searchBox",inputSearch:"._gnbInputSearch",btnSearch:"#btn_search",feedCount:"._feedCount",newsRegion:"._newsRegion",newsCount:"._newsCount",newsCountLabel:"._newsCountLabel",btnShowNews:"#btnShowNews",unreadChatCount:"._unreadChatCount",unreadChatCountLabel:"._unreadChatCountLabel",chatRegion:"._chatRegion",btnShowChannels:"#btnShowChannels",btnSignUp:"._btnSignUp",btnLogin:"._btnLogin",btnLogout:"._btnLogout",settingRegion:"._settingRegion",helpGuide:"._helpGuide",guideText:"._guideText",closeHelpGuide:"._closeHelpGuide",globalFaceImage:"._globalFaceImage",profileInner:"._profileInner",updateProfile:"._updateProfile",bookmarkCount:"._bookmarkCount",joinQnAMenu:"._joinQnAMenu",myBandJoinQnACount:"._myBandJoinQnACount"},regions:{newsRegion:{el:"@ui.newsRegion",replaceElement:!0},chatRegion:{el:"@ui.chatRegion",replaceElement:!0},settingRegion:"@ui.settingRegion"},events:{"click @ui.btnCloseIEEndOfSupportGuideBanner":function(e){this._hideIEEndOfSupportGuideBanner(!0)},"click @ui.btnShowNews":"_showNews","click @ui.btnShowChannels":"_showChannels","click @ui.btnSignUp":"_signUp","click @ui.btnLogin":"_login","click @ui.btnLogout":"_logout","click @ui.settingRegion":"_showSetting","click @ui.btnSearch":"_searchBand","focus @ui.inputSearch":"_searchBand","blur @ui.inputSearch":function(){this.ui.searchBox.removeClass("-active")},"click @ui.closeHelpGuide":"_closeHelpGuide"},initialize:function(e){this.listenTo(u.getDGlobalChannel(),u.EVENT.ROUTE_CHANGE,(function(){this._showIEEndOfSupportGuideBanner()})),s.isLogedIn()&&(this.badgeCounts=g.build({feed_version:I.FEED_VERSION}),this.listenTo(u.getDGlobalChannel(),u.EVENT.BADGE_UPDATED,this._renderBadgeCounts),this.userData=s.getUserData(),this.listenTo(u.getDGlobalChannel(),u.EVENT.HTML_CLICK,this._hideSingletonLayer),this.listenTo(u.getDGlobalChannel(),u.EVENT.REFRESH_GLOBAL_PROFILE,this._refreshGlobalProfileImage),this.listenTo(u.getDGlobalChannel(),u.EVENT.GNB_MENU_SLIDE_OUT,(function(){this.$el.slideUp("fast")})),this.listenTo(u.getDGlobalChannel(),u.EVENT.GNB_MENU_SLIDE_IN,(function(){this.$el.slideDown("fast")})),this.listenTo(u.getSettingChannel(),u.EVENT.DISCONNECTED_SERVICE_ITEM,n.bind((function(){this.userData.fetchUserData()}),this)),this.listenTo(u.getSettingChannel(),u.EVENT.LOGIN_EMAIL_UPDATED,n.bind((function(){this.userData.fetchUserData().then(n.bind((function(){this.render()}),this))}),this)),this.listenTo(w,w.UPDATED,(function(e){this._setBookmarkCount(e),this._toggleJoinQnAMenu(e)})),this.listenTo(u.getShortcutChannel(),u.SHORTCUT_EVENT.SHOW_NEWS_LAYER,(function(){this.getUI("btnShowNews").click()})),this.listenTo(u.getShortcutChannel(),u.SHORTCUT_EVENT.SHOW_CHAT_CHANNELS_LAYER,(function(){this.getUI("btnShowChannels").click()}))),this._currentBandData=e.bandData},serializeData:function(){var e={loginUserHeaderInfo:null,profileUrl:m.GLOBAL_MY_PROFILE.makeUrl(),myPostUrl:m.GLOBAL_MY_POST.makeUrl(),bookmarkLink:m.GLOBAL_MY_BOOKMARK.makeUrl(),csNoticeUrl:"/cs/notice",settingUrl:m.GLOBAL_SETTING.makeUrl(),emailAlarmUrl:m.GLOBAL_EMAIL_ALARM.makeUrl(),findingInvitationUrl:m.GLOBAL_FINDING_INVITATION.makeUrl(),feedUrl:m.GLOBAL_FEED.makeUrl(),discoverUrl:E.canShowDiscoverHome()&&s.canAccessBandSearchForGuardianship()?m.GLOBAL_DISCOVER.makeUrl():null,cid:this.cid,homeUrl:m.GLOBAL_HOME.makeUrl(),discoverAccessible:s.canAccessBandSearchForGuardianship(),searchQualificationByUnder18:s.canSearchQualificationByAge(),myBandJoinQnAUrl:m.GLOBAL_MY_BAND_JOIN_QNAS.makeUrl(),profileInnerClass:""};if(s.isLogedIn()){var n={faceThumbnail:this.userData.getFaceThumbnailSmall(),name:this.userData.getUserName(),link:{myInfo:m.GLOBAL_MY_PROFILE.makeUrl()},isValidUserData:this.userData.isValidUserData()};e.loginUserHeaderInfo=n,e.profileInnerClass=h.makeProfileInnerClass(this.userData.getFaceThumbnailSmall())}return e},onRender:function(){this._toggleBandSkinColor(),s.isLogedIn()&&b.getBandListWithFilter(null,v.getFieldsWithFilterType()).then(n.bind((function(e){var n=!!e&&e.length||0;0==n&&this.ui.updateProfile.is(":visible")&&this.ui.updateProfile.hide(),this._showBandCoachMark(n)}),this))},onAttach:function(){this._showIEEndOfSupportGuideBanner(),this._initIntervalBadgeCountRefresh(),s.isLogedIn()&&u.getDGlobalChannel().trigger(u.EVENT.REFRESH_BADGE_REQUEST),this._refreshSearchMessage()},refreshDGnbMenuView:function(e){var n=p.getCurrentRouteInfo().routeInfo,t=p.getExRouteInfo().routeInfo;this._currentBandData=e,this._toggleBandSkinColor(),n.isImageViewerServiceRouteInfo()||!t||t.isImageViewerServiceRouteInfo()||this._hideSingletonLayer(),this._refreshSearchMessage()},_hideIEEndOfSupportGuideBanner:function(e){this.getUI("ieEndOfSupportGuideBanner").hide(),this.$el.removeClass("-topAlertBanner"),e&&_.getCurrentUserEnvStorage().set([f.IEEndOfSupportGuideBannerClosed],!0)},_showIEEndOfSupportGuideBanner:function(){this._hideIEEndOfSupportGuideBanner(),p.getCurrentRouteInfo().routeInfo===m.GLOBAL_HOME&&L.isMSIE()&&(_.getCurrentUserEnvStorage().get([f.IEEndOfSupportGuideBannerClosed])||(this.$el.addClass("-topAlertBanner"),this.getUI("ieEndOfSupportGuideBanner").show()))},_refreshSearchMessage:function(){var e=p.getCurrentRouteInfo();switch(e.routeInfo){case m.GLOBAL_SEARCH:case m.GLOBAL_BAND_SEARCH:case m.GLOBAL_POST_SEARCH:case m.GLOBAL_MY_BAND_POST_SEARCH:case m.GLOBAL_MY_BAND_COMMENT_SEARCH:case m.GLOBAL_PAGE_SEARCH:return void this.ui.inputSearch.val(decodeURIComponent(e.pathVariables.query))}this.ui.inputSearch.val("")},_showBandCoachMark:function(e){if(s.isLogedIn()&&p.getCurrentRouteInfo().routeInfo===m.GLOBAL_HOME){var n='<button type="button" class="btnLyClose _closeHelpGuide"> <span class="gSrOnly">'+IM("ui.label.close")+"</span></button>";if(location.search){var t=location.search.slice(1).split("&"),i={};if(t.map((function(e){e=e.split("="),i[e[0]]=decodeURIComponent(e[1]||"")})),i.service_notification){var a="agree"==i.service_notification?IM("main.service_noti.agree"):IM("main.service_noti.disagree"),o=C.format.date(new Date,"year_month_day");return this.ui.guideText[0].innerHTML=a+'<span class="dateAgreement">('+o+")</span> "+n,void this.ui.helpGuide.show()}}var l=_.getCurrentUserEnvStorage();"KR"!==C.getCountryCode()&&e>0&&l.get(y.key)!==y.value&&(this.ui.guideText[0].innerHTML=IM("set.email.then_receive_alarm")+n,this.ui.helpGuide.show(),l.set(y.key,y.value))}},_initIntervalBadgeCountRefresh:function(){this.refreshBadgeCountHandler&&clearInterval(this.refreshBadgeCountHandler);var e=10;this.refreshBadgeCountHandler=setInterval(n.bind((function(){e<0?clearInterval(this.refreshBadgeCountHandler):(u.getDGlobalChannel().trigger(u.EVENT.REFRESH_BADGE_REQUEST),e--)}),this),6e4)},_hideSingletonLayer:function(e){p.getCurrentRouteInfo().routeInfo.isImageViewerServiceRouteInfo()||($("#header .widget .-active").removeClass("-active").attr("aria-expanded","false"),this._closeHelpGuide(),u.getDGlobalChannel().trigger(u.EVENT.DGNB_CHAT_CLICKED))},_refreshGlobalProfileImage:function(e){var n=h.makeProfileThumbnailUrl(e);this.ui.globalFaceImage.attr("src",n),this.ui.profileInner.toggleClass("-gifProfileBg",d.isGif(n))},_renderFaviconImage:function(){var e=$("#favicon"),n=$("#favicon_apple");if(this.badgeCounts.hasAnyNewsCount())return e.attr("href","/icon/favicon_dot.ico"),void n.attr("href","/icon/favicon_dot_96x96.png");e.attr("href","/icon/favicon.ico"),n.attr("href","/icon/favicon_96x96.png")},_renderBadgeCounts:function(){var e=this.badgeCounts.getNewChatMessageCount(),n=this.badgeCounts.getNewsCount();this._setBadgeCount({count:e,countElement:this.getUI("unreadChatCount"),labelElement:this.getUI("unreadChatCountLabel"),labelElementText:IM("dgnb.chat.menu_label",{count:e})}),this._setBadgeCount({count:n,countElement:this.getUI("newsCount"),labelElement:this.getUI("newsCountLabel"),labelElementText:IM("dgnb.news.menu_label",{count:n})}),this._setBadgeCount({count:this.badgeCounts.getNewFeedCount(),countElement:this.getUI("feedCount")}),this._renderFaviconImage()},_setBadgeCount:function(e){e.count>0?(e.count>=999&&(e.count="999+"),e.countElement.text(e.count),e.countElement.show(),e.labelElement&&e.labelElement.text(e.labelElementText).attr("aria-hidden","false").show()):(e.countElement.hide(),e.labelElement&&e.labelElement.text(e.labelElementText).attr("aria-hidden","true").hide())},_closeHelpGuide:function(){this.ui.helpGuide.hide(),_.getCurrentUserEnvStorage().set(y.key,y.value)},_showSetting:function(e){e.preventDefault(),e.stopPropagation(),this._closeHelpGuide(),$(e.currentTarget).hasClass("-active")?(this._hideSingletonLayer(),this.getUI("settingRegion").attr("aria-expanded","false")):(this._showSingletonLayer({btnElement:this.ui.settingRegion}),this.getUI("settingRegion").attr("aria-expanded","true"),"MY"!==p.getCurrentRouteInfo().routeInfo.getDesktopLayout()?w.fetchMyPageCount():this._setBookmarkCount(w.getMyPageCount()))},_setBookmarkCount:function(e){e.bookmarkCount>0?this.ui.bookmarkCount.text(e.bookmarkCount).show():this.ui.bookmarkCount.text("").hide()},_toggleJoinQnAMenu:function(e){this.ui.myBandJoinQnACount.text(w.getJoinQnARoomCountText()),this.ui.joinQnAMenu.toggle(e.myApplicationCommentSetCount>0)},_showNews:function(e){e&&e.stopPropagation(),$(e.target).hasClass("-active")?this._hideSingletonLayer():this._showSingletonLayer({btnElement:this.ui.btnShowNews,regionName:"newsRegion",fnCreateView:c.build})},_showChannels:function(e){e.stopPropagation(),$(e.target).hasClass("-active")?this._hideSingletonLayer():this._showSingletonLayer({btnElement:this.ui.btnShowChannels,regionName:"chatRegion",fnCreateView:r.buildDChattingChannelListView})},_showSingletonLayer:function(e){if(this._hideSingletonLayer(),!e.btnElement.hasClass("-active")){if(e.regionName){var n=e.fnCreateView();this.showChildView(e.regionName,n)}e.btnElement.addClass("-active").attr("aria-expanded","true")}},_signUp:function(){l.goSignUpPage(location.href)},_login:function(){l.goLoginPage(location.href,!0)},_logout:function(){o.buildLogoutView()},_searchBand:function(e){var n=$.trim(this.ui.inputSearch.val());if(13===e.which||1===e.which){if(!n)return!1;var t=m.GLOBAL_SEARCH,i=p.getCurrentRouteInfo(),a={};return i.routeInfo.isGlobalSearchType()?(t=i.routeInfo,a=i.params):i.routeInfo===m.GLOBAL_RECOMMENDED_BAND_MISSION&&(t=m.GLOBAL_BAND_SEARCH,a[N.BAND_SEARCH_FILTER.PARAM_KEY]=N.BAND_SEARCH_FILTER.VALUES.MISSION_ONLY),t.goDForced({query:encodeURIComponent(n)},a),!1}this.ui.searchBox.addClass("-active")},_toggleBandSkinColor:function(){this.$el.toggleClass("sf_Bg",this._resolveBandSkinColorState())},_resolveBandSkinColorState:function(){var e=this._currentBandData;return!(!e||e.isBlockedBandWithLeader()||e.isBlockedBandWithMember()||e.getBandCore().getSkinColorClass()===M.PAGE_BAND)&&p.getCurrentRouteInfo().routeInfo.isDesktopBandLayout()}});return S.buildDGnbMenuView=function(e){return new S({bandData:e})},S}.call(n,t,n,e))||(e.exports=i)},2949:function(e,n){e.exports='<div class="topServiceGuideBanner _ieEndOfSupportGuideBanner" style="display:none;">\n    <div class="topServiceGuideBox">\n        <div class="topServiceGuideInfo">\n            <span class="text"><%= IM(\'ie_end_of_support_guide_banner.desc\') %></span>\n            <div class="btnLinkBox">\n                <% if (window.countryCode === \'KR\') { %>\n                <a href="https://whale.naver.com" target="_blank" class="btnLink"><img src="<%=window.resBaseUrl%>/images/etc_image/ico-whale.png" width="20" alt="" class="whaleImage"> <%= IM(\'whale_download\') %></a>\n                <% } else { %>\n                <a href="https://www.microsoft.com/windows/microsoft-edge" target="_blank" class="btnLink"><img src="<%=window.resBaseUrl%>/images/etc_image/ico-edge.png" width="20" alt="" class="edgeImage"> <%= IM(\'edge_download\') %></a>\n                <% } %>\n                <a href="https://www.google.com/chrome" target="_blank" class="btnLink"><img src="<%=window.resBaseUrl%>/images/etc_image/ico-chrome.png" width="20" alt="" class="chromeImage"> <%= IM(\'chrome_download\') %></a>\n            </div>\n        </div>\n        <div class="topServiceGuideClose">\n            <span class="text"><%= IM(\'ie_end_of_support_guide_banner.close_button_text\') %></span>\n            <button class="btnServiceGuideClose _btnCloseIEEndOfSupportGuideBanner"></button>\n        </div>\n    </div>\n</div>\n<div class="inner">\n    <h1><a href="<%- homeUrl %>" class="bandLogo"><span class="gSrOnly">BAND</span></a></h1>\n\n    <% if (discoverAccessible) { %>\n    <form action="">\n        <fieldset>\n            <div class="topInputSearch _searchBox">\n                <label class="gSrOnly"><%- IM(\'gnb.search_input_description\') %></label>\n                <input type="text" id="input_search_<%- cid %>" class="_gnbInputSearch" role="search" title="<%- IM(\'gnb.search_input_description\')%>" placeholder="<%- IM(\'gnb.search_input_description\')%>" autocomplete="off">\n\n                <button type="submit" class="btnSearch" id="btn_search"><span class="gSrOnly"><%- IM(\'ui.label.search\') %></span></button>\n            </div>\n        </fieldset>\n    </form>\n    <% } %>\n\n    <ul class="widget">\n    <% if (loginUserHeaderInfo) { %>\n        <li class="newFeedLink"><a href="<%- feedUrl %>"><%-IM("feed.title") %> <mark class="feedNewsCount _feedCount" style="display: none;">5</mark></a></li>\n        <% if (discoverUrl && searchQualificationByUnder18) { %>\n        <li class="bandFindLink"><a href="<%- discoverUrl %>"><%- IM(\'discover.title1\')%> </a></li>\n        <% } %>\n        <li class="push">\n            <button id="btnShowNews" type="button" aria-live="assertive" aria-haspopup="true" aria-controls="gnbNewsRegion" aria-expanded="false">\n                <span class="gSrOnly _newsCountLabel"></span>\n                <mark class="gNewCount _newsCount" aria-hidden="true" style="display: none;"></mark>\n            </button>\n            <div class="_newsRegion" id="gnbNewsRegion"></div>\n        </li>\n        <li class="chat">\n            <button id="btnShowChannels" type="button" aria-live="assertive" aria-haspopup="true" aria-controls="gnbChatRegion" aria-expanded="false">\n                <span class="gSrOnly _unreadChatCountLabel"></span>\n                <mark class="gNewCount _unreadChatCount" aria-hidden="true" style="display: none;"></mark>\n            </button>\n            <div class="_chatRegion" id="gnbChatRegion"></div>\n        </li>\n        <li class="setting">\n            <button type="button" class="user _settingRegion" aria-haspopup="true" aria-expanded="false" aria-controls="gnbProfileMenuPopup"> \x3c!--<%- loginUserHeaderInfo.link.myInfo %>--\x3e\n\n            <span class="uProfile -size30 -border">\n                <span class="profileInner _profileInner <%- profileInnerClass %>"><img src="<%- loginUserHeaderInfo.faceThumbnail %>" width="30" height="30" alt="<%- name %>" class="_globalFaceImage"></span>\n            </span>\n\n            \x3c!-- 추가할 사용자 정보 있음 --\x3e\n            <% if (!loginUserHeaderInfo.isValidUserData) { %>\n                <mark class="_updateProfile"><span class="gSrOnly"><%- IM("main.label.update_profile") %></span></mark>\n            <% } %>\n\n                <span class="bu"></span>\n                <span class="gSrOnly"><%- IM("dgnb.profile.menu.btn_label") %></span>\n            </button>\n            <dl class="uHelpGuide -right _helpGuide" style="display:none;">\n                <dt><span class="gSrOnly"><%= IM("web.profile.btn.help") %></span></dt>\n                <dd style="display: block;width:221px" class="_guideText">\n                </dd>\n            </dl>\n            <article class="cUserInfo" id="gnbProfileMenuPopup">\n                <div class="main">\n                    <ul>\n                        <li><a href="<%- profileUrl %>">\n                            <%- IM("dgnb.menu.label.my_page") %>\n                            <% if (!loginUserHeaderInfo.isValidUserData) { %>\n                            <span class="warning"><span class="gSrOnly"><%- IM("main.label.update_profile") %></span></span>\n                            <% } %>\n                        </a></li>\n                        <li>\n                            <a href="<%- myPostUrl %>"><%- IM("my_page.my_writing.title") %></a>\n                        </li>\n                        <li><a href="<%- bookmarkLink %>">\n                            <%- IM("my_page.my_bookmark.title") %><mark class="_bookmarkCount" style="display: none;"></mark>\n                        </a></li>\n                        <li class="_joinQnAMenu" style="display: none;">\n                            <a href="<%- myBandJoinQnAUrl %>" >\n                                <%- IM(\'bandjoin.join_question_and_answer\') %><mark class="_myBandJoinQnACount"></mark>\n                            </a>\n                        </li>\n\n                        <li>\n                            <div class="sub">\n                                <ul>\n                                    <li><a href="<%- findingInvitationUrl %>"><%- IM("more.menu.input_invitation_code") %></a></li>\n                                    <li><a href="<%- csNoticeUrl %>"><%- IM("ui.label.notice.title.plural") %></a></li>\n                                    <li><a href="<%- emailAlarmUrl %>"><%- IM("alarm.email.setting") %></a></li>\n                                    <li><a href="<%- settingUrl %>"><%- IM("web.more.menu.settings") %></a></li>\n                                </ul>\n                            </div>\n                        </li>\n                        <% if (canShowAboutMenu) { %>\n                        <li>\n                            <div class="sub gMat-10">\n                                <ul>\n                                    <li><a href="<%- aboutBandUrl %>" target="_blank"><%- IM("web.about.band.menu.aboutband") %></a></li>\n                                    <li><a href="<%- learningCenterUrl %>" target="_blank"><%- IM("web.about.band.menu.learningcenter") %></a></li>\n                                </ul>\n                            </div>\n                        </li>\n                        <% } %>\n                        <li><a href="#" class="_btnLogout"><%- IM("web.setting.home.txt.logout") %></a></li>\n                    </ul>\n                </div>\n            </article>\n        </li>\n    <% } else { %>\n        <li class="join"><button type="button" class="btnJoin _btnSignUp"><%- IM("main.message.sign_up") %></button></li>\n        <li class="login"><button type="button" class="btnLogin _btnLogin"><%- IM("main.message.login") %></button></li>\n    <% } %>\n    </ul>\n</div>\n'},2950:function(e,n,t){var i;void 0===(i=function(e){var n=t(4),i=t(0),a=t(2951),s=t(2952),o=t(2953),l=t(564),r=t(9),c=t(720),u=t(26),h=t(499),d=t(2073),g=t(1027),p=t(2965),m=t(2074),b=t(801),_=t(495),f=t(487),C=t(1043),w=t(1039),I=t(82);t(936);var v="btn_chat_option",M="btn_chat_list_option",E="btn_chat_open",L=n.View.extend({tagName:"li",className:"chat",template:h.template(a,h.Size.SMALL),templateContext:function(){if(!this._isLoading())return{channelImageUrl:this._getChannelImageUrl(),isPageBandChatChannel:this.model.isPageBandChatChannel(),isPrivate:this.model.isPrivateChannel(),displayJoinMemberCount:!this.model.isPrivateChannel()&&!this.model.isPageBandChatChannel()&&this.model.getUserCount()>0,displayBandName:!this.model.isDefaultChannel()&&!this.model.isPageBandChatChannel(),msg_hasLatestMessage:this.model.hasLatestMessage(),msg_relativeTime:function(e){return r.format.relative(e,"month_day")},displayMessage:this.model.getChatChannelDisplayMessage(),newMessageCount:this.model.getChatChannelDisplayNewMessageCount(),cid:this.cid,channelType:this._getChannelType(),isVideoCallOpen:this.model.isVideoCallOpen(),isVoiceCallOpen:this.model.isVoiceCallOpen()}},attributes:{"data-viewname":"DChattingChannelItemView"},ui:{btnOpenChat:"._btnOpenChat",btnShowOption:"._btnShowOption",lyMenu:"._lyMenu",channelImage:"._channelImage"},events:{"click @ui.btnOpenChat":"_openChattingRoom","click @ui.btnShowOption":function(){u.getDGlobalChannel().trigger(u.EVENT.DGNB_CHAT_CLICKED,M)}},behaviors:function(){if(!this._isLoading())return[{behaviorClass:p,channelId:this.options.model.getChannelId(),messageNo:this.options.model.getLatestMessageNo()},f]},initialize:function(){this.listenTo(u.getDGlobalChannel(),u.EVENT.DGNB_CHAT_CLICKED,i.bind((function(e){e==v&&(this.getUI("lyMenu").hide(),this.$el.removeClass("-active"))}),this))},onRender:function(){this._isLoading()||(this.model.get("loading")&&this.$el.addClass("loading"),this.model.getNewMessageCount()>0?this.$el.addClass("-unread"):this.$el.removeClass("-unread"),this.model.get("isPinned")?this.$el.addClass("-pinned"):this.$el.removeClass("-pinned"),this._channelImageUrlError=!1,this.ui.channelImage.on("error",i.bind((function(){this.ui.channelImage.off("error"),this._channelImageUrlError=!0,this.render()}),this)))},_getChannelType:function(){return this.model.isOpenChannel()?IM("public_chatroom"):null},_isLoading:function(){return!!this.options.model.get("loading")},_setRead:function(){var e=this.model.getNewMessageCount();this.model.initChatChannelNewMessageCount(),this.render(),u.getDGlobalChannel().trigger(u.EVENT.REFRESH_BADGE_REQUEST,{readChatCount:e})},_openChattingRoom:function(){var e=this.model.getBandNo(),n=this.model.getChannelId();return this.model.isPageBandChatChannel()?c.openPageBandChatChannel(e,n):this.model.isRecruitingBandChatChannel()?c.openRecruitingBandChattingRoom(e,n):c.open(e,n),this._setRead(),u.getDGlobalChannel().trigger(u.EVENT.DGNB_CHAT_CLICKED,E),this._sendChannelClickLog(),!1},_sendChannelClickLog:function(){this.jplClick(f.CLASSIFIER.CHAT_CHANNEL,{channel_type:C.getJplChannelType(this.model),member_count:this.model.getUserCount(),unread_count:this.model.getNewMessageCount()})},sendQuitJplLog:function(){this.jplOccur(f.CLASSIFIER.QUIT_CHATTING_ROOM_COMPLETE,{band_no:this.model.getChatChannelBandNo(),channel_type:C.getJplChannelType(this.model),is_recruiting:this.model.isRecruitingChannel()})},_getChannelImageUrl:function(){var e=this._channelImageUrlError?null:g.getChatChannelImageUrl(this.model);return e?I.make(e,I.TYPE.s75):null}}),N=n.CollectionView.extend({tagName:"ul",attributes:{"data-viewname":"DChattingChannelListView"},childView:L,behaviors:function(){return $.browser.msie||$.browser.msedge?{DIntervalLoadingCollectionBehavior:{}}:{}},initialize:function(){h.forCollectionView(this).addTrigger(this.collection,"fetchChattingChannels")},emptyView:function(){return n.View.extend({template:i.template(s)})}}),y=n.View.extend({behaviors:[{behaviorClass:_,sceneId:_.SCENE.MAIN_CHAT_CHANNELS},f],tagName:"article",className:"cRecentList chat",attributes:{"data-viewname":"DChattingChannelListLayout"},template:i.template(o),ui:{btnNewChat:"._btnNewChat",btnChatSetting:"._btnChatSetting",lyChatTypes:"._lyChatTypes",linkNewPrivateChat:"._linkNewPrivateChat",linkNewPublicChat:"._linkNewPublicChat",chattingChannelListRegion:"._chattingChannelListRegion"},regions:{chattingChannelListRegion:"@ui.chattingChannelListRegion"},events:{"click @ui.btnNewChat":"_onClickBtnNewChat","click @ui.linkNewPrivateChat":"_onClickLinkNewPrivateChat","click @ui.linkNewPublicChat":"_onClickLinkNewPublicChat","click @ui.btnChatSetting":"_onClickBtnChatSetting"},initialize:function(){this._refreshPromise=null,this.channelCollection=new l,this.channelListView=new N({collection:this.channelCollection}),this.listenTo(u.getDGlobalChannel(),u.EVENT.DGNB_CHAT_CLICKED,i.bind((function(e){e!=v&&this._lyChatTypesHide()}),this)),this.listenTo(u.getDGlobalChannel(),u.EVENT.CHAT_ROOM_LIST_UPDATED,i.bind((function(){this.refresh().then(i.bind((function(){this.channelListView.triggerMethod("resetChattingChannels")}),this))}),this))},_onClickBtnChatSetting:function(){m.openAsLayer(b.MESSAGE_SEND_KEY.VIEW_TYPE.GNB_CHAT_LIST)},_lyChatTypesHide:function(){this.getUI("lyChatTypes").hide()},onRender:function(){this.getRegion("chattingChannelListRegion").show(this.channelListView),this.ui.chattingChannelListRegion.on("scroll",i.bind(this._loadNext,this)),this.refresh().then(i.bind(this._loadNext,this))},onAttach:function(){this._sendSceneEnterLog()},refresh:function(){return this._refreshPromise||(this._refreshPromise=this.channelCollection.fetchChattingChannels().then(i.bind((function(e){u.getDGlobalChannel().trigger(u.EVENT.REFRESH_BADGE_REQUEST,{newMessageCount:e.newChatCount}),this._setChannelListClass(e)}),this)).always(i.bind((function(){i.defer(i.bind((function(){this._refreshPromise=null}),this))}),this))),this._refreshPromise},_setChannelListClass:function(e){this.getUI("chattingChannelListRegion").removeClass("-ovv"),e.length<4&&this.getUI("chattingChannelListRegion").addClass("-ovv")},_onClickBtnNewChat:function(){return this.getUI("lyChatTypes").toggle(),u.getDGlobalChannel().trigger(u.EVENT.DGNB_CHAT_CLICKED,v),!1},_onClickLinkNewPrivateChat:function(e){e.preventDefault();var n=[w.BAND_FILTER.INVITE_CHAT],t=w.BAND_LIST_DEFAULT_FIELDS;d.startNewChat(!0,n,t)},_onClickLinkNewPublicChat:function(e){e.preventDefault();var n=[w.BAND_FILTER.CREATE_OPEN_CHAT],t=w.BAND_LIST_DEFAULT_FIELDS;d.startNewChat(!1,n,t)},_loadNext:function(e){this.channelListView.triggerMethod("loadNext",e)},onBeforeDetach:function(){this.ui.chattingChannelListRegion.off("scroll")},_sendSceneEnterLog:function(){this.jplSceneEnter(f.CLASSIFIER.MAIN_CHAT_CHANNELS)}});return N.buildDChattingChannelListView=function(){return $.browser.msie||$.browser.msedge?new y:N.instance?(N.instance.refresh(),N.instance._sendSceneEnterLog(),N.instance):(N.instance=new y,N.instance)},N}.call(n,t,n,e))||(e.exports=i)},2951:function(e,n){e.exports='<a href="#" role="button" class="_btnOpenChat">\n    <span class="item -thum">\n        <% if (channelImageUrl) { %>\n        <img src="<%- channelImageUrl %>" width="40" height="40" alt="<%- channelName %>" class="_channelImage">\n        <% } else { %>\n        <span class="svgIcon <%- isPageBandChatChannel ? \'pageBandProfile40\' : isPrivate ? \'profile40\' : \'publicProfile40\' %>"><span class="gSrOnly"><%- channelName %></span></span>\n        <% } %>\n    </span>\n\n    <dl class="item -main">\n        <dt class="gSrOnly"><%- IM("channel_list.message.channel_name") %></dt>\n        <dd class="tit">\n            <strong>\n                <span><%-channelName%>&nbsp;</span>\n                <% if (displayJoinMemberCount) { %>\n                (<%= userCount %>)\n                <% } %>\n\n                <% if ( isVoiceCallOpen ) { %>\n                <span class="iconVoiceCall"><span class="gSrOnly"><%- IM(\'group_call.voice_call\') %></span></span>\n                <% } %>\n\n                <% if ( isVideoCallOpen ) { %>\n                <span class="iconVideoCall"><span class="gSrOnly"><%- IM(\'group_call.video_call\') %></span></span>\n                <% } %>\n            </strong>\n        </dd>\n\n        <% if (displayMessage) { %>\n        <dt class="gSrOnly"><%- IM(\'channel_list.message.lastest_message\') %></dt>\n        <dd class="body mLine2"><%- displayMessage %></dd>\n        <% } %>\n\n        <% if (displayBandName) { %>\n        <dt class="gSrOnly"><%- IM("channel_list.message.band_name") %></dt>\n        <dd class="origin"><span class="bandName"><%- bandInfo.bandName %></span>\n            <% if(channelType){ %>\n            <em class="channelType"><%-channelType%></em>\n            <% } %>\n        </dd>\n        <% } %>\n    </dl>\n\n    <span class="item -etc">\n        <% if (msg_hasLatestMessage) { %>\n        <time><%-msg_relativeTime(updatedAt)%></time>\n        <% } %>\n\n        <% if(newMessageCount != 0) { %>\n        <span class="count"><%-newMessageCount%></span>\n        <% } %>\n    </span>\n</a>\n\n<div class="option">\n    <button type="button" class="btnShowOption _btnShowOption" aria-haspopup="true" aria-expanded="false" aria-controls="gnb_chatList_<%-cid%>"><span class="gSrOnly"><%- IM(\'web.chatroom.topbar.btn.more\') %></span></button>\n\n    <div id="gnb_chatList_<%-cid%>" class="lyMenu _lyMenu" style="min-width:145px;">\n        <ul>\n            <% if (!!newMessageCount) { %>\n            <li><a href="#" role="button" class="_btnRead"><%- IM(\'web.chatroom.commonmessage.message.read\') %></a></li>\n            <% } %>\n            <% if (isPinned) { %>\n            <li><a href="#" role="button" class="_btnUnpin"><%- IM(\'list.order.unpin_on_top\') %></a></li>\n            <% } else { %>\n            <li><a href="#" role="button" class="_btnPin"><%- IM(\'list.order.pin_on_top\') %></a></li>\n            <% } %>\n            <li><a href="#" role="button" class="_btnQuit"><%- IM(\'ui.label.quit\') %></a></li>\n        </ul>\n    </div>\n</div>'},2952:function(e,n){e.exports='<p class="uEmpty">\n    <span>\n        <strong><%- IM("channel_list.message.no_channel") %></strong>\n        <em><%= IM("channel_list.message.try_chatting") %></em>\n    </span>\n</p>'},2953:function(e,n){e.exports='<header>\n    <h1><%- IM("web.chatting.title") %></h1>\n    <div class="moreOptionWrap">\n        <button type="button" class="setting _btnChatSetting"><span class="gSrOnly"><%- IM(\'bandsetting.band_chatting.title\') %></span></button>\n        <button type="button" class="_btnNewChat newChat">\n            <span class="gSrOnly"><%- IM(\'web.chatting.btn.new_chatting\') %></span>\n        </button>\n        <div class="lyMenu _lyChatTypes" style="min-width:145px;display:none;">\n            <ul>\n                <li><a href="#" class="_linkNewPrivateChat"><%- IM(\'chat.create_private_chat_room\') %></a></li>\n                <li><a href="#" class="_linkNewPublicChat"><%- IM(\'chat.create_public_chat_room\') %></a></li>\n            </ul>\n        </div>\n    </div>\n</header>\n<div class="main _chattingChannelListRegion">\n\n</div>'},2954:function(e,n,t){var i,a;i=[t(2),t(0),t(4),t(2955),t(600),t(82),t(564),t(179),t(507),t(486),t(1002),t(540)],void 0===(a=function(e,n,t,i,a,s,o,l,r,c,u,h){var d=t.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DOpenChatCreationModalView"},template:n.template(i),templateContext:function(){return{viewId:this.cid}},ui:{profile:"._profile",img:"._img",inputName:"._inputName",textareaDescription:"._textareaDescription",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel"},events:{"input @ui.inputName":"_onChangeInputName","propertychange @ui.inputName":"_onChangeInputName","input @ui.textareaDescription":"_onChangeTextareaDescription","propertychange @ui.textareaDescription":"_onChangeTextareaDescription","click @ui.btnConfirm":"_onClickBtnConfirm","click @ui.btnCancel":"_onClickCancel"},initialize:function(e){this.bandNo=e.bandNo,this.profileImageUrl="",this.waiting=!1},onAttach:function(){this._isValid(),this.ui.img.attr("src",l.MULTI_PROFILE_DEFAULT_R3.make()),this._initUploader()},onBeforeDetach:function(){this._destroyUploader()},_onClickCancel:function(){return this.destroy(),!1},_onClickBtnConfirm:function(){if(this._isValid()&&!this.waiting){this.waiting=!0;var e=this.bandNo,t=this.ui.inputName.val().trim(),i=this.ui.textareaDescription.val().trim(),a=this.profileImageUrl;o.Commands.createOpenChatChannel(e,t,i,a).then(n.bind((function(e){this.destroy(),this.trigger("modal:confirm",n.extend({channelName:t},e))}),this),n.bind((function(){this.waiting=!1}),this))}return!1},_onChangeInputName:function(){this._correctValue(this.ui.inputName,50),this._isValid()},_onChangeTextareaDescription:function(){this._correctValue(this.ui.textareaDescription,100),this._isValid()},_correctValue:function(e,n){var t=e.val().trim(),i=t.length;0==i?e.val(""):i>n&&(e.val(t.substring(0,n)),alert(IM("web.photodetail.comment.message.over_max_message",{count:n})))},_isValid:function(){var e=this._isValidLength(this.ui.inputName,1,50)&&this._isValidLength(this.ui.textareaDescription,0,100);return this.ui.btnConfirm.prop("disabled",!e).toggleClass("-disabled",!e),e},_isValidLength:function(e,n,t){var i=e.val().trim().length;return i>=n&&i<=t},_initUploader:function(){this.profileUploader=a.createSinglePhotoUploader(this.ui.profile,{multiple:!1,autoUpload:!1,showProgress:!0,title:IM("chat.edit_channel.title.upload_profile_image")}),this.listenTo(this.profileUploader,r.SELECT_FILES,(function(e){this.profileUploader.loadFileReaderResize(e.files[0]).then(n.bind((function(e){var t={title:IM("chat.edit_channel.title.upload_profile_image"),cropOptions:{}},i=u.build(e,t);this.listenTo(i,"crop:complete",(function(e){i.destroy(),h.uploadDataUriImage(e).then(n.bind((function(e){if(n.isEmpty(e))return!1;this._setCoverImage(e)}),this))})),this.listenTo(i,"crop:cancel",(function(){i.destroy()}),this)}),this))}))},_setCoverImage:function(e){e.url&&(this.profileImageUrl=e.url,this.ui.profile.removeClass("gIcon icon-member2"),this.ui.img.attr("src",s.makeProfileBigThumbnailUrl(this.profileImageUrl)))},_destroyUploader:function(){this.profileUploader&&(this.stopListening(this.profileUploader),this.profileUploader.destroy(),this.profileUploader=null)}});return d.openAsLayer=function(e){var n=new d(e);return c.open(n),n},d}.apply(n,i))||(e.exports=a)},2955:function(e,n){e.exports='<div class="lyContent -w400">\n    <header class="header">\n        <h1 class="title"><%- IM(\'chat.create_public_chat_room\') %></h1>\n    </header>\n    <div class="main -tSpaceNone">\n        <div class="chooseProfilePicture -tSpace40">\n            <div class="profileWrap _profile _iOSMin100vh">\n                <div role="profile" class="uProfile -chat -size140 -border">\n                    <span class="profileInner"><img class="_img" src="" alt="" width="140" height="140" ></span>\n                </div>\n                <label class="photoSubmit">\n                    <span class="gSrOnly"><%= IM(\'ui.label.upload_photo\') %></span>\n                    <input type="file" class="imageUpload">\n                </label>\n            </div>\n        </div>\n\n        <label for="chatName_<%- viewId %>" class="title -sub2 gMab3"><%- IM(\'chat.edit_channel.label.channel_name\') %></label>\n        <div class="uInput">\n            <input type="text" id="chatName_<%- viewId %>" placeholder="<%- IM(\'chat.give_this_chatroom_a_name\') %>" class="_inputName">\n            <span class="border"></span>\n        </div>\n\n        <label for="chatDesc_<%- viewId %>" class="title -sub2 gMat20 gMab3"><%- IM(\'chat.edit_channel.label.channel_description\') %></label>\n        <div class="uTextarea" style="height:70px">\n            <textarea id="chatDesc_<%- viewId %>" class="_textareaDescription" cols="30" rows="10" placeholder="<%- IM(\'chat.tell_members_what_this_charoom_is_about\') %>"></textarea>\n            <span class="border"></span>\n        </div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -confirm -sizeL _btnConfirm" disabled><%- IM(\'ui.label.complete\') %></button>\n        <button type="button" class="uButton -iconClose btnLyClose _btnCancel"><span class="gSrOnly"><%- IM(\'ui.label.close_layer\') %></span></button>\n    </footer>\n</div>'},2956:function(e,n,t){var i;void 0===(i=function(e){var n=t(4),i=t(0),a=t(2957),s=t(2958),o=t(2962),l=t(486),r=n.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandGroupCallMemberSelectView"},template:i.template(a),ui:{memberSelectTab:"._memberSelectTab",channelListTab:"._channelListTab",memberSelectTabOnOff:"._memberSelectTabOnOff",channelListTabOnOff:"._channelListTabOnOff",GroupCallSelectListRegion:"._GroupCallSelectListRegion"},events:{"click @ui.memberSelectTab":"_showRegionMemberSelect","click @ui.channelListTab":"_showRegionChannelList"},regions:{groupCallSelectListRegion:{el:"@ui.GroupCallSelectListRegion",replaceElement:!0}},initialize:function(e){this._bandData=e.bandData,this._bandNo=this._bandData.getBandCore().bandNo,this._filter=e.filter,this._options=e.options},onAttach:function(){this._showRegionMemberSelect()},_showRegionMemberSelect:function(){var e=s.buildTabPage(this._bandNo,this._filter,this._options);this.showChildView("groupCallSelectListRegion",e),this.listenTo(e,"member:selected",i.bind((function(e){this.trigger("member:selected",e)}),this)),this.listenTo(e,"layer:close",i.bind((function(){this.destroy()}),this)),this.getUI("memberSelectTabOnOff").addClass("-on"),this.getUI("channelListTabOnOff").removeClass("-on")},_showRegionChannelList:function(){var e=o.buildTabPage(this._bandData);this.showChildView("groupCallSelectListRegion",e),this.listenTo(e,"channel:selected",i.bind((function(e){this.trigger("channel:selected",e)}),this)),this.listenTo(e,"layer:close",i.bind((function(){this.destroy()}),this)),this.getUI("channelListTabOnOff").addClass("-on"),this.getUI("memberSelectTabOnOff").removeClass("-on")}});return r.openLayer=function(e,n,t){var i=new r({bandData:e,filter:n,options:t});return l.open(i),i},r}.call(n,t,n,e))||(e.exports=i)},2957:function(e,n){e.exports='<div class="lyContent -w380">\n    <header class="modalHeader">\n        <h1 class="title"><%- IM("web.bandmemberselection.title") %></h1>\n    </header>\n    <div class="modalTemporaryWrap">\n        <div class="tab columnFixed">\n            <span class="cell sf_color -on _memberSelectTabOnOff"><button type="button" class="_memberSelectTab"><%- IM("web.bandmember.title") %></button></span>\n            <span class="cell sf_color _channelListTabOnOff"><button type="button" class="_channelListTab"><%- IM("web.chatting.title") %></button></span>\n        </div>\n\n        <div class="_GroupCallSelectListRegion"></div>\n    </div>\n</div>'},2958:function(e,n,t){var i;void 0===(i=function(e){var n=t(4),i=t(0),a=t(160),s=t(2959),o=t(2960),l=t(527),r=t(499),c=t(82),u=t(589),h=t(1034),d=t(13),g=t(2961),p={MEMBER_SELECTED:"member:selected"},m=n.View.extend({attributes:{"data-viewname":"DMemberSelectItemView"},tagName:"li",className:"tLine",template:r.template(s),ui:{btnProfileImage:"._btnProfileImage",chkMember:"._chkMember"},events:{"change @ui.chkMember":"_toggleSelected"},triggers:{"click @ui.btnProfileImage":"clickProfile"},modelEvents:{change:"render"},serializeData:function(){var e=c.makeProfileThumbnailUrl(this.model.getProfileImageUrl());return i.extend(this.model.toJSON(),{profileThumbnail:e,profileInnerClass:c.makeProfileInnerClass(e)})},_toggleSelected:function(){this.trigger("toggleSelected",{userNo:this.model.get("userNo"),isChecked:this.getUI("chkMember").is(":checked")})}}),b=n.CompositeView.extend({className:"modalTabContentBox",attributes:{"data-viewname":"DBandGroupCallMemberSelectMemberListView"},template:i.template(g),ui:{memberListContainer:"._memberListContainer",memberListEmptyContainer:"._memberListEmptyContainer",txtQuery:"._txtQuery",btnSearch:"._btnSearch",btnClose:"._btnClose",btnInvite:"._btnInvite",memberListContainerWrapper:"._memberListContainerWrapper",btnHasMoreMember:"._btnHasMoreMember",btnMemberDelete:"._btnMemberDelete",selectedMembersWrap:"._selectedMembersWrap",selectedMembers:"._selectedMembers",btnMemberGroupSelect:"._btnMemberGroupSelect",btnGroupMemberSelect:"._btnGroupMemberSelect"},templateContext:function(){return this.textValues=i.extend({title:IM("web.bandmemberselection.title"),cancel:IM("ui.label.cancel"),description:"",select:IM("web.invitemember.btn.action"),searchMessage:IM("member_list.label.group_band.has_more_member")},this.getOption("textOptions")),i.extend(this.textValues,{cid:this.cid})},events:{"input @ui.txtQuery":"_setActiveOnInput","click @ui.btnSearch":"_search","click @ui.btnClose":"_layerClose","click @ui.btnInvite":"_inviteSelected","click @ui.btnHasMoreMember":"_setFocusToSearch","click @ui.btnMemberDelete":"_memberUncheck","click @ui.btnMemberGroupSelect":"_openMemberGroupSelectView"},initialize:function(e){var n=e.viewFilter;i.isFunction(n)&&this.setFilter(n),this._filter=e.filter,r.forCollectionView(this).addTrigger(this.collection,"fetchBandMemberWithFilterDataCollection").addTrigger(this.collection,"searchBandMemberWithFilterDataCollection"),this._fetchBandMemberCollection(),this.listenTo(this.collection.selectedMembers,"update",(function(){this._setSelectMemberCount(),this._renderSelectedMembers()}))},childView:m,childViewOptions:function(){return{filter:this.options.filter}},collectionEvents:{reset:function(){this._toggleHasMoreMember()}},childViewEvents:{clickProfile:function(e){this.options.onClickProfile(this.collection.bandNo,e.model.get("userNo"))},toggleSelected:function(e){this.collection.setSelectedMember(e.userNo,e.isChecked)}},getChildViewContainer:function(){return this.collection.length>0?(this.ui.memberListContainer.show(),this.ui.memberListContainerWrapper.show(),this.ui.memberListContainer):(this.ui.memberListContainer.hide(),this.ui.memberListContainerWrapper.hide(),this.ui.memberListEmptyContainer.show(),this.ui.memberListEmptyContainer)},emptyView:function(){var e=IM("member_list.label.nobody_available");return n.View.extend({tagName:"span",template:i.template(e)})},_layerClose:function(){this.trigger("layer:close"),this.destroy()},_showMemberGroupSelection:function(){if(this.collection.hasMemberGroup())switch(this._filter){case a.INVITE_MEMBER:case a.INVITE_CHAT:return this.getUI("btnGroupMemberSelect").show(),!0}this.getUI("btnGroupMemberSelect").hide()},_fetchBandMemberCollection:function(){this.collection.fetchBandMemberWithFilterDataCollection().then(i.bind((function(){this._showMemberGroupSelection()}),this))},_memberUncheck:function(e){var n=$(e.currentTarget).attr("data-user");this.collection.setSelectedMember(n,!1)},_setFocusToSearch:function(){return this.ui.txtQuery.focus(),!1},_setActiveOnInput:function(){var e=this.ui.txtQuery.val().length>0;this.ui.btnSearch.toggleClass("-disabled",!e).toggleClass("-active",e),e||this._resetSearchResult()},_resetSearchResult:function(){this._isSearchResult&&(this._isSearchResult=!1,this.ui.txtQuery.val(""),this.ui.btnSearch.addClass("-disabled"),this.ui.btnSearch.removeClass("-active"),this._fetchBandMemberCollection())},_search:function(){var e=this.ui.txtQuery.val();return!!e&&(this._isSearchResult=!0,this.collection.searchBandMemberWithFilterDataCollection(e),!1)},_inviteSelected:function(){var e=this._getSelectedMembers();if(0==e.length)return!1;this.trigger(p.MEMBER_SELECTED,{bandNo:this.getOption("bandNo"),selectedMembers:e})},_getSelectedMembers:function(){return this.collection.selectedMembers.where({selected:!0})},_setSelectMemberCount:function(){var e=this._getSelectedMembers();0==e.length?(this.ui.btnInvite.addClass("-disabled").removeClass("-active"),this.ui.btnInvite.text(this.textValues.select)):(this.ui.btnInvite.text(this.textValues.select+"("+e.length+")"),this.ui.btnInvite.removeClass("-disabled").addClass("-active"))},_toggleHasMoreMember:function(){this.collection.hasMoreMember()?this.ui.btnHasMoreMember.show():this.ui.btnHasMoreMember.hide()},_renderSelectedMembers:function(){var e=this._getSelectedMembers(),n=[],t=i.template(o);e.length>0&&i.each(e,(function(e){var i=c.makeProfileThumbnailUrl(e.get("profileImageUrl"));n.push(t({name:e.get("name"),profileThumbnail:i,profileInnerClass:c.makeProfileInnerClass(i),userNo:e.get("userNo")}))})),n.length?(this.ui.selectedMembersWrap.show(),this.getUI("selectedMembers").empty().append(n.join("")).show()):(this.ui.selectedMembersWrap.hide(),this.ui.memberListContainerWrapper.removeClass("-only -multi"));e.length>0&&e.length<7?this.ui.memberListContainerWrapper.addClass("-only"):e.length>6&&this.ui.memberListContainerWrapper.addClass("-multi")},_openMemberGroupSelectView:function(){var e=h.buildMemberGroupSelectView(this.getOption("bandNo"));this.listenTo(e,"memberGroupView:selectedMemberGroups",(function(e){var n=i.filter(e,(function(e){return!d.isMe(e.userNo)}),this);this.collection.setSelectedMemberGroupsMember(n)}))}});return b.buildTabPage=function(e,n,t){var a=i.extend({onClickProfile:function(e,n){u.openProfileView(e,n)}},t||{});return a.viewFilter=a.filter,a.collection=l.buildBandMemberWithFilterDataCollection(e,n,100,a.param1),a.bandNo=e,a.filter=n,new b(a)},b.EVENT=p,b}.call(n,t,n,e))||(e.exports=i)},2959:function(e,n){e.exports='<label class="flexList">\n    <span class="thumb">\n        <a href="#" role="button" class="uProfile -size40 _btnProfileImage">\n            <span class="profileInner <%- profileInnerClass %>">\n                <img src="<%- profileThumbnail %>" alt="<%- name %>">\n            </span>\n        </a>\n    </span>\n    <span class="text">\n        <span class="ellipsis"><%- name %></span>\n        <% if (!!desc) { %>\n        <span class="sub2 -ellipsis"><%- desc %></span>\n        <% } %>\n    </span>\n    <span class="etc">\n        <span class="uCheck -checkbox">\n            <input type="checkbox" class="checkInput _chkMember" value="<%- userNo %>" <% if (selected) { %> checked="checked" <% } %>>\n            <span class="checkLabel">\n                <span class="shape"></span>\n            </span>\n        </span>\n    </span>\n</label>'},2960:function(e,n){e.exports='<li>\n\t<span class="uProfile -size40">\n\t\t<span class="profileInner <%- profileInnerClass %>">\n\t\t\t<img src="<%-profileThumbnail%>" alt="<%- name %>">\n\t\t</span>\n\t</span>\n    <span class="text"><%- name %></span>\n    <button type="button" class="delete _btnMemberDelete" data-user="<%= userNo %>"><span class="gSrOnly"><%= IM(\'ui.label.del\') %></span></button>\n</li>'},2961:function(e,n){e.exports='<div class="modalBody -spaceNone -heightFlexWrap" style="height: 433px">\n    <form class="searchWrap columnFixed" autocomplete="off">\n        <label for="searchMember_<%- cid %>" class="searchIcon"><span class="gSrOnly"><%- IM("band_member_select.label.name") %></span></label>\n        <span class="inputWrap">\n            <input type="text" id="searchMember_<%- cid %>" class="inputSearch _txtQuery" placeholder="<%- IM(\'band_member_select.label.name\') %>">\n        </span>\n        <button type="submit" class="btnSearch uButton -sizeS -default -disabled _btnSearch"><%- IM("ui.label.search") %></button>\n    </form>\n\n    <div class="selectedMembersWrap columnFixed _selectedMembersWrap">\n        <ul class="selectedMembers _selectedMembers"></ul>\n    </div>\n\n    <div class="btnGroupMemberSelect gMat-1 _btnGroupMemberSelect" style="display:none">\n        <a href="#" role="button" class="button _btnMemberGroupSelect"><%- IM(\'band.member.group.select_member_groups\') %></a>\n    </div>\n\n    <%if(!!description){%>\n    <div class="msgWrap -tLine gPab15 gMat-1">\n        <div class="pText -smallFont -lightGray2 -lineHH"><%- description %></div>\n    </div>\n    <% } %>\n\n    <div class="modalContentWrap rScroll -lrSpace -tLine gMat-1 columnFlexible _memberListContainerWrapper">\n        <ul class="listLine _memberListContainer">\n        </ul>\n        <button class="flexList -wFull listLine -tLine _btnHasMoreMember" style="display:none;">\n            <span class="thumb -searchIcon"></span>\n            <span class="text gTaL">\n                <span class="gFs13 gColorBk2"><%- searchMessage %></span>\n            </span>\n        </button>\n    </div>\n    <div class="_memberListEmptyContainer uEmpty columnFlexible" style="display:none;"></div>\n</div>\n\n<footer class="modalFooter -tLine">\n    <button type="button" class="uButton -cancel _btnClose"><%- cancel %></button>\n    <button type="button" class="uButton -confirm -disabled _btnInvite"><%- select %></button>\n</footer>'},2962:function(e,n,t){var i;void 0===(i=function(e){var n=t(4),i=t(0),a=t(2963),s=t(2964),o=t(564),l=t(1743),r=t(499),c=t(154),u=t(82),h=t(9),d=t(1178),g=n.View.extend({attributes:{"data-viewname":"DBandGroupCallChatChannelSelectView"},template:i.template(a),ui:{channels:"._channels",btnClose:"._btnClose",btnInvite:"._btnInvite",scrollWrap:"._scrollWrap"},events:{"click @ui.btnClose":"_layerClose","click @ui.btnInvite":"_inviteSelected","update @ui.scrollWrap":"_renderNextChannels"},regions:{channels:{el:"@ui.channels",replaceElement:!0}},behaviors:[{behaviorClass:d}],initialize:function(e){this._bandData=e.bandData,this._bandNo=this._bandData.getBandCore().bandNo,this._collection=o.build(),this._selectedChatChannelId=null},onAttach:function(){this._fetchChannels()},onDomRefresh:function(){this._renderChannels()},onBeforeRender:function(){this.isAttached()&&this._destroyScroll()},_initScroll:function(){var e=this._channelListView.collection.size();0==e?this.ui.scrollWrap.css("display","none"):this.ui.scrollWrap.css("display","").toggleClass("heightAuto",e<6),this.triggerMethod("customScroll:init")},_destroyScroll:function(){this.triggerMethod("customScroll:destroy")},_renderChannels:function(){this._channelListView=new m({collection:this._collection,bandData:this._bandData}),this.showChildView("channels",this._channelListView),this.listenTo(this._channelListView,"selectedChannelId",i.bind((function(e){this.getUI("btnInvite").removeClass("-disabled").addClass("-active"),this._selectedChatChannelId=e}),this)),this._initScroll()},_layerClose:function(){this.trigger("layer:close"),this.destroy()},_inviteSelected:function(){if(null==this._selectedChatChannelId)return!1;this.trigger("channel:selected",{bandNo:this._bandNo,selectedChatChannelId:this._selectedChatChannelId})},_fetchChannels:function(){return c.wrapActivePromise(this._collection.fetchBandChattingChannels(this._bandNo),this).then(i.bind((function(){var e=this._channelListView.isReadyToLoadingForChattingChannelCollection(),n=this._channelListView.getChattingChannelCollectionRenderedCount();(e||0==n)&&this._renderNextChannels()}),this))},_renderNextChannels:function(e,n){this._channelListView.triggerMethod("loadNext",e,n),this._initScroll()}}),p=n.View.extend({tagName:"li",className:"tLine",template:r.template(s),ui:{checkInput:"._checkInput"},events:{"change @ui.checkInput":"_toggleSelected"},initialize:function(e){this._bandData=e.bandData},templateContext:function(){return{name:this.model.getChannelName(),displayMessage:this.model.getChatChannelDisplayMessage(),collageCount:this.model.getUserCount()>=4?4:this.model.getUserCount(),participants:this.model.getParticipants(),participantUserProfile:i.map(this.model.getParticipants(),(function(e){var n=u.makeProfileThumbnailUrl(e.profileImageUrl);return{profileImageUrl:n,profileInnerClass:u.makeProfileInnerClass(n),profileImageName:e.name}})),displayJoinMemberCount:!this.model.isPrivateChannel()&&this.model.getUserCount()>0,bandName:this.model.get("bandInfo").bandName,msg_relativeTime:function(e){return h.format.relative(e,"month_day")},isPrivate:this.model.isPrivateChannel(),channelType:this._getChannelType(),msg_hasLatestMessage:this.model.hasLatestMessage(),isVideoCallOpen:this.model.isVideoCallOpen(),isVoiceCallOpen:this.model.isVoiceCallOpen()}},_toggleSelected:function(){this.trigger("selectedChannel",this.model.getChatChannelId())},_getChannelType:function(){return this.model.isOpenChannel()?IM("public_chatroom"):null}}),m=n.CollectionView.extend({tagName:"ul",className:"listLine",childView:p,childViewOptions:function(){return{bandData:this._bandData}},childViewEvents:{selectedChannel:function(e){this.trigger("selectedChannelId",e)}},behaviors:[{behaviorClass:l}],initialize:function(e){this._bandData=e.bandData},isReadyToLoadingForChattingChannelCollection:function(){return this.collection.findWhere({loading:!0})},getChattingChannelCollectionRenderedCount:function(){return this.collection.size()}});return g.buildTabPage=function(e){return new g({bandData:e})},g}.call(n,t,n,e))||(e.exports=i)},2963:function(e,n){e.exports='<div class="modalBody -spaceNone -heightFlexWrap nano _scrollWrap" style="height: 433px">\n    <div class="modalContentWrap rScroll -lrSpace gMat-1 nano-content">\n        <div class="_channels"></div>\n    </div>\n</div>\n\n<footer class="modalFooter -tLine">\n    <button type="button" class="uButton -cancel _btnClose"><%- IM("ui.label.cancel") %></button>\n    <button type="button" class="uButton -confirm -disabled _btnInvite"><%- IM("web.modal.btn.confirm") %></button>\n</footer>'},2964:function(e,n){e.exports='<label class="flexList">\n    <div class="thumb">\n        <div class="uProfileCollage" data-collage="<%- collageCount %>">\n            <% for ( var participantUserIndex = 0; participantUserIndex < collageCount; participantUserIndex++ ) { %>\n            <div class="uProfileImage -border">\n                <span class="profileInner <% if(!_.isEmpty(participants)) { %><%- participantUserProfile[participantUserIndex].profileInnerClass %><% } %>">\n                    <% if(!_.isEmpty(participants) && participantUserProfile[participantUserIndex].profileImageUrl ){ %>\n                    <img src="<%- participantUserProfile[participantUserIndex].profileImageUrl %>" class="profileImg" alt="<%- participantUserProfile[participantUserIndex].profileImageName %>">\n                    <% } %>\n                </span>\n            </div>\n            <% } %>\n        </div>\n    </div>\n    <div class="listTextOfChatting">\n        <div class="mainTextBox">\n            <span class="mainText">\n                <%- name %>\n                <% if(channelType){ %>\n                <em class="channelType"><%-channelType%></em>\n                <% } %>\n            </span>\n            <span class="numberText">\n                <% if (displayJoinMemberCount) { %>\n                (<%= userCount %>)\n                <% } %>\n\n                <% if ( isVoiceCallOpen ) { %>\n                <span class="iconVoiceCall"><span class="gSrOnly"><%- IM(\'group_call.voice_call\') %></span></span>\n                <% } %>\n\n                <% if ( isVideoCallOpen ) { %>\n                <span class="iconVideoCall"><span class="gSrOnly"><%- IM(\'group_call.video_call\') %></span></span>\n                <% } %>\n            </span>\n            <% if (msg_hasLatestMessage) { %>\n            <span class="timeText"><%-msg_relativeTime(updatedAt)%></span>\n            <% } %>\n        </div>\n        <% if (displayMessage) { %>\n        <div class="subText"><%- displayMessage %></div>\n        <% } %>\n        <div class="subText2"><%- bandName %></div>\n    </div>\n    <span class="etc">\n        <span class="uCheck -checkbox -noLabel">\n            <input type="radio" id="uCheck" name="uCheck" class="checkInput _checkInput">\n            <span class="checkLabel">\n                <span class="shape"></span>\n            </span>\n        </span>\n    </span>\n</label>'},2965:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(4),a=t(26),s=(t(9),t(486),t(491),t(519)),o=t(1744),l="-active",r=".-active";return i.Behavior.extend({ui:{btnShowOption:"._btnShowOption",lyMenu:"._lyMenu",btnRead:"._btnRead",btnPin:"._btnPin",btnUnpin:"._btnUnpin",btnQuit:"._btnQuit",btnOpenChat:"._btnOpenChat"},events:{"click @ui.btnShowOption":"_showOption","click @ui.btnRead":"_onClickBtnRead","click @ui.btnPin":"_onClickBtnPin","click @ui.btnUnpin":"_onClickBtnUnpin","click @ui.btnQuit":"_onClickBtnQuit","focus @ui.btnOpenChat":"_onFocusBtnOpenChat","click @ui.btnOpenChat":"_hideOption"},initialize:function(){this._channelId=this.options.channelId,this._messageNo=this.options.messageNo,this.listenTo(a.getDGlobalChannel(),a.EVENT.DOCUMENT_ESC_KEY_DOWN,this._onEscKeyHideOption)},_hideOption:function(){var e=this.view.$el.closest("ul"),n=this.getUI("lyMenu").selector,t=this.getUI("btnShowOption").selector;e.find(n).hide(),e.find(r).removeClass(l),e.find(t).attr("aria-expanded","false")},_showOption:function(){var e=this.getUI("lyMenu").is(":visible");return this._hideOption(),e||(this.getUI("lyMenu").show(),this.getUI("btnShowOption").attr("aria-expanded","true"),this.view.$el.addClass(l),this.adjustLayerOffset()),!1},adjustLayerOffset:function(){var e=this.$el.closest("._chattingChannelListRegion");this.getUI("lyMenu").removeClass("-top"),elScrollContainerBottom=e.offset().top+e.height(),lyMenuBottom=this.getUI("lyMenu").offset().top+this.getUI("lyMenu").height(),elScrollContainerBottom<lyMenuBottom&&this.getUI("lyMenu").addClass("-top")},_onEscKeyHideOption:function(e){$.contains(this.view.$el[0],e.target)&&"true"==this.getUI("btnShowOption").attr("aria-expanded")&&(this._hideOption(),this.view.$el.addClass(l),this.getUI("btnShowOption").focus())},_onFocusBtnOpenChat:function(){this._hideOption(),this.view.$el.addClass(l)},_onClickBtnRead:function(){return s.ChannelList.setReadedMessage({channelId:this._channelId,messageNo:this._messageNo}).then(n.bind((function(){this._changedChatStatus()}),this)),!1},_onClickBtnPin:function(){return s.ChannelList.setPinChatChannel({channelId:this._channelId}).then(n.bind((function(){this._changedChatStatus()}),this)),!1},_onClickBtnUnpin:function(){return s.ChannelList.setUnpinChatChannel({channelId:this._channelId}).then(n.bind((function(){this._changedChatStatus()}),this)),!1},_onClickBtnQuit:function(){o.openAsLayer({hideDesc:!0}).once({"modal:confirm":n.bind((function(){s.quitChannel(this._channelId).then(n.bind((function(){n.isFunction(this.view.sendQuitJplLog)&&this.view.sendQuitJplLog(),this._changedChatStatus()}),this))}),this),"modal:cancel":n.bind((function(){this._hideOption()}),this)})},_changedChatStatus:function(){a.getDGlobalChannel().trigger(a.EVENT.CHAT_ROOM_LIST_UPDATED),a.getDGlobalChannel().trigger(a.EVENT.REFRESH_BADGE_REQUEST)}})}.call(n,t,n,e))||(e.exports=i)},2966:function(e,n){e.exports='<div class="lyContent -w340">\n    <header class="header">\n        <h1 class="title"><%- title %></h1>\n    </header>\n    <div class="main -tSpaceNone">\n        <div class="flexList -tbSpace13">\n            <div class="text">\n                <label for="chatEnterSubmit" class="text gFs14"><strong class="fw600"><%- IM(\'bandsetting.keyboard_setting.chat.submit\') %></strong></label>\n            </div>\n            <div class="etc">\n                <div class="uCheck -switch">\n                    <input type="checkbox" id="chatEnterSubmit" class="checkInput _checkInput" data-key="<%- ApiKeyChat %>" <% if(isChatKeyEnter){ %>checked<% } %>>\n                    <span class="checkLabel">\n                        <span class="shape"></span>\n                        <span class="text"></span>\n                    </span>\n                </div>\n            </div>\n        </div>\n\n        <% if (isSettingHome) { %>\n        <div class="flexList -tbSpace6">\n            <div class="text">\n                <label for="commentEnterSubmit" class="text gFs14"><strong class="fw600"><%- IM(\'bandsetting.keyboard_setting.comment.submit\') %></strong></label>\n            </div>\n            <div class="etc">\n                <div class="uCheck -switch">\n                    <input type="checkbox" id="commentEnterSubmit" class="checkInput _checkInput" data-key="<%- ApiKeyComment %>" <% if(isCommentKeyEnter){ %>checked<% } %>>\n                    <span class="checkLabel">\n                        <span class="shape"></span>\n                        <span class="text"></span>\n                    </span>\n                </div>\n            </div>\n        </div>\n        <% } %>\n\n        <p class="sDesc <% if (isSettingHome) { %>gMat14<% } else { %> gMat-5<% } %>"><%= IM(\'bandsetting.keyboard_setting.chat.desc\', {key: keyName}) %></p>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel _btnCancel"><%- IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _btnConfirm"><%- IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},2967:function(e,n,t){var i;void 0===(i=function(e){var n=t(2),i=t(0),a=t(4),s=t(2968),o=t(2969),l=t(2970),r=t(1678),c=t(26),u=t(2971),h=t(1743),d=t(499),g=t(1103),p=t(1078),m=t(84),b=t(795),_=t(495),f=t(487),C=t(159),w=(t(506),t(17)),I=t(611),v=t(1054),M=t(153),E=t(443),L=t(1125),N=a.View.extend({tagName:"li",attributes:{"data-viewname":"DNewsItemView"},template:d.template(o,d.Size.SMALL),templateContext:function(){this.model.get("type");var e=this.model.has("headerName"),n={use:!1,name:null,useMark:!1,text:null,commentCount:null};return n.use=!!e,n.name=this.model.get("headerName"),n.useMark=this.model.get("isViewerReferred"),n.text=this.model.get("headerType"),n.commentCount=this.model.get("commentCount"),{header:n,body:{mainBody:this.model.get("mainBody"),mainBodyLabel:this.model.get("bodyHeadLabel"),subBody:this.model.get("subBody")}}},behaviors:[f],ui:{newsItemLink:"._newsItemLink",symbolImg:"._symbolImg"},events:{"click @ui.newsItemLink":function(e){this._sendJplClickLog();var n=this.model.get("endPageUrl");return e.preventDefault(),this.model.set("read",!0),this.$el.removeClass("-unread"),this._sendAdClickLog(),this._isFeedAd&&this._bandCore?b.goToBandByClick(this._bandCore.bandNo,this.model.get("postNo")):this._goToLandingPage(n),!1},intersect:function(e,n){n.isIntersecting&&!this.model.get("exposed")&&(this.model.set("exposed",!0),this._sendJplExposureLog(),this._sendAdExposureLog())}},initialize:function(e){this._bandCore=this.model.getNewsModelBandCore(),this._isFeedAd="feed_ad"==this.model.get("type"),this._newsListItemIndex=e.newsListItemIndex,this._itemExposureObserver=e.itemExposureObserver},onRender:function(){this.$el.toggleClass("-unread",!this.model.get("read"))},onAttach:function(){this._itemExposureObserver&&this._itemExposureObserver.observe(this.el)},onDomRefresh:function(){this.getUI("symbolImg").on("error",i.bind((function(){this.getUI("symbolImg").off().attr("src",this.model.get("symbolErrorImgUrl"))}),this))},onBeforeDetach:function(){this._itemExposureObserver&&this._itemExposureObserver.unobserve(this.el)},onDestroy:function(){this.off("intersect")},_sendJplClickLog:function(){var e=!!this._bandCore&&this._bandCore.bandNo,n=i.extend({news_type:this.model.get("type"),global_card_offset:this._newsListItemIndex},JSON.parse(this.model.get("contentLineage")||"{}"));this.jplClick(f.CLASSIFIER.NEWS_ITEM,n,e)},_sendJplExposureLog:function(){var e=i.extend({news_type:this.model.get("type"),global_card_offset:this._newsListItemIndex},JSON.parse(this.model.get("contentLineage")||"{}"));this.jplExposure(f.CLASSIFIER.NEWS_ITEM,e)},_sendAdClickLog:function(){var e=this.model.get("ad_report_data");if(e){var n=this.model.get("type");"feed_ad"!=n&&"notice_post"!=n||p.adClickReport(e)}},_sendAdExposureLog:function(){var e=this.model.get("ad_report_data");if(e){var n=this.model.get("type");"feed_ad"!=n&&"notice_post"!=n||p.adExposeReport(e)}},_goToLandingPage:function(e){if(e)if(I.isMediaViewerOpenUrl(e))g.openSingleImageViewerByUrl(this,e);else if(v.isLiveDetailUrl(e))v.openOnAirLiveViewerLayerByUrl(e);else if(M.GROUP_BAND_APPLICANT_JOIN_QNA.isMatched(e))E.openJoinQnAAppByUrl(e);else if(M.GROUP_BAND_MEMBER_GROUPS_GROUP.isMatched(e)){var n=m.extractPageRouteData(M.GROUP_BAND_MEMBER_GROUPS_GROUP,e).pathVariables;L.buildAsyncLayerView(n.band_no,n.group_id)}else m.go(w.changeProtocolAndDomainIfBandUs(e));else alert(IM("web.post.subpost.alert.not_supported_in_web"))}}),y=a.CollectionView.extend({tagName:"ul",className:"news_list",attributes:{"data-viewname":"DNewsListView"},childView:N,childViewOptions:function(e,n){return{newsListItemIndex:n,itemExposureObserver:this._itemExposureObserver}},initialize:function(){d.forCollectionView(this).addTrigger(this.collection,"fetchNews"),this.listenTo(c.getDGlobalChannel(),c.EVENT.OPEN_NEWS_PHOTO,this._openNewsPhotoImageView),this._itemExposureObserver=new IntersectionObserver((function(e){i.each(e,(function(e){n(e.target).trigger("intersect",e)}))}),{threshold:[1]})},behaviors:function(){var e=[];return(n.browser.msie||n.browser.msedge)&&e.push(h),e},emptyView:function(){return a.View.extend({template:i.template(l)})},loadNext:function(e){this.triggerMethod("loadNext",e)},resetFromOrignalCollection:function(){this.triggerMethod("resetFromOrignalCollection")},_openNewsPhotoImageView:function(e){g.openSingleImageViewer(this,e.bandNo,e.photoNo,e.initCommentId,null,!0,!0)}}),S=a.View.extend({tagName:"article",className:"cRecentList news",attributes:{"data-viewname":"DNewsListLayoutView"},template:i.template(s),behaviors:[C,{behaviorClass:_,sceneId:_.SCENE.MAIN_NEWS},f],ui:{newsRegion:"._newsRegion",btnGoSetting:"._btnGoSetting",btnNewsOptions:"._btnNewsOptions",btnAllRead:"._btnAllRead",lyMenu:"._lyMenu"},regions:{newsRegion:"@ui.newsRegion"},events:{"click @ui.btnGoSetting":"_onClickBtnGoSetting","click @ui.btnNewsOptions":"_onClickBtnNewsOptions","click @ui.btnAllRead":"_onClickBtnAllRead"},initialize:function(){this.newsCollection=new r,this.newsListView=new y({collection:this.newsCollection})},onRender:function(){this.showChildView("newsRegion",this.newsListView),this.getUI("newsRegion").on("scroll",i.bind((function(e){this.newsListView.loadNext(e)}),this)),this.refresh().then(i.bind((function(){this.newsListView.loadNext()}),this))},onBeforeDetach:function(){this.getUI("newsRegion").off("scroll")},refresh:function(){return this.jplSceneEnter(f.CLASSIFIER.NEWS),this.newsCollection.fetchNews().then((function(){c.getDGlobalChannel().trigger(c.EVENT.REFRESH_BADGE_REQUEST)}))},closeMoreLyMenu:function(){this.getUI("lyMenu").hide(),this.getUI("btnNewsOptions").removeClass("-active")},_onClickBtnGoSetting:function(e){e.preventDefault(),u.buildAsLayer()},_onClickBtnNewsOptions:function(e){return this.getUI("lyMenu").toggle(),this.getUI("btnNewsOptions").toggleClass("-active",this.getUI("lyMenu").is(":visible")),!1},_onClickBtnAllRead:function(){return this.closeMoreLyMenu(),this.newsCollection.markNewsAsRead().then(i.bind((function(){this.refresh().then(i.bind((function(){this.newsListView.resetFromOrignalCollection()}),this))}),this)),!1}});return y.build=function(){return n.browser.msie||n.browser.msedge?new S:!y.instance||y.instance.isDestroyed()?(y.instance=new S,y.instance):(y.instance.refresh(),y.instance.closeMoreLyMenu(),y.instance)},y}.call(n,t,n,e))||(e.exports=i)},2968:function(e,n){e.exports='<header>\n    <h1><%- IM("news.message.news_header") %></h1>\n    <div class="moreOptionWrap">\n        <button type="button" class="btnNewsOptions _btnNewsOptions"><span class="gSrOnly"><%- IM(\'gnb.news.btnMore\') %></span></button>\n        <div class="lyMenu _lyMenu" style="min-width:158px;display:none;">\n            <ul>\n                <li><a href="#" role="button" class="_btnAllRead"><%- IM(\'gnb.news.allRead\') %></a></li>\n                <li><a href="#" role="button" class="_btnGoSetting"><%- IM(\'setting.notification.title\') %></a></li>\n            </ul>\n        </div>\n    </div>\n</header>\n\n<div class="main _newsRegion"></div>'},2969:function(e,n){e.exports='<a href="#" class="_newsItemLink">\n    <span class="item -thum">\n        <img src="<%- symbolImgUrl %>" width="40" height="40" class="_symbolImg" alt="">\n    </span>\n\n    <dl class="item -main">\n        <% if (header.use) { %>\n        <dt class="gSrOnly"><%- IM("news.message.news_header") %></dt>\n        <dd class="tit">\n            <strong>\n                <% if(header.name) { %>\n                <span><%-header.name%>&nbsp;</span>\n                <% } %>\n                <em>\n                    <% if (header.useMark) { %>\n                    <mark>@</mark>\n                    <% } %>\n\n                    <%-header.text%>\n\n                    <% if(header.commentCount) { %>\n                    <span class="comment"><%- header.commentCount %></span>\n                    <% } %>\n\n                    <% if (!header.useMark && !header.text && !header.commentCount) { %>\n                    &nbsp;\n                    <% } %>\n                </em>\n            </strong>\n        </dd>\n        <% } %>\n\n        <%\n        // \x3c!-- [D] 멀티라인 말줄임시 mLine 클래스 추가 --\x3e\n        var contentClass = "";\n        if (hideHeader && !subBody) {\n        contentClass = "mLine3";\n        } else if (!subBody) {\n        contentClass = "mLine2";\n        }\n        %>\n        <dt class="gSrOnly"><%- IM("news.message.contents_summary") %></dt>\n        <dd class="body <%- contentClass %>">\n            <% if(body.mainBodyLabel) { %><strong>[<%-body.mainBodyLabel%>]</strong><% } %><%-body.mainBody%>\n        </dd>\n\n        <% if (body.subBody) { %>\n        <dt class="gSrOnly"><%- IM(\'news.message.comment\') %></dt>\n        <dd class="comment"><%- body.subBody %></dd>\n        <% } %>\n\n        <% if (!hideFooter) { %>\n        <dt class="gSrOnly"><%- IM("news.message.comment.wirte_info") %></dt>\n        <dd class="origin">\n            <% if (!!bandName) { %>\n            <span class="<%= !!regTime ? \'dot\' : \'\' %>">\n                <% if (footerHeadLabel) { %>\n                <em class="<%= footerHeadStyle === \'live\' ? \'gMarkLive -w26\' : \'newItemLabel\' %>"><%= footerHeadLabel %></em>\n                <% } %>\n                <%- bandName %>\n            </span>\n            <% } %>\n            <%= regTime || \'\'  %>\n        </dd>\n        <% } %>\n    </dl>\n\n    <% if(additionalImgUrl) { %>\n    <span class="item -pic">\n        <span class="<%if(additionalImgType == \'video\'){%>video<%}%>"><img src="<%-additionalImgUrl%>" width="40" height="40">\n            <% if (additionalImgCount > 1) { %>\n            <em><%-additionalImgCount%></em>\n            <% } %>\n        </span>\n    </span>\n    <% } %>\n</a>'},2970:function(e,n){e.exports='<p class="uEmpty">\n    <span>\n        <strong><%- IM("web.news.message.empty_news") %></strong>\n        <em><%= IM("web.news.message.about_news") %></em>\n    </span>\n</p>'},2971:function(e,n,t){var i;void 0===(i=function(e){var n=t(0),i=t(4),a=t(499),s=t(498),o=t(541),l=t(486),r=t(1746),c=t(2075),u=t(2973),h=i.View.extend({attributes:{"data-viewname":"DBandNotificationListView"},getTemplate:function(){return this.dataFetched?n.template(u):n.template(s)},templateContext:function(){var e=this.newsOption;return{msg_newsOptionsName:function(n){return e[n]}}},events:{"click ._panelBandNotification":"_moveNotificationSetting","click ._btnConfirm":"destroy"},initialize:function(){this.dataFetched=!1,this.newsOption={},this.bandList=[]},serializeData:function(){return this.dataFetched?{dataFetched:!0,bandList:this.bandList}:{dataFetched:!1,_loading_size:a.Size.MEDIUM}},onAttach:function(){this._fetchNewsConfigs()},_fetchNewsConfigs:function(){o.getBandNewsConfigs().then(n.bind((function(e){this.dataFetched=!0,this.bandList=e.bands,n.each(e.comment_news_options,n.bind((function(e){this.newsOption[e.key]=e.short_name}),this)),this.render()}),this))},_moveNotificationSetting:function(e){e.preventDefault();var t=$(e.currentTarget).data("bandno");return(new r).fetchBandNotificationOptionData(t).then(n.bind((function(e){var n={bandNo:t,selectedNewsOption:e.get("selected_comment_news_option"),newsOptions:e.get("selectable_comment_news_options")},i=c.buildAsLayer(n);this.listenTo(i,"bandSetting:refreshData",this._fetchNewsConfigs)}),this))}});return h.buildAsLayer=function(){l.open(new h)},h}.call(n,t,n,e))||(e.exports=i)},2972:function(e,n){e.exports='<section class="lyWrap">\n    <div class="lyContent">\n        <% // 새소식 알림 설정 %>\n        <header class="modalHeader">\n            <h1 class="title"><%= IM("bandsetting.notification.title") %></h1>\n        </header>\n        <div class="modalBody">\n            <div class="modalContent gPat16 gPal20 gPar20">\n                <ul class="selectArea">\n                    <% _.each(newsOptions, function(notificationLevel, index) { %>\n                    <li class="selectItem">\n                        <label for="option<%= index %>" class="uCheck -radio ">\n                            <input type="radio" id="option<%= index %>" name="radio" class="checkInput _newsNotificationLevel" title="<%- notificationLevel.short_name %>" value="<%- notificationLevel.key %>" data-index="<%= index %>">\n                            <span class="checkLabel">\n                            <span class="shape"></span>\n                            <span class="text"><%- notificationLevel.long_name %></span>\n                        </span>\n                        </label>\n                    </li>\n                    <% }); %>\n                </ul>\n            </div>\n        </div>\n\n        <footer class="modalFooter">\n            <button type="button" class="uButton -cancel _btnClose"><%= IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -confirm _btnConfirm"><%= IM("ui.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},2973:function(e,n){e.exports='<section class="lyWrap">\n    <div class="lyContent -w380">\n        <% // 밴드별 새소식 알림 설정 %>\n        <header class="header">\n            <h1 class="title"><%= IM("setting.notification.title") %></h1>\n        </header>\n        <div class="main -tSpaceNone -mH360">\n            <p class="sDesc -bLine"><%= IM("bandsetting.notification.txt.info") %></p>\n            <ul class="listLine">\n            <% _.each(bandList, function(item) { %>\n                <li class="tLine _panelBandNotification" data-bandno="<%- item.band_no %>">\n                    <label class="flexList">\n                        <span class="text">\n\t\t\t\t\t\t\t<span class="ellipsis"><%- item.name %></span>\n\t\t\t\t\t\t\t<span class="sub"><%= IM("bandsetting.notification.txt.news") %> <em class="point"><%- msg_newsOptionsName(item.selected_comment_news_option) %></em></span>\n\t\t\t\t\t\t</span>\n                        <span class="etc -arrow"></span>\n                    </label>\n                </li>\n            <% }); %>\n            </ul>\n        </div>\n        <footer class="footer -tLine">\n            <button type="button" class="uButton -confirm _btnConfirm"><%= IM("ui.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},2974:function(e,n){e.exports='<h1 class="gSrOnly">Operating Policies and Terms</h1>\n\n<div class="wrap">\n    <nav class="copy">\n        <% _.each(outerLink, function(linkInfo) { %>\n        <a href="<%- linkInfo.href %>" target="_blank"><%= makeDesc(linkInfo) %></a>\n        <% }) %>\n    </nav>\n\n    <address><strong>BAND</strong> &copy; <%= copyrightYear() %></address>\n</div>'},2975:function(e,n,t){e.exports={GLOBAL_HOME:function(){return Promise.all([t.e(7),t.e(4),t.e(13),t.e(9),t.e(110)]).then(t.t.bind(null,3105,7))},GROUP_BAND:function(){return Promise.all([t.e(4),t.e(13),t.e(9),t.e(11),t.e(104)]).then(t.t.bind(null,3340,7))},GLOBAL_FEED:function(){return Promise.all([t.e(4),t.e(11),t.e(119)]).then(t.t.bind(null,3576,7))},GLOBAL_MY:function(){return Promise.all([t.e(4),t.e(11),t.e(123)]).then(t.t.bind(null,3660,7))},PAGE_BAND:function(){return Promise.all([t.e(13),t.e(9),t.e(11),t.e(22),t.e(114)]).then(t.t.bind(null,3748,7))},RECRUITING_BAND:function(){return Promise.all([t.e(9),t.e(22),t.e(127)]).then(t.t.bind(null,3800,7))}}},905:function(e,n,t){var i;void 0===(i=function(){var e={CREATE_BTN_CLASS:"_createBtn",BA_EXTRA_TAB_ALL:"all",BA_EXTRA_TAB_POST:"posts",BA_EXTRA_TAB_JOINED_BAND:"joined_bands",BA_EXTRA_FILTER_BAND:"bands",BA_EXTRA_FILTER_PAGE:"pages",BA_EXTRA_FILTER_MISSION_BAND:"mission_bands",BA_EXTRA_FILTER_LOCAL_BAND:"local_bands",BAND_SEARCH_FILTER:{PARAM_KEY:"bandSearchFilter",VALUES:{MISSION_ONLY:"mission_only",LOCAL_ONLY:"local_only"}}};return e}.call(n,t,n,e))||(e.exports=i)}}]);