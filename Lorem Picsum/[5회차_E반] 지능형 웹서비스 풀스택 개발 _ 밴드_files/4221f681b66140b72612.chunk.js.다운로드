/*! For license information please see 4221f681b66140b72612.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{1006:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(52),s=n(599),o=n(22),r=n(517),l=n(1158),c=n(1202),d=n(1203),u=n(549),h=n(1028),p=n(852),_=n(1204),m=n(1159),g=n(43),b=n(490);function f(e,t){switch(e){case s.ITEM_TYPE.POST:return["feedItem",e,t.bandNo,t.postNo].join("_");case s.ITEM_TYPE.PHOTO:return["feedItem",e,t.bandNo,t.photoNo].join("_");case s.ITEM_TYPE.PHOTOS:return["feedItem",e,t.bandNo,t.firstPhotoNo].join("_");case s.ITEM_TYPE.BOOKMARK:return["feedItem",e,t.bandNo,t.postNo].join("_");case s.ITEM_TYPE.SCHEDULE:return["feedItem",e,t.bandNo,t.scheduleId].join("_");case s.ITEM_TYPE.SCHEDULES:return["feedItem",e,t.firstScheduleBandNo,t.firstScheduleStartAt].join("_");case s.ITEM_TYPE.BANDS:var n=t.bandNos.join("-");return["feedItem",e,t.bandsFeedCardType,n].join("_");case s.ITEM_TYPE.LIVE:return["feedItem",e,t.bandNo,t.liveId].join("_");case s.ITEM_TYPE.FILES:return["feedItem",e,t.bandNo,t.folderId].join("_");case s.ITEM_TYPE.MISSIONS:return["feedItem",e,t.bandNos.join("-")].join("_")}}var v=i.Model.extend({parse:function(e){(e=a.camelizeKeys(e)).type=a.camelize(e.type);var t=this._makeKeysForModelId(e.type,e[e.type]),n={id:f(e.type,t),type:e.type,contentLineage:e.contentLineage,isRecommendedFeed:e.isRecommendedFeed,recommendationReason:e.recommendationReason,extra:e.extra,createdAt:e.createdAt,feedListType:e.feedListType};return e.feedback&&(n.feedbackType=e.feedback.type),e.type==s.ITEM_TYPE.POST&&(n.feedbackMessage=this._makePostFeedbackMessage(e.post,e.feedback),n.feedbackComment=!!e.feedback&&e.feedback.feedbackComment),e.type==s.ITEM_TYPE.PHOTO&&(n.feedbackMessage=this._makePhotoFeedbackMessage(e.photo,e.feedback),n.feedbackComment=!!e.feedback&&e.feedback.feedbackComment),e.type==s.ITEM_TYPE.SCHEDULE&&(n.feedbackMessage=this._makeScheduleFeedbackMessage(e.schedule,e.feedback),n.feedbackComment=!!e.feedback&&e.feedback.feedbackComment),n[e.type]=this._makeItemModel(e.type,e[e.type]),n},getType:function(){return this.get("type")},getFeedbackType:function(){return this.get("feedbackType")},isRecommendedFeed:function(){return this.get("isRecommendedFeed")},getRecommendationReason:function(){return this.get("recommendationReason")},getFeedbackMessage:function(){return this.get("feedbackMessage")},getFeedbackComment:function(){return this.get("feedbackComment")},getItemModel:function(){return this.get(this.getType())},getExtra:function(){return this.get("extra")},getFeedListType:function(){return this.get("feedListType")},toJSON:function(){return b.toRecursiveJSON(this)},_makeKeysForModelId:function(e,n){switch(e){case s.ITEM_TYPE.POST:return{bandNo:n.band.bandNo,postNo:n.postNo};case s.ITEM_TYPE.PHOTO:return{bandNo:n.band.bandNo,photoNo:n.photoNo};case s.ITEM_TYPE.PHOTOS:var i=n.photoNos[0];return{bandNo:n.band.bandNo,firstPhotoNo:i};case s.ITEM_TYPE.BOOKMARK:return{bandNo:n.band.bandNo,postNo:n.postNo};case s.ITEM_TYPE.SCHEDULE:return{bandNo:n.band.bandNo,scheduleId:n.scheduleId};case s.ITEM_TYPE.SCHEDULES:var a=n[0];return{firstScheduleBandNo:a.band.bandNo,firstScheduleStartAt:g.tz(a.startAt,a.scheduleTimeZoneId).valueOf()};case s.ITEM_TYPE.BANDS:return{bandsFeedCardType:n.bandsFeedCardType,bandNos:t.pluck(n.bandList,"bandNo")};case s.ITEM_TYPE.LIVE:return{bandNo:n.band.bandNo,liveId:n.liveId};case s.ITEM_TYPE.FILES:return{bandNo:n.band.bandNo,folderId:t.isEmpty(n.folder)?0:n.folder.folderId};case s.ITEM_TYPE.MISSIONS:return{bandNos:t.pluck(n.missionList,"bandNo")}}},_makeItemModel:function(e,t){switch(e){case s.ITEM_TYPE.POST:return new r(t,{parse:!0});case s.ITEM_TYPE.RECOMMENDED_POSTS:return new i.Collection(t,{model:r,parse:!0});case s.ITEM_TYPE.PHOTO:return new d(t,{parse:!0});case s.ITEM_TYPE.PHOTOS:return new l(t,{parse:!0});case s.ITEM_TYPE.BOOKMARK:return t.featuredComment=null,new r(t,{parse:!0});case s.ITEM_TYPE.SCHEDULE:return new u(t,{parse:!0});case s.ITEM_TYPE.SCHEDULES:return new c(t,{parse:!0});case s.ITEM_TYPE.BANDS:return new h(t,{parse:!0});case s.ITEM_TYPE.LIVE:return p.buildFeedLiveModel(t);case s.ITEM_TYPE.FILES:return new _(t,{parse:!0});case s.ITEM_TYPE.MISSIONS:return new m(t,{parse:!0})}},_makePostFeedbackMessage:function(e,n){if(!n)return null;var i;switch(n.type){case s.FEEDBACK_TYPE.REFERRED_COMMENT:case s.FEEDBACK_TYPE.REFERRED_COMMENT_COMMENT:if(null!=(i=this._makeMemberGroupReferredMessage(n.type,n.feedbackComment.author.name,n.referredMemberGroups,"feed.card.feedback.",null)))break;case s.FEEDBACK_TYPE.MY_COMMENTED_POST:case s.FEEDBACK_TYPE.MY_COMMENT_COMMENTED_POST:case s.FEEDBACK_TYPE.MY_COMMENTED_COMMENT:case s.FEEDBACK_TYPE.COMMENT_FOR_POST_OF_MY_COMMENT:i=IM("feed.card.feedback."+n.type,{feedbackerName:t.escape(n.feedbackComment.author.name)});break;case s.FEEDBACK_TYPE.MY_EMOTED_POST:i=IM("feed.card.feedback.my_emoted_post."+n.feedbackEmotion.type,{feedbackerName:t.escape(n.feedbackEmotion.actor.name)});break;case s.FEEDBACK_TYPE.REFERRED_POST:if(null!=(i=this._makeMemberGroupReferredMessage(n.type,e.author.name,n.referredMemberGroups,"feed.card.feedback.",null)))break;i=IM("feed.card.feedback.referred_post",{feedbackerName:t.escape(e.author.name)});break;case s.FEEDBACK_TYPE.COMMENT_FOR_MEMORY:var a=Math.round(g().diff(g(e.createdAt),"years",!0))||1;i=IM("feed.card.feedback.comment_for_memory_2",{year:a});break;case s.FEEDBACK_TYPE.MISSED_POPULAR_POST:i=e.band&&e.band.type==o.BAND_TYPE.PAGE?IM("feed.card.feedback.missed_popular_page_post"):IM("feed.card.feedback.missed_popular_post");break;case s.FEEDBACK_TYPE.POST_CHOSEN_BY_FRIEND:i=this._makeFeedbackMessageForPostChosenByFriend(n)}return i},_makeMemberGroupReferredMessage:function(e,n,i,a,s){var o=t.last(i);if(null==o)return null;var r=t.escape(n),l=t.escape(o.name);return IM(a+e+".member_group",{feedbackerName:r,memberGroupName:l,mediaTypeText:s})},_makeFeedbackMessageForPostChosenByFriend:function(e){if(!e||e.type!=s.FEEDBACK_TYPE.POST_CHOSEN_BY_FRIEND)return null;if(!e.feedbackComment&&!e.feedbackEmotion)return null;var n,i,a=e.feedbackEmotionCount+e.feedbackCommentCount-1;return e.feedbackComment&&!e.feedbackEmotion?(i=t.escape(e.feedbackComment.author.name),n=a>0?e.feedbackEmotionCount>=1?IM("feed.card.feedback.post_chosen_by_friend.comment_and_emotion",{feedbackerName:i,feedbackCount:a}):IM("feed.card.feedback.post_chosen_by_friend.comment_multi",{feedbackerName:i,feedbackCount:a}):IM("feed.card.feedback.post_chosen_by_friend.comment_single",{feedbackerName:i})):!e.feedbackComment&&e.feedbackEmotion&&(i=t.escape(e.feedbackEmotion.actor.name),n=a>0?e.feedbackCommentCount>=1?IM("feed.card.feedback.post_chosen_by_friend.comment_and_emotion",{feedbackerName:i,feedbackCount:a}):IM("feed.card.feedback.post_chosen_by_friend.emotion_multi",{feedbackerName:i,feedbackCount:a}):IM("feed.card.feedback.post_chosen_by_friend.emotion_single",{feedbackerName:i})),n},_makePhotoFeedbackMessage:function(e,n){if(!n)return null;var i,a=this._getMediaTypeText(e);switch(n.type){case s.FEEDBACK_TYPE.REFERRED_COMMENT:case s.FEEDBACK_TYPE.REFERRED_COMMENT_COMMENT:if(null!=(i=this._makeMemberGroupReferredMessage(n.type,n.feedbackComment.author.name,n.referredMemberGroups,"feed.card.photo.feedback.",a)))break;case s.FEEDBACK_TYPE.MY_COMMENTED_POST:case s.FEEDBACK_TYPE.COMMENT_FOR_POST_OF_MY_COMMENT:case s.FEEDBACK_TYPE.MY_COMMENT_COMMENTED_POST:case s.FEEDBACK_TYPE.MY_COMMENTED_COMMENT:i=IM("feed.card.photo.feedback."+n.type,{feedbackerName:t.escape(n.feedbackComment.author.name),mediaTypeText:a});break;case s.FEEDBACK_TYPE.MY_EMOTED_POST:i=IM("feed.card.photo.feedback."+n.type+n.feedbackEmotion.type,{feedbackerName:t.escape(n.feedbackEmotion.actor.name),mediaTypeText:a})}return i},_getMediaTypeText:function(e){return e?e.video?e.video.isGif?"GIF":IM("video"):IM("photo"):null},_makeScheduleFeedbackMessage:function(e,n){if(!n)return null;var i;switch(n.type){case s.FEEDBACK_TYPE.REFERRED_COMMENT:case s.FEEDBACK_TYPE.REFERRED_COMMENT_COMMENT:if(null!=(i=this._makeMemberGroupReferredMessage(n.type,n.feedbackComment.author.name,n.referredMemberGroups,"feed.card.schedule.feedback.",null)))break;case s.FEEDBACK_TYPE.MY_COMMENTED_POST:case s.FEEDBACK_TYPE.COMMENT_FOR_POST_OF_MY_COMMENT:case s.FEEDBACK_TYPE.MY_COMMENT_COMMENTED_POST:case s.FEEDBACK_TYPE.MY_COMMENTED_COMMENT:i=IM("feed.card.schedule.feedback."+n.type,{feedbackerName:t.escape(n.feedbackComment.author.name)});break;case s.FEEDBACK_TYPE.RSVP_SCHEDULE_CREATION:i=IM("feed.card.schedule.feedback."+n.type,{feedbackerName:t.escape(e.owner.name)})}return i}});return v.makeModelId=f,v}.call(t,n,t,e))||(e.exports=i)},1007:function(e,t,n){var i=n(2),a=n(0),s=n(52),o=n(6),r=n(1083),l=n(627),c="LIST",d="SEARCH",u="QUOTA",h=o.Collection.extend({model:r,modelId:function(e){return e.fileId||e.file_id},initialize:function(e,t){this._fetching=!1,this._total=0},enableFileListCheckable:function(){this._toggleCheckable(!0)},disableFileListCheckable:function(){this._toggleCheckable(!1)},_toggleCheckable:function(e){this.invoke("trigger","file:checkable",e),this.trigger("file-list:checkable",e)},clearFileListChecked:function(){this.invoke("trigger","file:checked",!1),this.trigger("file-list:checked")},removeFileList:function(e){var t=this.length;this.remove(e);var n=t-this.length;this._total&&(this._total=Math.max(this._total-n,this.length)),this.trigger("file-list:removed",n)},getCheckedFileCount:function(){return this.getCheckedFiles().length},getCheckedFiles:function(){return this.filter((function(e){return e.isCheckedFile()}))},isFetchingFiles:function(){return this._fetching},hasMoreFiles:function(){return!a.isEmpty(this._params)},getTotalFileCount:function(){return this._total},fetchFiles:function(e){return this._fetchFiles(c,e)},fetchMoreFiles:function(){this._fetching||a.isEmpty(this._params)||this._fetchFiles(c)},searchFiles:function(e){return this._fetchFiles(d,e)},searchMoreFiles:function(){this._fetching||a.isEmpty(this._params)||this._fetchFiles(d)},fetchFilesForQuota:function(e){return this._fetchFiles(u,e)},fetchMoreFilesForQuota:function(){if(!this._fetching&&!a.isEmpty(this._params))return this._fetchFiles(u)},_fetchFiles:function(e,t){return this._fetching=!0,t&&(this._params=s.decamelizeKeys(t),this.reset(),this._total=0),a.isEmpty(this._params)?(this._fetching=!1,i.when()):this._fetchFilesBy(e).then(a.bind((function(e){var t=e.paging||{};this.add(e.items,{parse:!0}),this._params=t.next_params,this._total=e.total||0}),this)).always(a.bind((function(){this._fetching=!1,this.trigger("fetched")}),this))},_fetchFilesBy:function(e){switch(e){case c:return l.getFiles(this._params);case d:return l.searchFiles(this._params);case u:return l.getFilesForQuota(this._params);default:return null}}});h.FILTER={ALL:"all",FOLDER:"folder",UNASSIGNED:"unassigned"},h.ORDER_BY={CREATED_AT_DESC:"created_at_desc",CREATED_AT_ASC:"created_at_asc"},h.QUOTA_ORDER_BY={CREATED_AT:"created_at",FILE_SIZE:"file_size"},h.build=function(e){return new h(e,{parse:!0})},e.exports=h},1009:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=new IntersectionObserver((function(e){t.each(e,(function(e){$(e.target).trigger("DISCOVER_INTERSECT",e)}))}),{rootMargin:"-50px 0px 0px 0px",threshold:[.5]});return i.Behavior.extend({events:{DISCOVER_INTERSECT:"_onIntersect"},initialize:function(e){this._exposureCallback=e.exposureCallback,this._immediate=e.immediate,this._exposureTime=null},onAttach:function(){a.observe(this.view.el)},onBeforeDetach:function(){this._clearExposureTime(),a.unobserve(this.view.el)},_onIntersect:function(e,t){if(t.isIntersecting){if(this._immediate)return void this._exposureCallback();this._exposureTime=Date.now()}else this._clearExposureTime()},_clearExposureTime:function(){if(this._exposureTime){var e=Date.now()-this._exposureTime;this._exposureTime=null,100<=e&&this._exposureCallback(e)}}})}.call(t,n,t,e))||(e.exports=i)},1010:function(e,t,n){var i=n(21),a={searchRegion:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/search_region",data:e})},searchRegionByCoords:function(e,t,n){var a={coords:e+","+t};return n&&(a.band_no=n),i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/search_region_by_coords",data:a})},getUserRegionSearchHistory:function(e){var t={};return e&&(t.band_no=e),i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_user_region_search_history",data:t})},addUserRegionSearchHistory:function(e){return i.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/add_user_region_search_history",method:"POST",data:{rcode:e}})},removeUserRegionSearchHistory:function(e){return i.getLoginV1ClientWithoutErrorAlert().sendAndThenProcess({url:"https://api.band.us/v2.0.0/remove_user_region_search_history",method:"POST",data:{rcode:e}})},getRecommendBandSubscribers:function(e,t,n){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_recommend_band_subscribers",data:{rcode:e,keyword_group:t,keyword:n}})},subscribeRecommendBand:function(e,t,n){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/subscribe_recommend_band",method:"POST",data:{rcode:e,keyword:t,force:n}})},unsubscribeRecommendBand:function(e,t){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/unsubscribe_recommend_band",method:"POST",data:{rcode:e,keyword:t}})}};e.exports=a},1018:function(e,t,n){var i,a;i=[n(0),n(21),n(9)],void 0===(a=function(e,t,n){var i=t.getApiClientWithNoHandler(),a=function(t,i){var a=t?"kids":"band";return e.extend({serviceCode:a,osType:"web",countryCode:n.getCountryCode(),languageCode:n.getLang()},i)};return{getHelpCategoryList:function(e){return i.send({url:"https://help.mobilecore.naver.com/help/listHelpCategory.jsonp",data:a(e),dataType:"jsonp"}).then((function(e,t,n){return e}))},getHelpList:function(e,t,n){var s={helpCategoryNo:e,searchKeyword:t};return i.send({url:"https://help.mobilecore.naver.com/help/listHelp.jsonp",data:a(n,s),dataType:"jsonp"}).then((function(e,t,n){return e}))},getHelp:function(e,t){return i.send({url:"https://help.mobilecore.naver.com/help/viewHelp.jsonp",data:a(t,{helpNo:e}),dataType:"jsonp"}).then((function(e,t,n){return e}))},getNoticeList:function(e){return i.send({url:"https://help.mobilecore.naver.com/notice/listNotice.jsonp",data:a(e),dataType:"jsonp"}).then((function(e,t,n){return e}))},getNotice:function(e,t){return i.send({url:"https://help.mobilecore.naver.com/notice/viewNotice.jsonp",data:a(t,{noticeNo:e}),dataType:"jsonp"}).then((function(e,t,n){return e}))},getPolicy:function(e){var t=e.serviceCode+".json";return e.preNoticeNo&&(t=e.serviceCode+"/"+e.preNoticeNo+".json"),i.send({url:"https://help.mobilecore.naver.com/document/public/"+t,dataType:"json",data:{countryCode:n.getCountryCode(),languageCode:n.getLang()}}).then((function(e,t,n){return e}))},getCcpa:function(){return i.send({url:"https://help.mobilecore.naver.com/document/public/bnd_ccpa.json",dataType:"json",data:{countryCode:n.getCountryCode(),languageCode:n.getLang()}}).then((function(e,t,n){return e}))}}}.apply(t,i))||(e.exports=a)},1028:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(6),i=n(52),a=t.Model.extend({parse:function(e){return{bandsFeedCardType:(e=i.camelizeKeys(e)).bandsFeedCardType,bandsFeedCardViewType:e.bandsFeedCardViewType,bandList:new t.Collection(e.bandList,{modelId:function(e){return e.bandNo}}),region:e.region}},getBandsFeedCardType:function(){return this.get("bandsFeedCardType")},getBandsFeedCardViewType:function(){return this.get("bandsFeedCardViewType")},getBandList:function(){return this.get("bandList")},getRegion:function(){return this.get("region")}});return a.BANDS_FEED_CARD_TYPE={FEATURED_GROUP_RCMD_TO_USER:"FEATURED_GROUP_RCMD_TO_USER",FEATURED_PAGE_RCMD_TO_USER:"FEATURED_PAGE_RCMD_TO_USER",NEWLY_STARTED_GROUP_RCMD_TO_USER:"NEWLY_STARTED_GROUP_RCMD_TO_USER",FRIEND_JOINED_GROUP_RCMD_TO_USER:"FRIEND_JOINED_GROUP_RCMD_TO_USER",FRIEND_JOINED_PAGE_RCMD_TO_USER:"FRIEND_JOINED_PAGE_RCMD_TO_USER",REGION_BANDS_RCMD_TO_USER:"REGION_BANDS_RCMD_TO_USER"},a.BANDS_FEED_CARD_VIEW_TYPE={BIG_CARD:"BIG_CARD",SMALL_CARD:"SMALL_CARD",LIST:"LIST"},a}.call(t,n,t,e))||(e.exports=i)},1042:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(548),s=n(158),o=n(161),r=n(22),l=i.Model.extend({defaults:function(){return{is_valid:!0,inviter:{id:null,thumbnail:null,name:null,user_no:null},band:{cover:null,name:null,band_no:null,theme_color:null,band_id:null,is_schoolBand:null,is_universityBand:null,description:null,open_type:null,certified:!1,band_for_kids_enabled:!1},join_type:null,join_method:null,invitation_card_id:null,invitation_type:null,expired_at:null,member_count:null,member_thumbnail_list:[{thumbnail:null}],source_info:null,show_ad_agreement:!1}},parse:function(e){return e.source_info&&(e.source_info.band_info.name=s.escapeXML(e.source_info.band_info.name),e.source_info.inviter_profile.name=s.escapeXML(e.source_info.inviter_profile.name)),t.extend({},e)},deny:function(){var e=this.get("invitation_card_id");return a.deleteInvitationCard(e,!this.isApplication())},isApplication:function(){return"application"==this.get("join_method")},hasSourceInfo:function(){return null!=this.get("source_info")},isBandForKidsEnabled:function(){return this.get("band").band_for_kids_enabled},getBandCore:function(){var e=this.get("band");return o.createBandCore({type:r.BAND_TYPE.GROUP,isRecruiting:!1,bandNo:e.band_no,name:e.name,themeColor:e.theme_color,certified:e.certified})}});return l.ERROR_CODE={ALREADY_JOIN_BAND_CODE:1011,NOT_ACCEPTED_YET:1014},l.buildAsyncFromInvitationUrl=function(e){return a.makeInvitation(e).then((function(e){var t=new l;return t.set(t.parse(e)),t}))},l.buildAsyncFromInvitationCard=function(e){return a.getInvitationCardDetailInfo(e).then(t.bind((function(e){var t=new l;return t.set(t.parse(e)),t}),this))},l}.call(t,n,t,e))||(e.exports=i)},1044:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(34),s=i.Model.extend({idAttribute:"type",defaults:{type:null,title:null,content:null,contentLineage:null,index:null},parse:function(e){return t.extend({contentLineage:a.stringify({content_type:"mission_card",content_source:e.type})},e)},getIndex:function(){return this.get("index")}});return s.TYPE={SET_PROFILE:"set_profile",CREATE_BAND:"create_band"},s}.call(t,n,t,e))||(e.exports=i)},1045:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(52),a=n(6),s=n(1205),o=n(1028),r=n(517),l=n(1078),c=n(22),d={AD_CONTENT:"ad_content",BAND_CONTENT:"band_content",BAND_POST_CONTENT:"band_post_content",PAGE_CONTENT:"page_content",PAGE_POST_CONTENT:"page_post_content"},u={recommend_for_no_feed:o.BANDS_FEED_CARD_TYPE.FEATURED_GROUP_RCMD_TO_USER,recommend:o.BANDS_FEED_CARD_TYPE.FEATURED_GROUP_RCMD_TO_USER,begin:o.BANDS_FEED_CARD_TYPE.NEWLY_STARTED_GROUP_RCMD_TO_USER};function h(e,t){return["feedAd",e,t].join("_")}var p=a.Model.extend({parse:function(e){var n=i.camelizeKeys(e),a=null,l=n.contentIndex,p=n.contentType,_=n.contentData;switch(p){case d.AD_CONTENT:_=_[n.priorAdProvider?1:0],a=new s(_,{parse:!0});break;case d.BAND_CONTENT:a=new o({bandsFeedCardType:u[_.bandType],bandsFeedCardViewType:t.random(1)?o.BANDS_FEED_CARD_VIEW_TYPE.LIST:o.BANDS_FEED_CARD_VIEW_TYPE.SMALL_CARD,bandList:t.map(_.bands,(function(e){return e.type=c.BAND_TYPE.GROUP,e}))},{parse:!0});break;case d.PAGE_CONTENT:a=new o({bandsFeedCardType:o.BANDS_FEED_CARD_TYPE.FEATURED_PAGE_RCMD_TO_USER,bandsFeedCardViewType:t.random(1)?o.BANDS_FEED_CARD_VIEW_TYPE.LIST:o.BANDS_FEED_CARD_VIEW_TYPE.BIG_CARD,bandList:t.map(_.bands,(function(e){return e.type=c.BAND_TYPE.PAGE,e}))},{parse:!0});break;case d.BAND_POST_CONTENT:case d.PAGE_POST_CONTENT:_.featuredComment=null,a=new r(_,{parse:!0})}return{id:h(p,l),contentIndex:l,contentType:p,model:a,adReportData:_.adReportData,ad_report_data:((e||{}).content_data||{}).ad_report_data,contentLineage:_.contentLineage,feedListType:n.feedListType}},initialize:function(){this._ad_report_data=this.get("ad_report_data"),this._impressionReported=!1,this._videoPlayReported=!1},getContentIndex:function(){return this.get("contentIndex")},didReportFeedAdImpression:function(){return this._impressionReported},reportFeedAdImpression:function(){this.trigger("feed:ad:report:impression"),this._impressionReported||(this._impressionReported=!0,l.adReport("imp",this._ad_report_data))},reportFeedAdClick:function(){this.reportFeedAdImpression(),l.adReport("click",this._ad_report_data)},reportFeedAdVideoPlay:function(){this._videoPlayReported||(this._videoPlayReported=!0,this.reportFeedAdImpression(),l.adReport("vplay",this._ad_report_data))}});return p.CONTENT_TYPE=d,p.makeModelId=h,p}.call(t,n,t,e))||(e.exports=i)},1055:function(e,t,n){var i=n(21),a={createBandCollection:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/create_band_collection",data:e,method:"POST"})},updateBandCollection:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/update_band_collection",data:e,method:"POST"})},deleteBandCollection:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/delete_band_collection",data:{band_collection_id:e},method:"POST"})},getBandCollection:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_band_collection",data:{band_collection_id:e}})},getBandCollections:function(){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_band_collections"})},createInvitationGroupUrl:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/create_invitation_group_url",data:{band_collection_id:e},method:"POST"})},getInvitationGroupUrls:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/get_invitation_group_urls",data:{band_collection_id:e}})},extendInvitationGroupUrlExpiration:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/update_invitation_group_url",data:{invitation_group_url_id:e,extend_expiration:!0},method:"POST"})},deleteInvitationGroupUrl:function(e){return i.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v2.0.0/delete_invitation_group_url",data:{invitation_group_url_id:e},method:"POST"})},getInvitationGroupUrlInfo:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us/v1.0.0/get_invitation_group_url_info",data:{invitation_group_url_key:e}})}};e.exports=a},1082:function(e,t,n){var i;void 0===(i=function(e){var t=n(167),i=n(166);return{_getStorageKeyParam:function(e){return[i.MissionCardCloseFor15Day,e]},saveUserCloseMissionCard:function(e){t.getCurrentUserEnvStorage().set(this._getStorageKeyParam(e),!0)},loadUserCloseMissionCard:function(e){return!!t.getCurrentUserEnvStorage().get(this._getStorageKeyParam(e))}}}.call(t,n,t,e))||(e.exports=i)},1083:function(e,t,n){var i=n(0),a=n(52),s=n(6),o=n(529),r=n(1024),l=n(509),c=s.Model.extend({initialize:function(e,t){var n=e.author;n&&(this._author=o.buildContentAuthorModel(n));var s=e.folder;s&&(this._folder=r.build(s));var c=e.origin;if(c){var d=i.extend({contentType:c},a.camelizeKeys(e)),u=l.buildByAttributes(d),h=u.getContentType();h&&(this._contentKey=u,this._contentType=h)}},parse:function(e,t){return a.camelizeKeys(e)},setFileChecked:function(e){this._checked=e},isCheckedFile:function(){return!0===this._checked},unsetFileExpiresAt:function(){this.set("expiresAt",null),this.trigger("file:modified")},getContentKey:function(){return this._contentKey},getFileFolder:function(){return this._folder},setFileFolder:function(e){this._folder=e,this.trigger("file:modified")},getFileFolderName:function(){return this._folder?this._folder.getFolderName():null},isMyFile:function(){return!!this._author&&this._author.isContentAuthorMe()},getFileAuthorName:function(){return this._author?this._author.getContentAuthorName():null},isSosFile:function(){return"sos"===this.getFileProvider()},isDropboxFile:function(){return"dropbox_files"===this.getFileProvider()},isExternalFile:function(){return"external_file"===this.getFileProvider()},getFileCreatedAt:function(){return this.get("createdAt")},getFileExpiresAt:function(){return this.get("expiresAt")},getFileExtension:function(){return this.get("extension")},getFileId:function(){return this.get("fileId")},getFileLink:function(){return this.get("fileLink")},getFileName:function(){return this.get("fileName")},getFileProvider:function(){return this.get("fileProvider")},getFileSize:function(){return this.get("fileSize")},isRestrictedFile:function(){return this.get("isRestricted")},isPostFile:function(){return!!this._contentType&&(this._contentType.isPost()||this._contentType.isPostComment()||this._contentType.isPostCommentReply())},isPhotoFile:function(){return!!this._contentType&&(this._contentType.isPhotoComment()||this._contentType.isPhotoCommentReply())},isScheduleFile:function(){return!!this._contentType&&(this._contentType.isSchedule()||this._contentType.isScheduleComment()||this._contentType.isScheduleCommentReply())}});e.exports=c},1090:function(e,t,n){var i=n(6),a=n(711),s=n(506),o=i.Model.extend({defaults:{ad:null,beginBands:[],recommendBands:[],recommendPage:[],locationBand:null},initialize:function(){},fetchFindBandsData:function(){return a.getDiscoverBandMain().then(_.bind((function(e){return this.set({ad:e.ad,beginBands:e.begin,keywordGroups:e.keyword_groups,recommendBands:e.recommend,recommendPage:e.recommend_page,locationBand:e.location_band}),this}),this))},getAd:function(){return this.get("ad")},getBannerAd:function(){return this.get("ad")&&this.get("ad").banner?this.get("ad").banner:null},getKeywordGroups:function(){return this.get("keywordGroups")},getBeginBands:function(){return this.get("beginBands")},getRecommendBands:function(){return this.get("recommendBands")},getDiscoverRecommendedPageBandList:function(){return this.get("recommendPage")},canShowLocationBand:function(){return s.get(this.get("locationBand"),"expose",!1)}});o.buildDiscoverModel=function(){return new o},e.exports=o},1100:function(e,t,n){var i=n(6),a=n(52),s=i.Model.extend({idAttribute:"rcode",parse:function(e){return a.camelizeKeys(e)},getRcode:function(){return this.get("rcode")},getName:function(){return this.get("name")},getFullAddress:function(){return this.get("fullAddress")},getShortAddress:function(){return this.get("shortAddress")}});e.exports=s},1101:function(e,t,n){var i;void 0===(i=function(){return{isCharacterInBMP:function(e,t){return(String.prototype.codePointAt?e.codePointAt(t):function(e,t){var n=e.length,i=t?Number(t):0;if(i!=i&&(i=0),!(i<0||i>=n)){var a,s=e.charCodeAt(i);return s>=55296&&s<=56319&&n>i+1&&(a=e.charCodeAt(i+1))>=56320&&a<=57343?1024*(s-55296)+a-56320+65536:s}}(e,t))<65536}}}.call(t,n,t,e))||(e.exports=i)},1104:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(721);return n(936),{resetSkin:function(){t(i.BODY).removeBandSkin()},setSkinColorToBody:function(e){this.resetSkin(),t(i.BODY).addClass(e)}}}.call(t,n,t,e))||(e.exports=i)},1135:function(e,t,n){var i=n(6),a=n(529),s=i.Collection.extend({model:a,modelId:function(e){return e.userNo||e.user_no||e.memberKey||e.member_key},addAuthors:function(e){this.add(e,{parse:!0})}});s.build=function(e){return new s(e,{parse:!0})},e.exports=s},1136:function(e,t,n){var i;void 0===(i=function(e){return{makeErrorResultText:function(e){return 1002==e?IM("search.restricted_keyword_by_age"):1001==e?IM("search.restricted_keyword"):IM("discover.search.txt.no_result")}}}.call(t,n,t,e))||(e.exports=i)},1137:function(e,t,n){var i=n(6),a=n(1055),s=n(52),o=(n(10),i.Model.extend({defaults:function(){return{name:"",description:"",inviter:{name:""},invitationUrls:[],validation:void 0}},parse:function(e){return s.camelizeKeys(e)},initialize:function(){this._loading=!0},fetchInvitationGroupUrlInfo:function(){return this._loading=!0,a.getInvitationGroupUrlInfo(this.get("invitationGroupUrlKey")).then(_.bind((function(e){this._loading=!1,this.set(this.parse(e))}),this),_.bind((function(e){this._loading=!1,this.set("validation",e.result_data.message)}),this))},isLoading:function(){return this._loading},getInvitationValidation:function(){return this.get("validation")}}));o.buildInvitationGroupUrlInfoModel=function(e){return new o({invitationGroupUrlKey:e})},e.exports=o},1138:function(e,t,n){var i;void 0===(i=function(){return{BIRTHDAY_START_YEAR:1911}}.call(t,n,t,e))||(e.exports=i)},1158:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(161),a=n(504),s=n(490),o=n(52);return t.Model.extend({defaults:{band:void 0,authors:[],authorCount:0,photoCount:0,videoCount:0,gifCount:0,compactionCreatedAt:void 0,totalCount:0,album:void 0,photos:[],photoNos:[],permissionSet:null},parse:function(e){e=o.camelizeKeys(e);var n={band:i.createBandCoreWithAction(e.band),authors:new t.Collection(_.map(e.authors,(function(e){return new a(e,{parse:!0})}))),authorCount:e.authorCount,photoCount:e.photoCount,photos:e.photos,photoNos:e.photoNos,videoCount:e.videoCount,gifCount:e.gifCount,compactionCreatedAt:e.compactionCreatedAt,totalCount:e.totalCount};return e.album&&(n.album=e.album),n},getBandCore:function(){return this.get("band")},getBandNo:function(){return this.getBandCore().bandNo},getPhotos:function(){return this.get("photos")},toJSON:function(){return s.toRecursiveJSON(this)}})}.call(t,n,t,e))||(e.exports=i)},1159:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(6),i=n(52),a=t.Model.extend({parse:function(e){return{missionsFeedCardViewType:(e=i.camelizeKeys(e)).missionsFeedCardViewType,missionList:new t.Collection(e.missionList,{modelId:function(e){return e.bandNo}})}},getMissionsFeedCardViewType:function(){return this.get("missionsFeedCardViewType")},getMissionList:function(){return this.get("missionList")}});return a.MISSIONS_FEED_CARD_VIEW_TYPE={BIG_CARD:"BIG_CARD",LIST:"LIST"},a}.call(t,n,t,e))||(e.exports=i)},1160:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(6),s=n(1206),o=n(1008),r=n(157),l=n(506),c=n(34),d="NONE",u="RECRUITING",h=d,p=a.Collection.extend({model:function(e){return new s(e,{parse:!0})},initialize:function(e,t){this._contentLineage=t.contentLineage,this._sectionTitle=t.sectionTitle||"",this._moreLinkContentLineage=t.moreLinkContentLineage,this._keyword=t.keyword,this._filter=t.filter||h},getRecommendedBandMissionContentLineage:function(){return this._contentLineage?c.parse(this._contentLineage):{}},getMoreLinkContentLineage:function(){return this._moreLinkContentLineage?c.parse(this._moreLinkContentLineage):{}},setRcmdCardIndex:function(e){this._contentLineage&&(this._contentLineage=c.stringify(t.extend(c.parse(this._contentLineage),{rcmd_card_index:e}))),this._moreLinkContentLineage&&(this._moreLinkContentLineage=c.stringify(t.extend(c.parse(this._moreLinkContentLineage),{rcmd_card_index:e})))},getRecommendedBandMissionSectionTitle:function(){return this._sectionTitle.replace(/<b>(.*?)<\/b>/g,"$1").replace(/<band:.*?>(.*?)<\/band:.*?>/g,"$1")},getRecommendedBandMissionKeyword:function(){return this._keyword||this._represent},getRecommendedBandMissionKeywords:function(){var e=[this._represent].concat(this._keywords),n=this._keyword||this._represent;return t.map(e,(function(e){return{label:e,selected:e==n,url:r.GLOBAL_RECOMMENDED_BAND_MISSION.makeUrl({keyword:encodeURIComponent(e!=this._represent?e:"")})}}),this)},getRecommendedBandMissionFilters:function(){var e={keyword:encodeURIComponent(this._keyword||"")};return this._keyword&&(e.keyword=encodeURIComponent(this._keyword)),t.map([d,u],(function(t){var n={};return t!=h&&(n.filter=t),{label:this._getFilterLabel(t),selected:t==this._filter,url:r.GLOBAL_RECOMMENDED_BAND_MISSION.makeUrl(e,n)}}),this)},fetchRecommendedBandMission:function(){return this._fetchRecommendedBandMission()},fetchNextRecommendedBandMission:function(){return this._cursor?this._fetchRecommendedBandMission():i.Deferred().reject().promise()},isLast:function(){return t.isUndefined(this._cursor)},_fetchRecommendedBandMission:function(){return this._fetching?i.Deferred().reject().promise():(this._fetching=!0,o.getRcmdMissionList(this._getRecommendedBandMissionParams(),!this._keywords).then(t.bind((function(e){var n=e[0],i=e[1],a=this.size(),s=t.map(n.card_list,(function(e){var n=l.get(e,"missions_layout.body_layout.missions")[0],i=e.content_lineage;return i&&(n.content_lineage=c.stringify(t.extend(c.parse(i),{rcmd_card_index:a}))),a+=1,n}));this._cursor=l.get(t.last(n.card_list),"cursor"),i&&(this._represent=i.represent,this._keywords=i.mission_keyword_list),this.add(s)}),this)).always(t.bind((function(){this._fetching=!1}),this)))},_getRecommendedBandMissionParams:function(){var e={missionVersion:"1.0.0",platform:"WEB",displayCount:50,missionFilter:this._filter};return this._keyword&&(e.missionKeyword=this._keyword),this._cursor&&(e.cursor=this._cursor),e},_getFilterLabel:function(e){switch(e){case d:return IM("global_search.lnb.total");case u:return IM("global_search.lnb.recruiting")}}});return p.build=function(e,t){return new p(e,t)},p.fetchRecommendedBandMission=function(e){var t=new p([],e);return t.fetchRecommendedBandMission().then((function(){return t}))},p.getRecruitingRecommendedBandMissionUrl=function(){return r.GLOBAL_RECOMMENDED_BAND_MISSION.makeUrl({},{filter:u})},p}.call(t,n,t,e))||(e.exports=i)},1161:function(e,t){e.exports={RECRUIT_PLACE:{TOP_RIGHT_BUTTON:"top_right_button",TOP_BUTTON:"top_button",FIRST_LIST_BUTTON:"first_list_button",BOTTOM_LIST_BUTTON:"bottom_list_button",EMPTY_LIST_BUTTON:"empty_list_button",EMPTY:"empty",ONEMORE:"onemore"},RECRUIT_MENU:{EXISTING_BAND:"existing_band",NEW_BAND:"new_band"},CARD_TYPE:{EMPTY:"empty",ONEMORE:"onemore",TOP_BUTTON:"top_button"},REPRESENT_KEYWORD_GROUP_ID:"recommend"}},1166:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(1231),s=n(486),o=n(180),r=i.View.extend({className:"url_layer",attributes:{"data-viewname":"DInviteByUrlView"},template:t.template(a),ui:{btnCopyUrl:"._btnCopyUrl",btnClose:"._btnClose",linkDescription:"[data-uiselector=linkDescription]"},events:{"click @ui.btnClose":function(e){this.destroy()}},onAttach:function(){this._initUrlCopyClipboard()},onBeforeDetach:function(){this._destroyUrlCopyClipboard()},_initUrlCopyClipboard:function(){o.isSupported()?this.$el&&0!=this.$el.find("._btnCopyUrl").length&&(this._destroyUrlCopyClipboard(),this.clipboard=new o("._btnCopyUrl"),this.clipboard.on("success",t.bind((function(e){alert(IM("copy_url.success")),this.destroy()}),this)),this.clipboard.on("error",t.bind((function(e){alert(IM("url_copy.fail")),this.destroy()}),this))):this.getUI("btnCopyUrl").click(t.bind((function(){alert(IM("url_copy.fail"))}),this))},_destroyUrlCopyClipboard:function(){this.clipboard&&this.clipboard.destroy()}});return r.openAsLayer=function(e){var t=new r({model:new Backbone.Model(e)});return s.open(t),t},r}.call(t,n,t,e))||(e.exports=i)},1167:function(e,t,n){var i;void 0===(i=function(){return{BAND:"m2_user_id",SMS:"sms"}}.call(t,n,t,e))||(e.exports=i)},1168:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1757),s=n(1438),o=n(486),r=n(1758),l=n(1010),c=n(555),d=n(1277),u=n(154),h=n(13),p=n(9),_={SELECTED:"SELECTED",CANCEL:"CANCEL",ATTACH:"ATTACH",SEARCH:"SEARCH"},m=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DRegionSelectView"},template:t.template(a),templateContext:function(){return{searchInputPlaceholderText:this._getSearchInputPlaceholderText(),emptySearchResultDesc:this._getEmptySearchResultDesc()}},ui:{btnClose:"._btnClose",btnSearch:"._btnSearch",inputRegionSearch:"#regionSearch",btnMyLocation:"._btnMyLocation",emptySearchResult:"._emptySearchResult",searchHistoryArea:"._searchHistoryArea",searchResultArea:"._searchResultArea"},regions:{searchResultListRegion:{el:"._searchResultListRegion",replaceElement:!0},searchHistoryListRegion:{el:"._searchHistoryListRegion",replaceElement:!0}},events:{"click @ui.btnClose":"destroy","click @ui.btnSearch":"_searchRegion","keydown @ui.inputRegionSearch":function(e){e.keyCode!==c.ENTER||(this._enterKeyDown=!0)},"keyup @ui.inputRegionSearch":function(e){if(this._enterKeyDown&&e.keyCode===c.ENTER)return this._enterKeyDown=!1,void this._searchRegion();this._toggleSearchButton(),0===this.getUI("inputRegionSearch").val().trim().length&&(this.getUI("emptySearchResult").hide(),this.getUI("searchResultArea").hide(),h.isLogedIn()&&this._toggleSearchHistoryArea())},"click @ui.btnMyLocation":"_selectRegionByMyLocation"},initialize:function(e){this._bandNo=e.bandNo,this._searchResultListCollection=s.build(e.bandNo),this._searchHistoryListCollection=s.build(e.bandNo),this.listenTo(this._searchHistoryListCollection,"update",(function(){this._toggleSearchHistoryArea()}))},onAttach:function(){this.trigger(_.ATTACH),h.isLogedIn()&&this._searchHistoryListCollection.fetchHistory().then(t.bind((function(){this._showSearchHistoryListView()}),this))},_getSearchInputPlaceholderText:function(){return"KR"===p.getCountryCode()?IM("region_selection.search_input.placeholder.kr"):"US"===p.getCountryCode()?IM("region_selection.search_input.placeholder.us"):""},_getEmptySearchResultDesc:function(){return"KR"===p.getCountryCode()?IM("region_selection.search_result.empty_desc.kr"):"US"===p.getCountryCode()?IM("region_selection.search_result.empty_desc.us"):""},_searchRegion:function(){this._query=this.getUI("inputRegionSearch").val(),this._searchResultListCollection.reset(),this._searchResultListCollection.search(this._query).then(t.bind((function(){this.trigger(_.SEARCH,{query:this._query,count:this._searchResultListCollection.length}),this.getUI("searchHistoryArea").hide(),this.getUI("searchResultArea").hide(),this.getUI("emptySearchResult").hide(),this._searchResultListCollection.isEmpty()?this.getUI("emptySearchResult").show():(this.getUI("searchResultArea").show(),this.getRegion("searchResultListRegion").hasView()||this._showSearchResultListView())}),this))},_toggleSearchButton:function(){this.getUI("inputRegionSearch").val().trim().length>0?this.getUI("btnSearch").addClass("-active").prop("disabled",!1):this.getUI("btnSearch").removeClass("-active").prop("disabled",!0)},_selectRegionByMyLocation:function(){u.wrapActivePromise(d.fetchRegion(this),this).then(t.bind(this._selectRegion,this))},_selectRegion:function(e){this.trigger(_.SELECTED,e),h.isLogedIn()&&l.addUserRegionSearchHistory(e.getRcode()),this.destroy()},_showSearchResultListView:function(){var e=new r({collection:this._searchResultListCollection,deletable:!1,highlightText:this._query});this.listenTo(e,r.EVENTS.SELECTED,this._selectRegion),this.showChildView("searchResultListRegion",e)},_showSearchHistoryListView:function(){var e=new r({collection:this._searchHistoryListCollection,deletable:!0,highlightText:null});this.listenTo(e,r.EVENTS.SELECTED,this._selectRegion),this.listenTo(e,r.EVENTS.DELETED,(function(e){var t=e.getRcode();l.removeUserRegionSearchHistory(t)})),this._toggleSearchHistoryArea(),this.showChildView("searchHistoryListRegion",e)},_toggleSearchHistoryArea:function(){this.getUI("searchHistoryArea").toggle(!this._searchHistoryListCollection.isEmpty())}});return m.EVENTS=_,m.openLayer=function(e){var t=new m({bandNo:e});return o.openWithoutHiding(t),t},m}.call(t,n,t,e))||(e.exports=i)},1169:function(e,t,n){var i=n(0),a=n(4),s={CHANGE:"CHANGE"},o=a.View.extend({constructor:function(){return this._itemSet={},a.View.apply(this,arguments)},childViewEvents:function(){var e={};return this.onFormValuesChange&&(e[s.CHANGE]=this.onFormValuesChange),e},showFormItem:function(e,t,n){i.chain(n).keys().each(i.bind((function(t){this._itemSet[t]=e}),this)).value();var a=new t;this.showChildView(e,a),a.setValues(n)},getFormValues:function(){var e={};return i.chain(this._itemSet).values().uniq().each(i.bind((function(t){var n=this.getChildView(t).getValues();i.each(n,(function(t,n){e[n]=t}))}),this)).value(),e},focusFormValue:function(e){var t=this._itemSet[e],n=this.getRegion(t);n&&n.hasView()&&this.getChildView(t).focus(e)}});o.EVENT=s,e.exports=o},1170:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(4),i=n(26),a=n(1615);return t.Behavior.extend({initialize:function(e){var t=i.getPostChannel();this.listenTo(t,i.EVENT.NEW_POST_WITH_SCHEDULE,this._newPostWithSchedule),this.listenTo(t,i.EVENT.NEW_POST,this._newPost),this.listenTo(t,i.EVENT.MODIFY_POST,this._modifyPost),this.listenTo(t,i.EVENT.COPY_POST,this._copyPost),this.listenTo(t,i.EVENT.SHARE_URL_WITH_BAND_SELECTION,this._shareUrlWithBandSelection),this.listenTo(t,i.EVENT.SHARE_URL_ON_BANDS,this._shareUrlOnBands),this.listenTo(t,i.EVENT.NEW_POST_WITH_LIVE,this._newPostWithLive),this.listenTo(t,i.EVENT.NEW_POST_WITH_MISSION,this._newPostWithMission),this.listenTo(t,i.EVENT.NEW_POST_WITH_SHARE_MISSION_CONFIRM_RANK,this._newPostWithShareMissionConfirmRanking)},_newPost:function(e){a.writePost(a.WRITE_ACTION.NEW_POST,e)},_newPostWithSchedule:function(e,t){a.writePost(a.WRITE_ACTION.NEW_POST_WITH_SCHEDULE,{bandData:e,scheduleModel:t})},_newPostWithLive:function(e,t){a.writePost(a.WRITE_ACTION.NEW_POST_WITH_LIVE,{bandData:e,liveVideo:t})},_newPostWithMission:function(e){a.writePost(a.WRITE_ACTION.NEW_POST_WITH_MISSION,{bandData:e.bandData,bandMissionModel:e.bandMissionModel})},_modifyPost:function(e,t,n){a.writePost(a.WRITE_ACTION.MODIFY_POST,{bandNo:e,postNo:t,postModel:n})},_copyPost:function(e,t,n){a.writePost(a.WRITE_ACTION.COPY_POST,{bandNo:e,postNo:t,hasScheduleAttachment:n})},_shareUrlWithBandSelection:function(e){a.writePost(a.WRITE_ACTION.SHARE_URL_WITH_BAND_SELECTION,e)},_shareUrlOnBands:function(e,t,n){a.writePost(a.WRITE_ACTION.SHARE_URL_ON_BANDS,{shareUrl:e,message:t,bandList:n})},_newPostWithShareMissionConfirmRanking:function(e){a.writePost(a.WRITE_ACTION.NEW_POST_WITH_SHARE_MISSION_CONFIRM_RANK,e)}})}.call(t,n,t,e))||(e.exports=i)},1200:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(904),s=n(13),o=n(599),r=n(1201),l=n(1082),c=n(1006),d=n(852),u=i.Collection.extend({initialize:function(e,t){this._fetching=!1,this._nextFeeds=null,this._feedDataFetcher=t.feedDataFetcher},fetchFeeds:function(){this._nextFeeds=null,this._fetch(!0)},fetchNextFeeds:function(){this._fetch(!1)},fetchNewFeeds:function(){return this._feedDataFetcher.fetchNewFeeds().then(t.bind((function(e){e.length>0&&this.add(e,{at:0})}),this))},getFeedItemCount:function(){return this.filter((function(e){return e instanceof c})).length},hideBandFromFeed:function(e){a.hideBandFromFeed(e).then(t.bind((function(){var n=function(t){if(!(t instanceof c))return!1;var n=t.getItemModel();return"function"==typeof n.getBandNo&&n.getBandNo()===e||n instanceof d&&n.getLiveBandNo()===e};this.remove(this.filter(n)),null!=this._nextFeeds&&(this._nextFeeds=t.filter(this._nextFeeds,(function(e){return!n(e)})))}),this))},hidePostFromFeed:function(e,n){a.hidePostFromFeed(e,n).then(t.bind((function(){this.remove(c.makeModelId(o.ITEM_TYPE.POST,{bandNo:e,postNo:n}))}),this))},closeMissionCard:function(e){l.saveUserCloseMissionCard(e.get("type")),this.remove(e)},hasMoreFeeds:function(){return!t.isEmpty(this._nextFeeds)||this._feedDataFetcher.hasMore()},_fetch:function(e){this._feedDataFetcher.hasMore()&&!this._fetching&&(this._fetching=!0,this.trigger("feeds:fetch:start"),this._nextFeeds?t.defer(t.bind((function(){this.add(this._nextFeeds),this._nextFeeds=null,this._fetching=!1,this.trigger("feeds:fetch:end",this.hasMoreFeeds())}),this)):this._feedDataFetcher.fetch().then(t.bind((function(t){if(t.length>10){var n=Math.floor(t.length/2);this._nextFeeds=t.slice(n),t=t.slice(0,n)}e?this.reset(t):t.length>0&&this.add(t)}),this)).always(t.bind((function(){this._fetching=!1,this.trigger("feeds:fetch:end",this.hasMoreFeeds())}),this)))}});return u.buildFeedCollection=function(){var e=r.build({feedType:o.FEED_TYPE.FEED,withMissionCard:!0});return new u([],{feedDataFetcher:e})},u.buildOpenFeedCollection=function(e){var t=o.FEED_TYPE.OPEN_FEED,n=!1,i=null;e==o.PUBLIC_FEED_LOCATION.OPENBAND_FEEDS?n=s.isLogedIn():i={isAdPostEnabled:!0};var a=r.build({feedType:t,publicFeedLocation:e,withMissionCard:n,feedOptions:i});return new u([],{feedDataFetcher:a})},u}.call(t,n,t,e))||(e.exports=i)},1201:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(52),a=n(4),s=n(599),o=n(1077),r=n(904),l=n(176),c=n(1082),d=n(1006),u=n(1044),h=n(1045),p=n(13),_={};_[u.TYPE.SET_PROFILE]=6,_[u.TYPE.CREATE_BAND]=39;var m=a.Object.extend({initialize:function(e){this._feedType=e.feedType,this._publicFeedLocation=e.publicFeedLocation,this._withMissionCard=e.withMissionCard,this._feedOptions=e.feedOptions||{},this._params=this._makeInitialParams(),this._newFeedParams={},this._missionCardResponse=null,this._totalFetchedFeedCount=0},fetch:function(){return this._requestFeeds().then(t.bind((function(e,n,i,a,s,o){var r=this._parseFeedItems(e),l=this._parseFeedAds(n,r.length),c=this._parseMissionCards(o,r.length),d=l.length;this._params=this._makeNextParams(i,a,d),t.isEmpty(this._newFeedParams)&&(this._newFeedParams=s);var u=this._makeFeeds(r,l,c);return this._totalFetchedFeedCount+=u.length,u}),this))},fetchNewFeeds:function(){var e=t.extend(this._makeInitialParams(),this._newFeedParams);return $.when(r.getFeed(e),l.fetchBandJoin()).then(t.bind((function(e){var t=i.camelizeKeys(e.items||[]),n=this._parseFeedItems(t),a=!!e.ad&&e.ad.contents||[],s=this._parseFeedAds(a,n.length);return this._newFeedParams=e.update_param,this._makeFeeds(n,s)}),this))},hasMore:function(){return!!this._params},_makeInitialParams:function(){var e={feed_payload:JSON.stringify(this._makeDefaultFeedPayload()),ad_payload:JSON.stringify(this._makeDefaultAdPayload())};return this._feedType==s.FEED_TYPE.OPEN_FEED&&this._feedOptions.isAdPostEnabled&&(e.is_ad_post_enabled=!0),e},_makeNextParams:function(e,n,i){return t.isEmpty(e)?null:(n=t.extend(JSON.parse(e.ad_payload),n,{extra_item_count:i||0}),e.ad_payload=JSON.stringify(n),e)},_makeDefaultFeedPayload:function(){var e={};return this._feedType==s.FEED_TYPE.FEED?(e.feedVersion=s.FEED_VERSION,e.kidsYn=p.isKid()?"Y":"N"):this._feedType==s.FEED_TYPE.OPEN_FEED&&(e.publicFeedVersion=s.PUBLIC_FEED_VERSION,e.publicFeedLocation=this._publicFeedLocation||s.PUBLIC_FEED_LOCATION.OPENBAND_FEEDS),e},_makeDefaultAdPayload:function(){var e;return this._feedType==s.FEED_TYPE.FEED?e=o.PLACEMENT.FEED:this._feedType==s.FEED_TYPE.OPEN_FEED&&(e=o.PLACEMENT.OPEN_FEED),o.createAdPayload(e)},_requestFeeds:function(){var e=$.Deferred(),n=[l.fetchBandJoin()];return this._feedType==s.FEED_TYPE.FEED?n.push(r.getFeed(this._params)):this._feedType==s.FEED_TYPE.OPEN_FEED&&n.push(r.getPublicFeed(this._params)),this._withMissionCard&&t.isEmpty(this._missionCardResponse)&&n.push(r.getMissionCards({section:this._feedType})),$.when.apply($,n).then((function(n,a,s){t.isEmpty(s)||(this._missionCardResponse=s);var o=i.camelizeKeys(a.items||[]),r=!!a.ad&&a.ad.contents||[],l=a.paging.next_params,c=!!a.ad&&a.ad.ad_payload||null,d=a.update_param,u=i.camelizeKeys(!!this._missionCardResponse&&this._missionCardResponse.cards||[]);e.resolve(o,r,l,c,d,u)})).fail((function(){e.reject()})),e.promise()},_parseFeedItems:function(e){return t.isEmpty(e)?[]:t.map(e,t.bind((function(e){return e.feedListType=this._feedType,new d(e,{parse:!0})}),this))},_parseFeedAds:function(e,n){return t.isEmpty(e)?[]:t.chain(e).filter(t.bind((function(e){return this._isValidFeedAd(e)&&e.content_index>=0&&e.content_index<n}),this)).map(t.bind((function(e){return e.feed_list_type=this._feedType,new h(e,{parse:!0})}),this)).value()},_isValidFeedAd:function(e){var n=e.content_type,i=e.content_data;return!!t.contains(t.values(h.CONTENT_TYPE),n)&&(!!(this._feedType!=s.FEED_TYPE.OPEN_FEED||this._feedOptions.isAdPostEnabled||n!==h.CONTENT_TYPE.BAND_POST_CONTENT&&n!==h.CONTENT_TYPE.PAGE_POST_CONTENT)&&((n!==h.CONTENT_TYPE.BAND_POST_CONTENT&&n!==h.CONTENT_TYPE.PAGE_POST_CONTENT||!t.isEmpty(i.band))&&(n!==h.CONTENT_TYPE.BAND_CONTENT&&n!==h.CONTENT_TYPE.PAGE_CONTENT||!t.isEmpty(i.bands))))},_parseMissionCards:function(e,n){if(t.isEmpty(e))return[];var i=this._totalFetchedFeedCount,a=i+n-1;return t.chain(e).filter((function(e){return t.contains(t.values(u.TYPE),e.type)})).each((function(e){e.index=_[e.type]})).filter(t.bind((function(e){return e.index=_[e.type],!!e.index&&e.index>=i&&e.index<=a&&!c.loadUserCloseMissionCard(e.type)}),this)).map((function(e){return new u(e,{parse:!0})})).value()},_makeFeeds:function(e,n,i){var a=[];return Array.prototype.push.apply(a,e),t.isEmpty(n)||t.each(n,(function(e){a.splice(e.getContentIndex(),0,e)})),t.isEmpty(i)||t.each(i,t.bind((function(e){var t=e.getIndex()-this._totalFetchedFeedCount;a.splice(t,0,e)}),this)),a}});return m.build=function(e){return new m({feedType:e.feedType,publicFeedLocation:e.publicFeedLocation,withMissionCard:e.withMissionCard,feedOptions:e.feedOptions})},m}.call(t,n,t,e))||(e.exports=i)},1202:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(52),a=n(490),s=n(549);return t.Model.extend({parse:function(e,n){return e=i.camelizeKeys(e),{schedules:new t.Collection(e,{model:s,parse:!0})}},getSchedules:function(){return this.get("schedules")},toJSON:function(){return a.toRecursiveJSON(this)}})}.call(t,n,t,e))||(e.exports=i)},1203:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(6),i=n(52),a=n(490),s=n(161),o=n(529);return t.Model.extend({parse:function(e){var t={photoNo:(e=i.camelizeKeys(e)).photoNo,photoUrl:e.photoUrl,height:e.height,width:e.width,source:e.source,video:e.video,isRestricted:e.isRestricted,registeredAt:e.registeredAt,createdAt:e.createdAt,commentCount:e.commentCount,emotionCount:e.emotionCount,commonEmotionType:e.commonEmotionType||null,emotionTypeByViewer:!!e.emotionByViewer&&e.emotionByViewer.type||null,size:e.size,postNo:e.postNo};return t.band=s.createBandCoreWithAction(e.band),t.author=new o(e.author,{parse:!0}),t},toJSON:function(){return a.toRecursiveJSON(this)},getAuthor:function(){return this.get("author")},getBandCore:function(){return this.get("band")},getBandNo:function(){return this.getBandCore().bandNo},getPhotoNo:function(){return this.get("photoNo")},getPhotoUrl:function(){return this.get("photoUrl")},getVideo:function(){return this.get("video")},isRestricted:function(){return this.get("isRestricted")},getHeight:function(){return this.get("height")},getWidth:function(){return this.get("width")},getCommentCount:function(){return this.get("commentCount")},setCommentCount:function(e){this.set("commentCount",e)},getEmotionCount:function(){return this.get("emotionCount")},getCommonEmotionType:function(){return this.get("commonEmotionType")},getEmotionTypeByViewer:function(){return this.get("emotionTypeByViewer")},getCreatedAt:function(){return this.get("createdAt")},getSource:function(){return this.get("source")},isPostPhoto:function(){return"post"==this.getSource()},isPurePhoto:function(){return"photo"==this.getSource()},getPostNo:function(){return this.get("postNo")}})}.call(t,n,t,e))||(e.exports=i)},1204:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(52),s=n(490),o=n(161),r=n(1024),l=n(1007),c=n(1135);return i.Model.extend({defaults:{band:null,authors:c.build(),authorCount:0,folder:null,files:l.build(),fileCount:0,compactionCreatedAt:null},parse:function(e){e=a.camelizeKeys(e);var n={band:o.createBandCoreWithAction(e.band),authors:c.build(e.authors),authorCount:e.authorCount,folder:null,files:l.build(e.files),fileCount:e.fileCount,compactionCreatedAt:e.compactionCreatedAt};return t.isEmpty(e.folder)||(n.folder=r.build(e.folder)),n},getBandCore:function(){return this.get("band")},getBandNo:function(){return this.getBandCore().bandNo},getMainAuthor:function(){return this.get("authors").at(0)},getMainAuthorName:function(){return this.getMainAuthor().getName()},getAuthorCount:function(){return this.get("authorCount")},getRestAuthorCount:function(){return this.getAuthorCount()-1},getFileCount:function(){return this.get("fileCount")},getFolder:function(){return this.get("folder")},getFiles:function(){return this.get("files")},getCompactionCreatedAt:function(){return this.get("compactionCreatedAt")},toJSON:function(){return s.toRecursiveJSON(this)}})}.call(t,n,t,e))||(e.exports=i)},1205:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(52);return i.Model.extend({parse:function(e){return e=a.camelizeKeys(e),{id:t.uniqueId("feed_ad_content_"),headerText:e.headerText,titleNameNext:e.titleNameText,titleTypeText:e.titleTypeText,titleImageUrl:e.titleImageUrl,titleImageWidth:e.titleImageWidth,titleImageHeight:e.titleImageHeight,titleLandingUrl:e.titleLandingUrl,bodyText:e.bodyText,creatives:t.map(e.creatives,(function(e,t){return{adTitleText:e.adTitleText,adSubText:e.adSubText,buttonText:e.buttonText,landingUrl:e.landingUrl,bodyImageUrl:e.bodyImageUrl,bodyImageWidth:e.bodyImageWidth,bodyImageHeight:e.bodyImageHeight,bodyVideoLowResUrl:e.bodyVideoLowResUrl,bodyVideoHighResUrl:e.bodyVideoHighResUrl,bodyVideoThumbnailUrl:e.bodyVideoThumbnailUrl,bodyVideoThumbnailWidth:e.bodyVideoThumbnailWidth,bodyVideoThumbnailHeight:e.bodyVideoThumbnailHeight,index:t,creativeImageUrl:e.bodyImageUrl||e.bodyVideoThumbnailUrl,video:!(!e.bodyVideoLowResUrl&&!e.bodyVideoHighResUrl)}}))}}})}.call(t,n,t,e))||(e.exports=i)},1206:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(52),a=n(34),s=n(153),o=n(544);return t.Model.extend({parse:function(e){return i.camelizeKeys(e)},getRecommendedBandMissionBandNo:function(){return this.get("bandNo")},getRecommendedBandMissionId:function(){return this.get("missionId")},getRecommendedBandMissionBandCoverUrl:function(){return this.get("bandCoverUrl")},getRecommendedBandMissionTitle:function(){return this.get("title")},getRecommendedBandMissionFrequencyText:function(){return this.get("frequencyText")},getRecommendedBandMissionPeriodText:function(){return this.get("periodText")},getRecommendedBandMissionGuideText:function(){return(this.get("guideText")||"").replace(/<\/?b\s*?>|<\/?band:.*?>/g,"")},getRecommendedBandMissionParticipateButtonText:function(){return this.get("participateButtonText")},isRecruitingRecommendedBandMission:function(){return this.get("isRecruiting")},getRecommendedBandMissionContentLineage:function(){var e=this.get("contentLineage");return e?a.parse(e):{}},getRecommendedBandMissionUrl:function(){var e=this.getRecommendedBandMissionBandNo(),t=this.getRecommendedBandMissionId();return this.isRecruitingRecommendedBandMission()?o.LFG_BAND_HOME.makeUrl({band_no:e}):s.GROUP_BAND_MISSION_DETAIL.makeUrl({band_no:e,mission_id:t})}})}.call(t,n,t,e))||(e.exports=i)},1207:function(e,t,n){var i=n(1010),a=n(13),s=n(506),o=n(1100),r={fetchRegion:function(e,t){var n=e.coords;return i.searchRegionByCoords(n.longitude,n.latitude).then((function(e){return t&&a.isLogedIn()&&i.addUserRegionSearchHistory(e.rcode),new o(e,{parse:!0})}),(function(e){return s.get(e,"result_data.message")}))}};e.exports=r},1226:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(6),s=n(520),o=n(1227),r=n(176);return a.Collection.extend({model:o,initialize:function(e,t){this.bandNo=t.bandNo},fetchSearchPost:function(e,n){if(!e||e.length<2)return this.nextParams=null,this.totalPostCount=0,this.reset(null,{silent:!0}),i.Deferred().resolve();var a={band_no:this.bandNo,query:e,include_comment:n,passage_length:220};return i.when(s.searchPostWithComment(a),r.fetchBandJoin()).then(t.bind((function(e){this.nextParams=e.paging.next_params,this.totalPostCount=e.post_total,this.reset(e.items,{parse:!0,silent:!0})}),this))},fetchNextPostList:function(){return s.searchPostWithComment(this.nextParams).then(t.bind((function(e){this.nextParams=e.paging.next_params,this.set(e.items,{add:!0,merge:!1,remove:!1,parse:!0})}),this))},hasMore:function(){return!!this.nextParams},getTotalPostCount:function(){return this.totalPostCount||0},fetchMyBandsForPosts:function(e){var n=this._fetched?this.nextParams:{query:e,passage_length:1024,limit:20};if(n&&!this._fetching)return this._fetching=!0,s.searchMyBandsForPosts(n).then(t.bind((function(e){this.nextParams=e.paging.next_params,this._fetched=!0,this.totalPostCount=e.total,this.add(e.items,{parse:!0}),this.trigger("fetched")}),this)).always(t.bind((function(){this._fetching=!1}),this))}})}.call(t,n,t,e))||(e.exports=i)},1227:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(504),a=n(520),s=n(517),o=n(13),r=n(490),l=n(161),c=n(152),d=t.Model.extend({parse:function(e,n){this.originResponse=e;var a=c.findPriorRestriction({isRestricted:e.isRestricted,isVisibleOnlyToAuthor:e.is_visible_only_to_author,isMutedAuthorPost:!!e.author&&!!e.author.is_muted});a&&(a===c.RESTRICTION_TYPE.HIDE_POST&&(e.content=IM("post.hidden_post.guide_message"),e.image=null,e.video_count=0,e.photo_count=0,e.is_photo_countless=!1),a===c.RESTRICTION_TYPE.MUTE_AUTHOR&&(e.content=IM("post.muted_author_post.guide_message"),e.image=null,e.video_count=0,e.photo_count=0,e.is_photo_countless=!1));var r={id:s.makeModelId(e.band.band_no,e.post_no),band:l.createBandCoreWithAction(e.band),author:new i(e.author,{parse:!0}),postNo:e.post_no,content:e.content,image:e.image,videoCount:e.video_count,photoCount:e.photo_count,isPhotoCountless:e.is_photo_countless||!1,emotionCount:e.emotion_count,commentCount:e.comment_count,isPlayButtonVisible:e.is_play_button_visible||!1,isSearchedCommentsCountless:e.is_searched_comments_countless||!1,isNotice:e.is_band_notice||!1,isShareable:e.is_shareable||!1,viewType:e.view_type||null,createdAt:e.created_at,isAuthor:!1,commonEmotionType:e.common_emotion_type,isVisibleOnlyToAuthor:e.is_visible_only_to_author,isRecoverableByViewer:e.is_recoverable_by_viewer};return r.isAuthor=o.getUserData().getUserNo()===r.author.get("userNo"),e.searched_comments?r.searchedComments=new t.Collection(e.searched_comments,{model:u,parse:!0}):r.searchedComments=new t.Collection,r},isMutedAuthorPost:function(){var e=this.getAuthor();return!!e&&e.isMutedAuthor()},getAuthor:function(){return this.get("author")},getBandCore:function(){return this.get("band")},getBandNo:function(){return this.getBandCore().bandNo},getBandName:function(){return this.getBandCore().name},getPostNo:function(){return this.get("postNo")},getPostImage:function(){return this.get("image")},getPostContent:function(){return this.get("content")},getPostCommentCount:function(){return this.get("commentCount")},getPostEmotionCount:function(){return this.get("emotionCount")},getPostPhotoCount:function(){return this.get("photoCount")},getPostVideoCount:function(){return this.get("videoCount")},getPostCreatedAt:function(){return this.get("createdAt")},getCommonEmotionType:function(){return this.get("commonEmotionType")},isPostPhotoCountless:function(){return this.get("isPhotoCountless")},destroyPost:function(){return a.deletePost(this.get("band").get("bandNo"),this.get("postNo"))},toJSON:function(){return r.toRecursiveJSON(this)},isAuthorProfileExist:function(){return this.get("viewType")!==c.VIEW_TYPE_ANNIVERSARY},createPostModel:function(){return new s(this.originResponse,{parse:!0})}}),u=t.Model.extend({parse:function(e,t){return e.author&&e.author.is_muted&&(e.body=IM("comment.muted_author_comment.guide_message")),{author:new i(e.author,{parse:!0}),body:e.body,createdAt:e.created_at,commentId:e.comment_id,originCommentId:e.origin_comment_id||null}},toJSON:function(){return r.toRecursiveJSON(this)}});return d}.call(t,n,t,e))||(e.exports=i)},1230:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1042),s=n(1502),o=n(153),r=n(1503),l=n(798),c=n(514),d=n(26),u=n(82),h=n(9),p=n(486),_=n(1505),m=n(553),g=n(562),b=i.View.extend({options:{onBandJoinCompleted:function(e){e&&alert(e),m.home(this.bandCore).go()}},attributes:{"data-viewname":"DInvitationCardView"},template:t.template(s),templateContext:function(){var e=this.model.get("source_info");return{bandCoverUrl:u.makeMediumSquareCoverUrl(this.model.get("band").cover),showReportButton:h.spec.canReport(),bandSettingUrl:e?o.GROUP_BAND_SETTING.makeUrl({band_no:e.band_info.band_no}):"",isApplication:this.model.isApplication(),bandUrl:o.GROUP_BAND_HOME.makeUrl({band_no:this.model.get("band").band_no}),needCheckHelpMessageForKids:this._needCheckHelpMessageForKids}},initialize:function(e){this._needCheckHelpMessageForKids=e.needCheckHelpMessageForKids&&!this.model.isBandForKidsEnabled(),this.model.get("source_info")&&this.listenTo(d.getDGlobalChannel(),d.EVENT.HTML_CLICK,t.bind((function(e){$(e.target).closest(this.ui.blockBandInvitationInfo).length||$(e.target).hasClass(this.ui.btnSourceInfoHelp[0].className)||this.ui.blockBandInvitationInfo.hide()}),this))},ui:{btnClose:"._btnClose",btnDeny:"._btnDeny",btnAccept:"._btnAccept",btnReport:"._btnReport",btnSourceInfoHelp:"._btnSourceInfoHelp",blockBandInvitationInfo:"._blockBandInvitationInfo",btnHelp:"._btnHelp"},events:{"click @ui.btnAccept":"_doAccept","click @ui.btnDeny":"_doDeny","click @ui.btnSourceInfoHelp":"_toggleBlockBandInvitationInfo","click @ui.btnReport":"_reportInvitation","click @ui.btnHelp":"_showHelpLayer"},triggers:{"click @ui.btnClose":"DInvitationCardView:close"},_showHelpLayer:function(){g.openLayer({bodyTitle:IM("invitation.member_under_13.help_title"),bodyDesc:IM("invitation.member_under_13.help_desc"),withoutHiding:!0})},_toggleBlockBandInvitationInfo:function(e){$(e.currentTarget).parents().children("dd").toggle()},_doAccept:function(){var e=this;l.build({onBandJoinCompleted:this.options.onBandJoinCompleted,onRefreshPage:function(t){t&&alert(t),e.triggerMethod("DInvitationCardView:refresh")}}).startJoinFromInvitationCard(this.model.get("invitation_card_id"),this.model.getBandCore())},_doDeny:function(){var e=r.buildAsLayer(this.model);this.listenToOnce(e,"confirmDoDeny",(function(){this.model.deny().then(t.bind((function(){e.destroy(),this.triggerMethod("DInvitationCardView:refresh")}),this))}))},_reportInvitation:function(){c.openInvitationReportPopup({invitationCardId:this.model.get("invitation_card_id"),fnCallback:t.bind((function(){_.openLayer().once(_.EVENTS.CONFIRM,t.bind((function(e){e&&this.model.deny().then(t.bind((function(e){alert(e.message),this.triggerMethod("DInvitationCardView:refresh")}),this))}),this))}),this)})}});return b.buildDInvitationCardView=function(e,t,n){var i={model:e,needCheckHelpMessageForKids:n};return t&&(i.onBandJoinCompleted=t),new b(i)},b.buildAsLayerByInvitationCardId=function(e){return a.buildAsyncFromInvitationCard(e).then((function(e){var t=b.buildDInvitationCardView(e);return p.open(t),t}))},b}.call(t,n,t,e))||(e.exports=i)},1231:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%- IM("web.url_layer.title") %></h1>\n        </header>\n        <div class="main">\n            \x3c!-- alert 메시지 형태 --\x3e\n            <p class="p"><%= IM(\'web.url_layer.status_desc\') %></p>\n            <div class="p -tSpace">\n                <div class="uInput">\n                    <label class="gSrOnly" for="invitationLink">URL</label>\n                    <input type="text" id="invitationLink" readonly="readonly" value="<%- url%>">\n                    <span class="border"></span>\n                </div>\n            </div>\n        </div>\n        <footer class="footer">\n            <button type="button" class="uButton _btnCopyUrl" data-clipboard-target="#invitationLink"><%- IM(\'copy_url.label\') %></button>\n            <button type="button" class="btnLyClose uButton -iconClose _btnClose"><span class="gSrOnly"><%-IM("ui.label.close") %></span></button>\n        </footer>\n    </div>\n</section>'},1232:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(158),o=n(521),r=n(54),l=n(1518),c=n(1520),d=n(510),u=a.Object.extend({initialize:function(e){this.model=e.model,this.profileSettingModel=e.model.get("profileSettingModel"),this.agreementsInfo=o.buildPersonalInfoAgreementData()},openEmailView:function(e){var t=this.model.isEmailExist(),n=this.model.isEmailVerified(),a=this.model.isPasswordExist(),s=this.model.getEmail();this.newEmail=e,this.newEmail?!t||n?this.newEmail!==s&&r.getEmailStatus(this.newEmail).then(i.bind((function(e){"verified"==e.email_status?alert(IM("web.setting.account.same_email")):a?this._sendAuthEmail():this._showConfirmPasswordView()}),this)):this._sendAuthEmail():this._openEmailUseAgreementView()},_openEmailUseAgreementView:function(){if(!this.profileSettingModel.get("agreementsInfo").phoneNumber)return alert(IM("setting.account.email.service_use_agreement.disabled_notice")),!1;d.openLayer({bodyDesc:IM("setting.account.email.service_use_agreement.agree_description"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(d.EVENTS.CONFIRM,i.bind((function(){this.agreementsInfo.cancelPersonalInfoAgreements(o.AGREE_TARGET.EMAIL).then(i.bind((function(){this.trigger("updateEmail:denyAgreement")}),this),(function(){return alert(IM("error.wrong_request")),!1}))}),this))},_showConfirmPasswordView:function(){var e=c.buildAsLayer();this.listenTo(e,"emailChange:updateEmail",i.bind((function(e){this._sendAuthEmail(e)}),this))},_sendAuthEmail:function(e){var t=e||!1;return r.sendAuthEmail(this.newEmail,this.profileSettingModel.get("name")).then(i.bind((function(e){var n=l.buildAsLayer(this.newEmail,this.profileSettingModel.get("name"));this.listenTo(n,"emailVerify:changeEmail",i.bind((function(arguments){this._updateEmail(arguments.email,arguments.verificationToken,t)}),this))}),this))},_updateEmail:function(e,n,a){var s=[];this.model.isInfoAgreementsEmail()||s.push(this._setAgreementsEmail()),s.push(this._connectEmail(e,n,a)),t.when.apply(t,s).then(i.bind((function(){this.trigger("authorization:complete",this.profileSettingModel)}),this))},_setAgreementsEmail:function(){var e=o.AGREE_TARGET.EMAIL;return this.agreementsInfo.setPersonalInfoAgreements(e).then((function(e){return e}))},_connectEmail:function(e,n,i){return this.model.getEmail()===e?t.Deferred().resolve().promise():r.connectEmail(n,i).then((function(e){return e}))}});return u.Model=Backbone.Model.extend({getEmail:function(){return this.get("email")},isEmailExist:function(){return this.get("bEmailExist")},isEmailVerified:function(){return this.get("bEmailVerified")},isPasswordExist:function(){return this.get("bPasswordExist")},isInfoAgreementsEmail:function(){return this.get("bInfoAgreementsEmail")}}),u.Model.build=function(e){return new u.Model({profileSettingModel:e,email:e.get("email"),bEmailExist:!s.isEmpty(e.get("email")),bEmailVerified:e.isEmailVerified(),bPasswordExist:e.isPasswordExist(),bInfoAgreementsEmail:e.get("agreementsInfo").email})},u.buildController=function(e){var t=u.Model.build(e.profileSettingModel);return new u({model:t})},u}.call(t,n,t,e))||(e.exports=i)},1233:function(e,t,n){var i=n(0),a=n(10),s=n(1101);t.MIN_MEMBER_CAPACITY=3,t.MAX_MEMBER_CAPACITY=30,t.DEFAULT_MEMBER_CAPACITY=3;t.MIN_NAME_LENGTH=3;t.MAX_NAME_LENGTH=50;var o={TOO_SHORT:"TOO_SHORT",TOO_LONG:"TOO_LONG",HAS_INVALID_CHAR:"HAS_INVALID_CHAR"};t.NameValidationResult=o,t.validateName=function(e){return a.isBlank(e)||e.length<3?o.TOO_SHORT:e.length>50?o.TOO_LONG:i.some(e,(function(t,n){return!s.isCharacterInBMP(e,n)}))?o.HAS_INVALID_CHAR:void 0},t.MIN_LOCAL_DESCRIPTION_LENGTH=50,t.MIN_DESCRIPTION_LENGTH=50,t.MIN_MISSION_DESCRIPTION_LENGTH=50},1240:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),a=n(4),s=n(82),o=n(157),r=n(1285),l=n(795),c=n(164),d=n(487),u=n(153),h=n(162),p=n(13),_={W93:"-w93",W80:"-w80",W60:"-w60"},m=a.View.extend({attributes:function(){return{"data-viewname":"DDiscoverListTypeSectionItemView"}},behaviors:[d],template:t.template(r),templateContext:function(){return{bandCoverClass:this._bandCoverClass,showBandMemberInfo:this._showBandMemberInfo}},tagName:"li",className:"cCoverItem",ui:{moreBandLink:"._moreBandLink"},events:{"click ._goBand":"_showBandPreview",intersect:function(e,n){if(n.isIntersecting){if(n.intersectionRatio<1)return;this._exposureLoggingTimer=setTimeout(t.bind((function(){this._sendExposureLog(),this._exposureLoggingTimer=null}),this),500)}else this._exposureLoggingTimer&&clearTimeout(this._exposureLoggingTimer)},"click @ui.moreBandLink":function(){this.jplClick(d.CLASSIFIER.RECOMMEND_KEYWORD_NAME,{keyword_name:this.model.getKeyword()})}},initialize:function(e){this._bandCoverClass=e.bandCoverClass||_.W93,this._showBandMemberInfo=!0,t.has(e,"showBandMemberInfo")&&(this._showBandMemberInfo=e.showBandMemberInfo),this._itemExposureObserver=e.itemExposureObserver,this._exposureLoggingTimer=null},serializeData:function(){var e="";return!t.isEmpty(this.model.getKeyword())&&p.canAccessBandSearchForGuardianship()&&(e=o.GLOBAL_SEARCH.makeUrl({query:encodeURIComponent(this.model.getKeyword())})),{memberCount:i.numberFormat(this.model.getMemberCount()),thumbnailCoverImage:s.make(this.model.getCoverUrl(),c.s276),bandName:this.model.getBandName(),leaderName:this.model.getLeaderName(),description:this.model.getDescription(),keyword:this.model.getKeyword(),keywordSearchUrl:e,certified:this.model.isCertified(),bandUrl:u.GROUP_BAND_HOME.makeUrl({band_no:this.model.getBandNo()}),isLive:this.model.isLive()}},onAttach:function(){this._itemExposureObserver&&this._itemExposureObserver.observe(this.el)},onBeforeDetach:function(){this._exposureLoggingTimer&&clearTimeout(this._exposureLoggingTimer),this._itemExposureObserver&&this._itemExposureObserver.unobserve(this.el)},onDestroy:function(){this.off("intersect")},_showBandPreview:function(){var e=this.model.getBandNo(),t=this.model.getBandCore().makeBandRouteUrl(u.GROUP_BAND_HOME,h.PAGE_BAND_HOME,{band_no:e});return this.jplClick(d.CLASSIFIER.RECOMMEND_BAND,{band_name:this.model.getBandName(),band_no:e,band_keyword:this.model.getKeyword()},e),l.openPreviewBandWindowByClick(t),!1},_sendExposureLog:function(){this.jplExposure(d.CLASSIFIER.RECOMMEND_BAND,{band_no:this.model.getBandNo(),band_name:this.model.getBandName()})}});return m.BAND_COVER_CLASS=_,m}.call(t,n,t,e))||(e.exports=i)},1266:function(e,t,n){var i=n(0),a=n(6),s=n(1703),o=n(1008),r=n(1582),l=n(605),c=a.Collection.extend({model:s,modelId:function(e){return e.bandNo||e.band_no},fetch:function(e,t,n,i){return e?(this._params={platform:"WEB",displayCount:i||20,userRegionCode:e,keywordGroup:t,keyword:n},this._fetch()):(window.isMobileView&&this.add(r.buildRegionError()),l.resolve())},fetchMore:function(){!this._fetching&&this._params&&(this._fetching=!0,this._fetch().always(i.bind((function(){this._fetching=!1}),this)))},_fetch:function(){return o.getRcmdRegionBandList(this._params).then(i.bind((function(e){var t=e.next_paging_param,n=i.map(e.card_list,(function(e,t){var n=e.bands[0];return n.index=this.length+t,n.cardContentLineage=e.content_lineage,n}),this);if(t?this._params.pagingParam=t:this._params=null,this._addEtcModel(n),this.add(n,{parse:!0}),this._params&&this.length<this._params.displayCount)return this._fetch()}),this))},_addEtcModel:function(e){if(window.isMobileView){var t=this.length+e.length;this.length<12&&12<=t&&e.splice(11,0,r.buildRecruitBtn()),this._params||(0===t?e.push(r.buildEmptyResult()):(e.push(r.buildNotification()),e.push(r.buildSearchBtn())))}}});c.build=function(e){return new c(e,{parse:!0})},e.exports=c},1267:function(e,t,n){var i=n(0),a=n(711),s=n(157),o=n(663),r=n(605),l="gps",c="ip",d="user_select",u={source:null};function h(e){this._position=e,this._locationId=null,this._isGps=!1}h.prototype.go=function(){u.source=this._isGps?l:c;var e=s.GLOBAL_DISCOVER_LOCATION.makeUrl({location_id:this._locationId||""});o.goToUrl(e)},h.prototype.fetch=function(){var e={fields:"id"},t=this._position?this._position.coords:null;return t&&(e.longitude=t.longitude,e.latitude=t.latitude),a.getDiscoverLocation(e).then(i.bind((function(e){var n=e?e.id:null;n&&(this._locationId=n,this._isGps=!!t)}),this))},h.fetch=function(e){var t=new h(e);return t.fetch().then(null,r.resolve).then((function(){return t}))},h.clearLocationSourceStore=function(e){var t=u.source;return u.source=null,e?t||d:c},e.exports=h},1268:function(e,t,n){var i,a;i=[n(6),n(9),n(1018)],void 0===(a=function(e,t,n){return e.Model.extend({defaults:{noticeList:[],noResult:!0,noticeNo:"",title:"",contents:"",displayStartYmdt:""},fetchNoticeList:function(e){n.getNoticeList(e).then(_.bind((function(e){this.set("noticeList",e.noticeList||[])}),this)).always(_.bind((function(){this.trigger("fetch:noticeList")}),this))},fetchNotice:function(e){n.getNotice(this.get("noticeNo"),e).then(_.bind((function(e){var t=e.notice;t&&(this.set(t),this.set("noResult",!1))}),this)).always(_.bind((function(){this.trigger("fetch:notice")}),this))}})}.apply(t,i))||(e.exports=a)},1274:function(e,t,n){var i;void 0===(i=function(e){var t=n(1230),i=n(1507);return{showDInvitationLayerView:function(e){return t.buildAsLayerByInvitationCardId(e)},buildDInvitationTypeView:function(e){return new i({model:e})}}}.call(t,n,t,e))||(e.exports=i)},1276:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4);return i.Behavior.extend({initialize:function(e){if(!(this.view instanceof i.CollectionView))throw new Error("this behavior is only for CollectionView");this._lastObservee=null,this._intersectionObserver=new IntersectionObserver((function(n){t.each(n,(function(t){t.isIntersecting&&e.fetchMoreFunc()}),this)}),{threshold:[0]})},onAddChild:function(e,t){e.collection.indexOf(t.model)<e.collection.length-1||(this._lastObservee&&(this._intersectionObserver.unobserve(this._lastObservee.el),this.stopListening(this._lastObservee,"before:destroy")),this._intersectionObserver.observe(t.el),this.listenToOnce(t,"before:destroy",(function(){this._intersectionObserver.unobserve(t.el)})),this._lastObservee=t)},onDestroy:function(){this._lastObservee&&(this._intersectionObserver.unobserve(this._lastObservee.el),this.stopListening(this._lastObservee,"before:destroy")),this._intersectionObserver.disconnect()}})}.call(t,n,t,e))||(e.exports=i)},1277:function(e,t,n){var i=n(0),a=n(10),s=n(1319),o=n(1207),r=n(904),l=n(83),c=n(663),d=n(605),u=n(668),h=n(154);function p(e){var t='<em class="gFontEmphasizeGreen">'+e.getName()+"</em>",n={bodyTitle:IM("local_band.current_region_recruit_title",{region:t}),bodyDesc:IM("local_band.current_region_recruit_desc"),alignCenter:!0,confirm:IM("local_band.current_region_recruit_btn"),cancel:IM("ui.label.close"),withoutHiding:!0};u.openConfirm(n).confirm((function(){l.checkForCreatingRecruitingBand("local").then((function(){var t=c.getLocalBandLfgUrl(e.getRcode(),e.getName());c.goToUrl(t)}))}))}function _(e){a.isBlank(e)||u.openSimpleAlert(e)}function m(e,t){var n=function(e){return s.requestCurrentPositionWithAgreement().then((function(t){return o.fetchRegion(t,e)}))}(t||!1);return h.wrapActivePromise(n,e).then(null,_)}var g={fetchRegion:m,fetchFeedRegionBandList:function(e){return m(e,!0).then((function(t){var n=r.getFeedRegionBandList(t.getRcode());return h.wrapActivePromise(n,e).then((function(e){return i.isEmpty(e)||i.isEmpty(e.band_list)?(p(t),d.reject()):e}))}))},fetchDiscoverHomeLocalBand:function(e,t){return m(e,!0).then((function(n){var i=t.refreshLocalBandByRcode(n.getRcode());return h.wrapActivePromise(i,e).then(null,(function(e){switch(e.type){case e.EMPTY_RCODE_BAND:p(n);break;case e.API_FAILED:_(e.message)}}))}))}};e.exports=g},1285:function(e,t){e.exports='<div class="bandUri">\n    <div class="cover">\n        <div class="uCoverImage -border <%= bandCoverClass %>">\n            <span class="coverInner">\n                <img src="<%- thumbnailCoverImage %>" class="coverImg" alt="<%- bandName %>">\n            </span>\n        </div>\n    </div>\n\n    <div class="bandName">\n        <strong class="name">\n            <a href="<%- bandUrl %>" class="text _goBand">\n                <% if (certified) { %>\n                <span class="uOfficialBand -sizeS"><%= IM(\'ui.official_band\') %></span>\n                <% } %>\n                <%- bandName %>\n            </a>\n\n            <% if (isLive) { %>\n            <span class="gMarkLive -w26"><%= IM(\'ui.label.live\') %></span>\n            <% } %>\n        </strong>\n        <p class="pSubTxt"><%- description %></p>\n        <% if (showBandMemberInfo) { %>\n        <p class="member"><span class="total"><%= IM(\'web.common.members\') %> <strong class="totalNumber"><%= memberCount%></strong></span><span class="leader"><%= IM(\'web.band.member.role.leader\') %> <strong><%- leaderName %></strong></span></p>\n        <% } %>\n        <% if(keywordSearchUrl) { %>\n        <a href="<%- keywordSearchUrl %>" class="moreBandLink _moreBandLink"><%= IM(\'keyword.more_keyword_band\', {keyword : keyword}) %></a>\n        <% } %>\n    </div>\n    <% // 투명 박스 영역으로 전체 클릭할 수 있도록 수정    %>\n    <a href="<%- bandUrl %>" class="bandLink _goBand"><span class="gSrOnly"><%- IM(\'ui.label.more.long\') %></span></a>\n</div>'},1416:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(83),a=n(1417),s=n(612),o=n(13),r=n(167),l=n(166),c={PAID_AD:"biz_cover_ad",INTERNAL_AD:"band_list_ad"},d={BAND_CREATE:"BAND_CREATE",INVITATION:"INVITATION",GROUP_BAND:"GROUP_BAND",AD:"AD",BAND_GUIDE:"BAND_GUIDE"},u={FETCH_COMPLETED:"fetch:Completed",NEXT_BANDS_END:"fetch:nextBands:end"},h=Backbone.Collection.extend({initialize:function(){this._nextBands=null,this._lasts=null,this._fetching=!1,this._bandCreate=null,this._bandCount=0,this._inviationCards=null,this.bandCreationSet=null},fetch:function(e){return e=t.extend({includingItemTypes:t.values(d),gradually:!1,first:0,includingPaidAd:!0},e),i.getBandList(["band_creation_set_day"]).then(t.bind((function(t){this._bandCount=t.joined_bands_count,this.bandCreationSet=t.band_creation_set_day;var n=this._extractAll(t,e.includingItemTypes,e.includingPaidAd,e.bandType),i=this._convertToModels(n),a=e.first;return a>0&&(this._nextBands=i.slice(a,i.length),this._lasts=i.slice(a),i.splice(a,this._nextBands.length)),e.gradually?(this.reset([]),s.addGradually(this,i)):this.reset(i),this.trigger(u.FETCH_COMPLETED,i.length),this}),this))},fetchNextBands:function(){!this._fetching&&this.hasMoreBands()&&(this._fetching=!0,!t.isEmpty(this._lasts)&&this.remove(this._lasts),s.addGradually(this,this._nextBands).then(t.bind((function(){!t.isEmpty(this._lasts)&&this.add(this._lasts),this._nextBands=null,this._fetching=!1,this.trigger(u.NEXT_BANDS_END)}),this)))},hasMoreBands:function(){return!t.isEmpty(this._nextBands)},getBandCount:function(){return this._bandCount},hasBandList:function(){return this.getBandCount()>0},_convertToModels:function(e){return t.map(e,(function(e){return a.build(e)}))},_extractAll:function(e,n,i,a){var s=[this._extractInvitationCards(e,n),this._extractBands(e,n,a),this._extractAdvertisements(e,n,i)];return o.isNotKid()&&(s.unshift(this._extractBandCreate(n)),s.push(this._extractBandGuide(e,n))),t.union(t.flatten(s))},_extractBands:function(e,n,i){if(!t.contains(n,d.GROUP_BAND))return[];var a=i?e.items.filter((function(e){return e.band.type===i})):e.items;return t.map(a,t.bind((function(e){var t=this._getAccessStatus(e.band.updated_at_status,e.member.accessed_at);return $.extend({},e.band,{isBand:!0,lookType:"band",isLive:e.live,access_status:t})}),this))},_extractInvitationCards:function(e,n){return!t.contains(n,d.INVITATION)||t.isEmpty(e.invitation_cards)?[]:(this._inviationCards=t.map(e.invitation_cards,(function(e){var t=$.extend({},e);return delete t.band,$.extend({},e.band,{invitationCard:t,isInvitation:!0,lookType:"invited"})})),this._inviationCards)},getInvitationCards:function(){return this._inviationCards},getInvitationCardCount:function(){return!!this._inviationCards&&this._inviationCards.length||0},hasInvitationCard:function(){return this.getInvitationCardCount()>0},_extractAdvertisements:function(e,n,i){return!t.contains(n,d.AD)||t.isEmpty(e.ads)?[]:t.chain(e.ads).filter((function(e){return!!i||e.ad_type!=c.PAID_AD})).map((function(e){return e.isPaidAd=e.ad_type==c.PAID_AD,$.extend({},e,{isAdvertisement:!0,advertisement:e,lookType:"biz"})})).value()},_extractBandCreate:function(e){return t.contains(e,d.BAND_CREATE)?(this._bandCreate={isBandCreate:!0,lookType:"create",name:IM("web.bandlist.bandcreate")},[this._bandCreate]):[]},getBandCreate:function(){return this._bandCreate},hasBandCreate:function(){return!!this.getBandCreate()},_extractBandGuide:function(e,n){if(!t.contains(n,d.BAND_GUIDE)||t.isEmpty(e.guide))return[];var i=r.getCurrentUserEnvStorage(),a=o.getUserData().getUserNo(),s=i.get([l.BandGuideAccessTime,a]),c=e.guide.updated_at>s;return this._bandGuide=t.extend(e.guide,{isUpdate:c}),this._bandCount>0?[]:[{isBandGuide:!0,bandGuide:e.guide,lookType:"guide",name:IM("web.bandlist.bandguide"),isUpdate:c}]},getBandGuide:function(){return this._bandGuide},hasBandGuide:function(){return!!this.getBandGuide()},getBandCreationSet:function(){return this.bandCreationSet},_getAccessStatus:function(e,t){return{updated:e.post>t.post||e.photo>t.post||e.schedule>t.post||e.file>t.post}}});return h.BAND_LIST_AD_TYPE=c,h.ITEM_TYPE=d,h.FETCH_EVENT=u,h}.call(t,n,t,e))||(e.exports=i)},1417:function(e,t,n){var i,a;i=[n(2),n(0),n(6)],void 0===(a=function(e,t,n){var i=n.Model.extend({idAttribute:"bandNo",defaults:{certified:!1,invitation:{},advertisement:{},isInvitation:!1,isAdvertisement:!1,isBand:!1,isBandCreate:!1,isBandSearch:!1,isBandGuide:!1,isNew:!1,cover:window.resBaseUrl+"/images/template/cover_template.gif",recruitingMemberCapacity:0},isInvitation:function(){return!0===this.get("isInvitation")},isAdvertisement:function(){return!0===this.get("isAdvertisement")},isBand:function(){return!0===this.get("isBand")},isBandCreate:function(){return!0===this.get("isBandCreate")},isBandGuide:function(){return!0===this.get("isBandGuide")},isBandSearch:function(){return!0===this.get("isBandSearch")}});return i.build=function(e){return new i(e)},i}.apply(t,i))||(e.exports=a)},1437:function(e,t){e.exports={DISCOVER_HOME:"DISCOVER_HOME",LFG_RESULT:"LFG_RESULT",LOCAL_BAND:"LOCAL_BAND"}},1438:function(e,t,n){var i=n(0),a=n(6),s=n(1100),o=n(1010),r=n(506),l=a.Collection.extend({model:s,initialize:function(e,t){this._bandNo=t.bandNo},search:function(e){return this._search(e)},searchMore:function(){this._fetching||i.isEmpty(this._params)||this._search()},getQuery:function(){return r.get(this._params,"query")},_search:function(e){return e&&(this._params={query:e,band_no:this._bandNo}),this._fetching=!0,o.searchRegion(this._params).then(i.bind((function(t){var n=t.items,a=t.paging.next_params;a?i.extend(this._params,a):this._params=null,e?this.reset(n,{parse:!0}):this.add(n,{parse:!0})}),this)).always(i.bind((function(){this._fetching=!1}),this))},fetchHistory:function(){return o.getUserRegionSearchHistory(this._bandNo).then(i.bind((function(e){this.reset(e.items,{parse:!0})}),this))}});l.build=function(e){return new l(null,{bandNo:e})},e.exports=l},1439:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(711),s=n(1011),o=n(154),r={PAGE:"page",REPRESENT:"represent",KEYWORD:"keyword"},l={fetchTotalGroupKeywordsPopularBands:function(e,n){var s=i.Deferred();return o.wrapActivePromise(i.when(this.fetchKeywordsAndPopularBands(e,n),a.getKeywordGroups()),n).then((function(e,n){s.resolve(t.extend(e,{keywordGroups:n.keyword_groups}))}),(function(){s.reject()})),s},fetchKeywordsAndPopularBands:function(e,t){var n=i.Deferred();return o.wrapActivePromise(i.when(this.fetchKeywordsByGroupName(e,t),this.fetchKeywordGroupPopularBands(e,t)),t).then((function(e,t){n.resolve({keywords:e,keywordBandData:t})}),(function(){n.reject()})),n},fetchKeywordsByGroupName:function(e,n){return o.wrapActivePromise(a.getKeywords(e),n).then((function(e){var n=e||{},i=n.represent,a=n.page,s=t.map(n.keywords,(function(e){return{keyword:e,type:r.KEYWORD}}));return a&&s.unshift({keyword:a,type:r.PAGE}),i&&s.unshift({keyword:i,type:r.REPRESENT}),s}))},fetchKeywordGroupPopularBands:function(e,t){return o.wrapActivePromise(a.getKeywordGroupPopularBands(e),t).then((function(e){return{items:e.items,simpleBandArray:s.makeBandInfoArray(e.items),paging:{}}}))},fetchKeywordGroupPageBands:function(e,t){return o.wrapActivePromise(a.getKeywordGroupPageBands(e),t).then((function(e){return{items:e.items,simpleBandArray:s.makeBandInfoArray(e.items),paging:{}}}))},fetchKeywordBands:function(e,t,n,i){return o.wrapActivePromise(a.getKeywordBands(e,n,i),t).then((function(e){return{items:e.items,simpleBandArray:s.makeBandInfoArray(e.items),paging:e.paging||{}}}))},fetchKeywordBandsWithGroup:function(e,t,n){return o.wrapActivePromise(i.when(this.fetchKeywordsByGroupName(e,n),a.getKeywordGroups()),n).then((function(e,t){return{keywords:e,keywordGroups:t.keyword_groups}}))}};return l.KEYWORD_TYPE=r,l}.call(t,n,t,e))||(e.exports=i)},1502:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w380">\n        <header class="header">\n            <h1 class="title"><%- IM("web.invitation.title") %></h1>\n        </header>\n\n        <div class="main -spaceNone">\n            <div class="profileInfo">\n                <p class="roundCover">\n                    <a href="#" role="button" class="uCoverImage -w140 -circle -border">\n                        <span class="coverInner">\n                            <img src="<%- bandCoverUrl %>" width="140" height="140" class="coverImg" alt="<%-band.name%>">\n                        </span>\n                    </a>\n                </p>\n\n                <div class="userInfo">\n                    <h1 class="userName <% if (band.certified) { %> -official<% } %>">\n                        <% if (band.certified) { %>\n                            <span class="gSrOnly"><%= IM(\'ui.official_band\') %></span>\n                        <% } %>\n\n                        <%-band.name%>\n                    </h1>\n\n                    <p class="inviteInfo"><%= IM("invitation.inviting_your_description", {\'inviter\': _.escape(inviter.name)}) %></p>\n\n                    <% if (band.description) { %>\n                    <p class="desc"><%- band.description %></p>\n                    <% } else if (member_count > 1) { %>\n                    <p class="desc"><%= IM("desktop.invitation.label.with_members", {\'memberCount\': member_count}) %></p>\n                    <% } else { %>\n                    <p class="desc"><%= IM("web.invitation.with_us") %></p>\n                    <% } %>\n                    <% if (band.open_type == "public") { %>\n                    <p class="link"><a href="<%- bandUrl %>"><%- IM("invitation.message.preview") %></a></p>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n\n        <footer class="footer">\n            <% if (isApplication) { %>\n            <button type="button" class="uButton -cancel -sizeL -lrSpace20 _btnDeny"><%= IM("web.invitation.btn.delete_invitation") %></button>\n            <button type="button" class="uButton -confirm -sizeL -lrSpace20 _btnAccept"><%= IM("web.invitation.btn.apply_join") %></button>\n            <% } else { %>\n            <button type="button" class="uButton -cancel -sizeL -lrSpace20 _btnDeny"><%= IM("web.invitation.btn.deny") %></button>\n            <button type="button" class="uButton -confirm -sizeL -lrSpace20 _btnAccept"><%= IM("web.invitation.btn.accept") %></button>\n            <% } %>\n\n            <% if (show_ad_agreement) { %>\n            \x3c!-- 비즈 밴드인 경우 안내문구 --\x3e\n            <p class="bizAdDesc"><%= IM(\'bandjoin.desc.ad_agreement.group_band\') %></p>\n            <% } %>\n\n            <% if (source_info) { %>\n            <div class="inviteInfo">\n                <%= IM("web.invitation.desktop_source_info", {\'sourceBandName\' : source_info.band_info.name, \'sourceInviterName\': source_info.inviter_profile.name}) %>\n\n                <dl class="uHelpGuide -small -fs13 -up -right">\n                    <dt><button type="button" class="_btnSourceInfoHelp"><span class="gSrOnly">help</span></button></dt>\n                    <dd class="_blockBandInvitationInfo" style="width:290px;">\n                        <%= IM("invitation.help.deny_invitation", {bandName: source_info.band_info.name}) %>\n                        <br>\n                        <a href="<%- bandSettingUrl %>" class="uButton -textUnderline gMat8"><%- IM("web.invitation.btn.go_setting") %></a>\n                    </dd>\n                </dl>\n            </div>\n            <% } %>\n            <% if (showReportButton) { %>\n            <button type="button" class="uButton -textUnderline btnReport _btnReport"><%= IM("web.invitation.btn.report") %></button>\n            <% } %>\n            <button type="button" class="uButton -iconClose btnLyClose _btnClose"><span class="gSrOnly"><%- IM("web.invitation.btn.close") %></span></button>\n\n            <% if (needCheckHelpMessageForKids) { %>\n            <div class="inviteInfo gMat20">\n                <span class="inviteInfoText"><%- IM(\'invitation.member_under_13.help_title\') %></span><button type="button" class="buttonHelp _btnHelp"><span class="iconQuestionMark"></span><span class="gSrOnly"><%- IM(\'ui.label.help\') %></span></button>\n            </div>\n            <% } %>\n        </footer>\n    </div>\n</section>'},1503:function(e,t,n){var i,a;i=[n(2),n(4),n(1504),n(486),n(185)],void 0===(a=function(e,t,n,i,a){var s=t.View.extend({template:_.template(n),templateContext:{},attributes:{"data-viewname":"DenyInvitationView"},ui:{btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",checkInput:"._checkInput"},events:{"click @ui.btnConfirm":"_doDeny","click @ui.btnCancel":"destroy","change @ui.checkInput":"_toggleEnabled"},serializeData:function(){return e.extend(this.model.toJSON(),{hasSourceInfo:this.model.hasSourceInfo()})},_toggleEnabled:function(){this.ui.checkInput.is(":checked")?this.ui.btnConfirm.removeAttr("disabled"):this.ui.btnConfirm.attr("disabled",!0)},_doDeny:function(){(!this.model.hasSourceInfo()||this.model.hasSourceInfo()&&this.ui.checkInput.is(":checked"))&&this.triggerMethod("confirmDoDeny")}});return s.buildAsLayer=function(e){var t=new s({model:e});return i.open(t),t},s}.apply(t,i))||(e.exports=a)},1504:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent">\n        <% if (hasSourceInfo) { %>\n        <header class="header -noTitlebar">\n            <h1 class="title"><%= IM("web.invitation.confirm.check_deny.title") %></h1>\n        </header>\n\n        <div class="main">\n            <p class="p"><%= IM("deny_invitation.label.check_again") %></p>\n\n            <div class="selectArea">\n                <label for="checkbox" class="uCheck -checkbox ">\n                    <input type="checkbox" id="checkbox" class="checkInput _checkInput">\n                    <span class="checkLabel">\n                        <span class="shape"></span>\n                        <span class="text"><%= IM("deny_invitation.label.checked") %></span>\n                    </span>\n                </label>\n            </div>\n        </div>\n        <% } else { %>\n        <div class="main">\n            <p class="p"><%= IM("web.invitation.confirm.check_deny.title") %></p>\n        </div>\n        <% } %>\n\n\n        <footer class="footer">\n            <button type="button" class="uButton -cancel _btnCancel"><%- IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -confirm _btnConfirm" <% if (hasSourceInfo) { %> disabled="disabled" <% } %>><%- IM("deny_invitation.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},1505:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(486),s=n(1506),o={CONFIRM:"modal:confirm"},r=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DInvitationReportedAlertLayerView"},template:t.template(s),ui:{checkboxDeleteInvitation:"._checkboxDeleteInvitation",btnConfirm:"._btnConfirm"},events:{"click @ui.btnConfirm":function(){var e=this.getUI("checkboxDeleteInvitation").prop("checked");this.trigger(o.CONFIRM,e),this.destroy()}},onAttach:function(){this.ui.btnConfirm.focus()}});return r.EVENTS=o,r.openLayer=function(){var e=new r;return a.open(e),e},r}.call(t,n,t,e))||(e.exports=i)},1506:function(e,t){e.exports='<div class="lyContent">\n    <div class="modalBody">\n        <div class="headingMsg"><%= IM(\'report.req_done.message\') %></div>\n        <div class="msgWrap">\n            <p class="pText gMat12">\n                <label for="deleteCheckbox" class="uCheck -checkbox">\n                    <input type="checkbox" id="deleteCheckbox" class="checkInput _checkboxDeleteInvitation" value="quit">\n                    <span class="checkLabel">\n                        <span class="shape"></span>\n                        <span class="text"><%= IM(\'report.req_done.option.label.invitation_deny\') %></span>\n                    </span>\n                </label>\n            </p>\n        </div>\n    </div>\n    <div class="modalFooter">\n        <button type="button" class="uButton -confirm _btnConfirm"><%= IM("ui.label.confirm") %></button>\n    </div>\n</div>'},1507:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1508),s=n(1509),o=n(1166),r=n(1511),l=n(1514),c=n(527),d=n(1516),u=n(581),h=n(13),p=n(1034),_=n(589),m=n(548),g=n(907),b=n(154),f=n(160),v=n(486),C=n(9),y=n(22),I=n(1097),w=n(1039),E=n(510),L=n(153);return i.View.extend({template:t.template(a),attributes:{"data-viewname":"DInvitationTypeView","aria-live":"polite"},ui:{btnCafe:"._btnCafe",btnBand:"._btnBand",btnLink:"._btnLink",btnInviteCode:"._btnInviteCode",btnQrCode:"._btnQrCode",usingLinkCount:"._usingLinkCount",contentsEmptyMsg:"._contentsEmptyMsg",linkDisplayCountOverMsg:"._linkDisplayCountOverMsg",btnAddUnder13:"._btnAddUnder13"},events:{"click @ui.btnCafe":"_inviteByCafe","click @ui.btnBand":"_inviteByBand","click @ui.btnLink":"_inviteByLink","click @ui.btnInviteCode":"_showInviteCode","click @ui.btnQrCode":"_inviteByQrCode","click @ui.btnAddUnder13":"_onClickBtnAddUnder13"},templateContext:function(){return{canCafeInvite:C.spec.canCafeInvite(),canShowEnableBandForKidsSuggestion:this.model.canShowEnableBandForKidsSuggestion()}},__makeInvitationMessage:function(e){return m.makeInvitationMessage(this.model.getBandNo(),e).always(t.bind((function(){this._renderUsingLinksCount()}),this))},_inviteByLink:function(){this.__makeInvitationMessage("url").then((function(e){o.openAsLayer(e)}))},_inviteByCafe:function(e){e.preventDefault(),this.__makeInvitationMessage("cafe_member").then((function(e){s.openAsLayer(e)}))},_inviteByQrCode:function(){var e=this.model.getBandNo();this.__makeInvitationMessage("qr_code").then((function(t){l.openAsLayer(e,t)}))},_inviteSelectedBandMembers:function(e,n){var i=t.map(n.selectedMembers,(function(e){return e.getUserNo()}));m.inviteByBandMembers(this.model.getBandNo(),i.join(","),e).then((function(){alert(IM("web.invitemember.alert.message_sent")),v.closeAll()}),(function(){v.closeAll()}))},_inviteByBand:function(){var e=I.openLayer({title:IM("web.inviteband.btn.choice_band"),selectionType:I.SELECTION_TYPE.SINGLE_SELECT,excludedBandNos:[this.model.getBandNo()],bandTypes:[y.BAND_TYPE.GROUP],groupBandFilters:[w.BAND_FILTER.INVITE_MEMBER],pageBandFilters:[]});this.listenTo(e,"singleBand:selected",(function(e){var n=g.openDMemberSelectionView(),i=c.buildBandMemberWithFilterDataCollection(e.bandNo,f.INVITE_MEMBER,100),a=c.buildBandMemberWithFilterDataCollection(e.bandNo,f.INVITE_MEMBER,100);b.wrapActivePromise(i.fetchBandMemberWithFilterDataCollection(),this).then(t.bind((function(){n.renderMemberListToSelect({memberModels:i.toMemberSelectionViewModels(),memberGroupSelectSupport:i.hasMemberGroup(),showSearchMoreMemberBtn:i.hasMoreMember()})}),this)),this.listenTo(n,g.EVENT.MEMBER_SELECTION_MEMBER_SELECT_CLICK,(function(e){n.selectMember(e.selectedMember)})),this.listenTo(n,g.EVENT.MEMBER_SELECTION_MEMBER_DESELECT_CLICK,(function(e){n.deselectMember(e)})),this.listenTo(n,g.EVENT.MEMBER_SELECTION_MEMBER_PROFILE_CLICK,(function(t){_.openMembershipProfileLayer({name:t.name,profileImageUrl:t.profileImageUrl,userNo:t.userNo,bandNo:e.bandNo})})),this.listenTo(n,g.EVENT.MEMBER_SELECTION_SEARCH,(function(e){b.wrapActivePromise(a.searchBandMemberWithFilterDataCollection(e),this).then((function(){n.renderMemberListToSelect({memberModels:a.toMemberSelectionViewModels(),memberGroupSelectSupport:i.hasMemberGroup(),showSearchMoreMemberBtn:a.hasMoreMember()})}))})),this.listenTo(n,g.EVENT.MEMBER_SELECTION_INPUT_EMPTY,(function(){n.renderMemberListToSelect({memberModels:i.toMemberSelectionViewModels(),memberGroupSelectSupport:i.hasMemberGroup(),showSearchMoreMemberBtn:i.hasMoreMember()})})),this.listenTo(n,g.EVENT.MEMBER_SELECTION_COMPLETE,(function(t){this._inviteSelectedBandMembers(e.bandNo,t)})),this.listenTo(n,g.EVENT.MEMBER_SELECTION_MEMBER_GROUP_CLICK,(function(){var i=p.buildMemberGroupSelectView(e.bandNo);this.listenTo(i,"memberGroupView:selectedMemberGroups",(function(e){t.chain(e).filter((function(e){return!h.isMe(e.userNo)})).map((function(e){return u.buildMemberSelectionViewModel({userNo:e.userNo,userName:e.name,description:e.description,profileImageUrl:e.profileImageUrl,isKid:e.isKid})})).each((function(e){n.selectMember(e)})).value()}))}))}))},_showInviteCode:function(e){e.preventDefault(),d.openAsLayer({bandNo:this.model.getBandNo()})},onAttach:function(){if(!this.model.isInvitationPermitted())return alert(IM("invitation.message.authorized_member_only")),void history.back();this._initUsingLinksView(),this._renderUsingLinksCount()},_initUsingLinksView:function(){this.ui.linkDisplayCountOverMsg.hide(),this.ui.contentsEmptyMsg.hide(),this.ui.usingLinkCount.hide(),this.usingInvitationLinksView=r.build({el:"._linkListWrap",bandNo:this.model.getBandNo()}),this.usingInvitationLinksView.render(),this._invitationCollection=this.usingInvitationLinksView.collection,this.listenTo(this._invitationCollection,"remove",(function(){var e=this._invitationCollection.length;e>0?this.ui.usingLinkCount.text(e):(this.ui.usingLinkCount.hide(),this.ui.contentsEmptyMsg.show())})),this.listenTo(this._invitationCollection,"reset",(function(){this._invitationCollection.length>=100?this.ui.linkDisplayCountOverMsg.show():this.ui.linkDisplayCountOverMsg.hide()}))},_renderUsingLinksCount:function(){this.usingInvitationLinksView.draw().then(t.bind((function(){if(!this.isDestroyed()){var e=this._invitationCollection.length;this.ui.usingLinkCount.text(e),e>0?(this.ui.usingLinkCount.text(e),this.ui.usingLinkCount.show(),this.ui.contentsEmptyMsg.hide()):this.ui.contentsEmptyMsg.show()}}),this))},_onClickBtnAddUnder13:function(){E.openLayer({bodyDesc:IM("member_invite.add_under_13.ly_desc"),confirm:IM("web.invitation.btn.go_setting"),cancel:IM("ui.label.close")}).once(E.EVENTS.CONFIRM,t.bind((function(){L.GROUP_BAND_SETTING.goDForced({band_no:this.model.getBandNo()})}),this))}})}.call(t,n,t,e))||(e.exports=i)},1508:function(e,t){e.exports='<section class="sMemberInvite gBoxShadow">\n    <div class="uHeaderWrap ">\n        <header class="header">\n            <h1 class="title"><%- IM(\'web.memberinvite.title\') %></h1>\n        </header>\n    </div>\n    <div class="inviteKinds">\n        <a href="#" class="shareLink _btnLink">\n            <span class="iconRound -link"></span>\n            <span class="text">\n                <strong><%- IM(\'web.memberinvite.btn.link\') %></strong>\n                <span><%= IM(\'web.memberinvite.btn.link.desc\') %></span>\n            </span>\n        </a>\n        <ul class="list gMab50">\n            <% if (!!canCafeInvite) { %>\n            <li><a href="#" role="button" class="_btnCafe"><span class="iconRound -daumcafe"></span><%- IM(\'web.memberinvite.btn.cafe\') %></a></li>\n            <% } %>\n            <li><a href="#" role="button" class="_btnBand"><span class="iconRound -band"></span><%- IM(\'web.memberinvite.btn.band\') %></a></li>\n            <li><a href="#" role="button" class="_btnInviteCode"><span class="iconRound -code"></span><%- IM(\'web.memberinvite.btn.invite_code\') %></a></li>\n            <li><a href="#" role="button" class="_btnQrCode"><span class="iconRound -qrcode"></span><%- IM(\'web.memberinvite.btn.qr_code\') %></a></li>\n        </ul>\n\n        <% if (canShowEnableBandForKidsSuggestion) { %>\n        <div class="guideBox gMab14">\n            <a href="#" role="button" class="textLink -arrow _btnAddUnder13"><%= IM(\'member_invite.add_under_13.btn_label\') %></a>\n        </div>\n        <% } %>\n    </div>\n    <div class="inviteUseLink">\n        <h2 class="title"><%- IM(\'web.memberinvite.btn.using_invitie_url\') %><em class="sf_color _usingLinkCount"></em></h2>\n        <ul class="list _linkListWrap"></ul>\n        <p class="uEmpty _contentsEmptyMsg" style="height:145px"><span class="gColorGr3"><%- IM(\'ui.message.empty_conents\') %></span></p>\n        <p class="desc _linkDisplayCountOverMsg"><%- IM(\'web.memberinvite.invitation_url_list.display_count_over_msg\') %></p>\n    </div>\n</section>\n'},1509:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(1510),s=(n(513),n(535),n(486)),o=i.View.extend({className:"url_layer",attributes:{"data-viewname":"DInviteByCafeView"},template:t.template(a),ui:{btnClose:"[data-uiselector=btnClose]",inputInvitationLink:"#invitationLink"},events:{"click @ui.btnClose":"destroy"},onAttach:function(){this.ui.inputInvitationLink.focus().select()}});return o.openAsLayer=function(e){var t=new o({model:new Backbone.Model(e)});return s.open(t),t},o}.call(t,n,t,e))||(e.exports=i)},1510:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w380">\n        <header class="header">\n            <h1 class="title"><%- IM("web.cafe_layer.title") %></h1>\n        </header>\n        <div class="main">\n            \x3c!-- alert 메시지 형태 --\x3e\n            <p class="p"><label for="shareCafe"><%= IM("web.cafe_layer.guide_desc") %></label></p>\n            <div class="uInput gMat10">\n                <input type="text" id="shareCafe" value="<%- url%>" readonly="">\n                <span class="border"></span>\n            </div>\n            <ul class="boxList -icon gMat20">\n                <li><a href="http://cafe.naver.com" target="_blank" class="btnShareNaverCafe"><%- IM("web.cafe_layer.btn_naver") %></a></li>\n                <li><a href="http://cafe.daum.net" target="_blank" class="btnShareDaumCafe"><%- IM("web.cafe_layer.btn_daum") %></a></li>\n            </ul>\n        </div>\n        <footer class="footer">\n            <button data-uiselector="btnClose" type="button" class="uButton -iconClose btnLyClose"><span class="gSrOnly"><%- IM("web.cafe_layer.btn_close") %></span></button>\n        </footer>\n    </div>\n</section>'},1511:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(9),s=n(1512),o=n(1513),r=n(548),l=n(510),c=n(16),d=(n(52),n(1167),i.View.extend({tagName:"li",attributes:function(){return{"data-viewname":"DUsingInvitationLinksView"}},template:t.template(s),templateContext:{dateFormat:function(e){return a.format.date(c(e),"date_time")},getLinkTypeName:function(e){switch(e){case"url":return IM("web.using_invitation_links.invitation_type.url")||"초대링크";case"user_email":return IM("web.using_invitation_links.invitation_type.user_email")||"이메일";case"cafe_member":return IM("web.using_invitation_links.invitation_type.cafe_member")||"카페멤버";case"qr_code":return IM("web.using_invitation_links.invitation_type.qr_code")||"QR초대";case"kakao":return IM("web.using_invitation_links.invitation_type.kakao")||"카카오톡";case"line_messenger":return IM("web.using_invitation_links.invitation_type.line_messenger")||"라인";case"facebook_messenger":return IM("web.using_invitation_links.invitation_type.facebook_messenger")||"페이스북";case"group_url":return IM("web.using_invitation_links.invitation_type.group_url")||"묶음 초대그룹"}}},ui:{btnDeleteLink:"._btnDeleteLink"},events:{"click @ui.btnDeleteLink":"_deleteLink"},_deleteLink:function(e){l.openLayer({headerTitle:IM("web.using_invitation_links.confirm.title"),bodyDesc:IM("web.using_invitation_links.confirm.desc"),confirm:IM("web.using_invitation_links.confirm.yes"),cancel:IM("web.using_invitation_links.confirm.no")}).once(l.EVENTS.CONFIRM,t.bind((function(){var e=this.model.get("invitationUrlId");r.deleteInvitationUrl(e).then(t.bind((function(){this.trigger("remove",this)}),this))}),this))}})),u=i.CollectionView.extend({tagName:"ul",attributes:{"data-viewname":"DUsingInvitationLinksCollectionView"},childView:d,childViewEvents:{remove:function(e){this.collection.remove(e.model.get("invitationUrlId"))}},draw:function(){return this.collection.fetchUsingLinks(this.getOption("bandNo"))}});return d.build=function(e){return new u(t.extend({collection:new o},e))},d}.call(t,n,t,e))||(e.exports=i)},1512:function(e,t){e.exports='<span class="text">\n    <strong><%- IM("web.memberinvite.using_invitation.host_name", {host_name: inviter.name}) %>(<%- getLinkTypeName(invitationType) %>)</strong>\n    <span>\n        <a href="<%- invitationUrl %>" class="sf_color"><%- invitationUrl %></a>\n        <%- IM("web.memberinvite.qr_code.layer.period", {expired_at: dateFormat(expiredAt)}) %>\n    </span>\n</span>\n<button type="button" class="btnDelete _btnDeleteLink"></button>\n'},1513:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=(n(1167),n(52)),a=n(548),s=t.Model.extend({idAttribute:"invitationUrlId"});return t.Collection.extend({model:s,fetchUsingLinks:function(e){return a.getInvitationUrls(e).then(_.bind((function(e){this.reset(i.camelizeKeys(e.items))}),this))}})}.call(t,n,t,e))||(e.exports=i)},1514:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(6),s=n(4),o=n(16),r=n(1126),l=n(9),c=(n(502),n(486)),d=n(82),u=n(495),h=n(487),p=n(491),_=n(1515),m=n(156),g=s.View.extend({attributes:{"data-viewname":"DInviteByQrCodeView"},className:"qrcode_layer",template:i.template(_),behaviors:[{behaviorClass:u,sceneId:u.SCENE.MEMBER_INVITE_SHARE_QRCODE},{behaviorClass:h}],ui:{btnClose:"._btnClose",btnSaveQrCode:"._btnSaveQrCode",btnSaveQrInvitation:"._btnSaveQrInvitation",QrCode:"._QrCode"},events:{"click @ui.btnClose":"destroy","click @ui.btnSaveQrInvitation":"_saveQrInvitationCardToImage","click @ui.btnSaveQrCode":"_saveQrCode"},initialize:function(e){this._bandData=e.bandData,this._model=e.model},serializeData:function(){return{bandName:this._bandData.getBandName(),bandCoverUrl:d.makeInvitationCardCoverUrl(this._bandData.getCoverUrl()),bandDescription:this._bandData.getDescription(),expiredAt:this._model.getExpiredAt(),imageQrCode:"http://qrmwig.naver.com/alcatraz_mig/m.jsp?brcolor=62c339&amp;cmd=4&amp;ver=20&amp;size=L&&amp;res_format=png&amp;refresh=0&only=n&amp;svccode=0051&amp;src="+this._model.getInvitationUrl()}},onAttach:function(){this.getUI("QrCode").setLoading()},_saveQrCode:function(){this._sendSaveQrCodeClickLog(),location.href="/download?path="+encodeURIComponent(this._model.getQrUrl())+"&name="+encodeURIComponent(this._bandData.getBandName())},_sendSaveQrCodeClickLog:function(){this.jplClick(h.CLASSIFIER.SAVE_QRCODE)},_saveQrInvitationCardToImage:function(){this._sendSaveInvitationClickLog();var e=t("#qrInvitationCard").get(0),n={width:e.offsetWidth,height:e.offsetHeight};return r(e,n).then(i.bind((function(e){!function(e,t,n){document.createElement("a");var i=e.toDataURL("image/png");n||(n="png"),m.saveAs(i,t,n)}(e,this._bandData.getBandName(),"png")}),this))},_sendSaveInvitationClickLog:function(){this.jplClick(h.CLASSIFIER.SAVE_INVITATION)}});return g.Model=a.Model.extend({parse:function(e){var t={};return t.url=e.url,t.expiredAt=e.expired_at,t.qrUrl=e.qr_url,t},getInvitationUrl:function(){return this.get("url")},getExpiredAt:function(){return l.format.date(o(this.get("expiredAt")),"date_time")},getQrUrl:function(){return this.get("qrUrl")}}),g.openAsLayer=function(e,t){var n=new g.Model(t,{parse:!0});p.getCachedBandData(e).then(i.bind((function(e){var t=new g({bandData:e,model:n});return c.open(t),t}),this))},g}.call(t,n,t,e))||(e.exports=i)},1515:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w380">\n        <header class="modalHeader">\n            <h1 class="title"><%= IM("member.invitation_card.qr_code.title") %></h1>\n        </header>\n        <div class="modalBody">\n            <div class="modalContentWrap">\n                <div class="bandInvitationArea gMat20">\n                    <% // 커버 이미지 %>\n                    <div class="bandImageBox">\n                        <div class="uCoverImage -w320">\n                            <div class="coverInner">\n                                <img class="coverImg" src="<%- bandCoverUrl %>" alt="">\n                            </div>\n                        </div>\n                    </div>\n                    <% // QR 코드 이미지 %>\n                    <div class="bandQrCodeBox gMat16">\n                        <div class="qrCode">\n                            <img src="<%= imageQrCode %>" class="_QrCode" width="110" height="110" alt="QR Code">\n                        </div>\n                    </div>\n                    <div class="bandInfoBox">\n                        <% // [TODO] 초대장 저장 버튼 클릭시에만 isSave 클래스 추가 %>\n                        <p class="bandName"><%- bandName %></p>\n                        <% if (bandDescription) { %>\n                        <p class="bandDesc gMat5"><%- bandDescription %></p>\n                        <% } else { %>\n                        <p class="bandDesc gMat5"><%= IM("member.invitation_card.qr_code.default_band_description") %></p>\n                        <% } %>\n                        <p class="gFs16 gFw7 gTaC gBandColor gMat11"><%= IM("member.invitation_card.qr_code.help_guide.short") %></p>\n                    </div>\n                </div>\n                <div class="qrFlexButtonBox gMat20 gMal10 gMar10">\n                    <%\n                    // http://bts.campmobile.com/browse/BAND-93026\n                    // canvas에서의 외부 도메인 이미지 호출 이슈로 초대장 저장하기는 해결 방법 확인 후 배포하기로 협의함\n                    %>\n                    \x3c!--<button type="button" class="uButton -active -sizeXL _btnSaveQrInvitation"><%= IM("member.invitation_card.qr_code.save_invitation_card") %></button>--\x3e\n                    <button type="button" class="uButton -active -sizeXL _btnSaveQrCode"><%= IM("member.invitation_card.qr_code.save_qr_code") %></button>\n                </div>\n                <p class="gFs14 gColorBk4 gTaC gMat19"><%= IM("member.invitation_card.qr_code.help_guide") %></p>\n                <p class="gFs13 gColorGr2 gTaC gMat9"><%- IM("web.memberinvite.qr_code.layer.period", {expired_at: expiredAt}) %></p>\n            </div>\n        </div>\n        <footer class="modalFooter gPat3">\n            <button type="button" class="uButton -iconClose btnLyClose _btnClose"><span class="gSrOnly"><%= IM("ui.label.close_layer") %></span></button>\n        </footer>\n    </div>\n</section>\n'},1516:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=(n(9),n(17),n(1517)),s=(n(502),n(158)),o=n(548),r=n(16),l=n(486),c=i.View.extend({attributes:{"data-viewname":"DInviteByCodeView"},template:t.template(a),ui:{btnBack:"._btnBack",btnGeneratePinCode:"._btnGeneratePinCode",remainTime:"._remainTime"},events:{"click @ui.btnBack":function(){this.destroy()},"click @ui.btnGeneratePinCode":"_generatePinCode"},_generatePinCode:function(){o.generatePinCode(this._bandNo,48).then(t.bind((function(e){this._code=e.code,this._expiredAt=e.expired_at,this.render()}),this))},initialize:function(e){this._bandNo=e.bandNo,this._code=e.code,this._expiredAt=e.expired_at},serializeData:function(){var e=this._code?this._code.split("-"):"";return{isValidInviteCode:!!this._code,inviteCode1:e[0],inviteCode2:e[1]}},onRender:function(){this.isAttached()&&this._attachRemainTimeHandler()},onAttach:function(){this.render()},_attachRemainTimeHandler:function(){if(this._expiredAt){var e=r(this._expiredAt),n=t.bind((function(){var t=r(),n=e.diff(t)/1e3;if(n>0){var i=s.zeropadWithParseInt(n%60,2),a=s.zeropadWithParseInt(n/60%60,2),o=s.zeropadWithParseInt(n/60/60,2);return this.ui.remainTime.text(o+":"+a+":"+i),!0}return!1}),this);n(),this._clearRemainTimeHandler(),this.remainTimeHandler=setInterval(t.bind((function(){n()||this.destroy()}),this),1e3)}},_clearRemainTimeHandler:function(){this.remainTimeHandler&&clearInterval(this.remainTimeHandler)},onBeforeDetach:function(){this._clearRemainTimeHandler()}});return c.openAsLayer=function(e){var n=e.bandNo,i=o.getPinCode(n).then((function(n){return new c(t.extend({},e,n))}));l.openPromiseView(i,!1,{width:380,height:231})},c}.call(t,n,t,e))||(e.exports=i)},1517:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w380">\n        <header class="header">\n            <h1 class="title"><%- IM(\'web.invite_by_code.invite_code\') %></h1>\n        </header>\n        <div class="main">\n            \x3c!-- alert 메시지 형태 --\x3e\n            \x3c!--친구가 불러준 숫자와 영단어를 입력한 후<br>초대장 확인을 클릭해주세요.--\x3e\n            <p class="p"><%= IM("web.invite_by_code.guide_code_make") %></p>\n            <div class="flexList -tbSpaceNone -layoutFixed gMat10">\n                <div>\n                    <div class="uInput">\n                        <label class="gSrOnly" for="InviteCode1"><%- IM("web.invite_by_code.code_number") %></label>\n                        <input type="text" id="InviteCode1" value="<%- inviteCode1 %>" class="gTaC gFs16 gColorBk1" readonly="readonly">\n                        <span class="border"></span>\n                    </div>\n                </div>\n                <div class="gMal10">\n                    <div class="uInput">\n                        <label class="gSrOnly" for="InviteCode2"><%- IM("web.invite_by_code.code_word") %></label>\n                        <input type="text" id="InviteCode2" value="<%- inviteCode2 %>" class="gTaC gFs16 gColorBk1" readonly="readonly">\n                        <span class="border"></span>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- 보이는 경우만 처리 --\x3e\n            <% if (isValidInviteCode) { %>\n            <p class="inviteCodeTimer">\n\t\t\t\t<span>\n\t\t\t\t\t<%- IM("web.invite_by_code.valid_time") %>&nbsp;<strong class="point _remainTime">\x3c!--24:00:10--\x3e</strong>\n\t\t\t\t</span>\n            </p>\n\n            <p class="sDesc -fs13 gMat16"><span class="tip">TIP</span> <%- IM("invite_by_code.label.tip_title") %></p>\n            <p class="sDesc gFs13"><%= IM("invite_by_code.label.tip_desc") %></p>\n\n            <div class="inviteCodeTipImg">\n                <img src="<%-resBaseUrl%>/images/template/img_invite_guide.jpg" srcset="<%-resBaseUrl%>/images/template/img_invite_guide_2x.jpg 2x" alt="">\n\n                <ul class="menuTxt">\n                    <li><span><%- IM("dgnb.menu.label.my_page") %></span></li>\n                    <li><span class="strong"><strong><%- IM("more.menu.input_invitation_code") %></strong></span></li>\n                    <li><span><%- IM("ui.label.notice.title.plural") %></span></li>\n                    <li><span><%- IM("web.more.menu.settings") %></span></li>\n                    <li><span><%- IM("web.setting.home.txt.logout") %></span></li>\n                </ul>\n            </div>\n            <% } %>\n        </div>\n        <footer class="footer">\n            <% if (!isValidInviteCode) { %>\n            <button type="button" class="uButton -confirm -sizeL _btnGeneratePinCode"><%- IM("web.invite_by_code.btn_make_invite_code") %></button>\n            <% } %>\n            <button type="button" class="uButton -iconClose btnLyClose _btnBack"><span class="gSrOnly"><%- IM(\'web.invite_by_code.btn_back\') %></span></button>\n        </footer>\n    </div>\n</section>\n'},1518:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(54),o=n(486),r=n(1519),l=a.View.extend({attributes:{"data-viewname":"DEmailVerifyView"},template:i.template(r),ui:{inputVerificationCode:"._inputVerificationCode",btnConfirm:"._btnConfirm",btnResendVerifyEmail:"._btnResendVerifyEmail"},events:{"keyup @ui.inputVerificationCode":"_setButtonStyle","click @ui.btnResendVerifyEmail":"_resendVerifyEmail","click @ui.btnConfirm":"_confirmVerify","click ._btnCancel":function(e){0==t(e.target).parents("._lyContent:first").length&&this.destroy()}},initialize:function(e){this.email=e.email,this.userName=e.userName,this.verificationToken=""},serializeData:function(){return{email:this.email}},_setButtonStyle:function(){this.ui.inputVerificationCode.val().length>0?(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.removeAttr("disabled")):(this.ui.btnConfirm.addClass("-disabled"),this.ui.btnConfirm.attr("disabled","disabled"))},_resendVerifyEmail:function(e){e.preventDefault(),s.sendAuthEmail(this.email,this.userName).then(i.bind((function(e){alert(IM("web.setting.account.alert.resend_completed"))}),this))},_confirmVerify:function(e){e.preventDefault();var t=this.ui.inputVerificationCode.val();return s.verifyEmail(this.email,t,!0).then(i.bind((function(e){this.verificationToken=e.verification_token,this.destroy(),this.trigger("emailVerify:changeEmail",{verificationToken:this.verificationToken,email:this.email})}),this),(function(e){alert(e.result_data.message)}))}});return l.buildAsLayer=function(e,t){var n=new l({email:e,userName:t});return o.open(n),n},l}.call(t,n,t,e))||(e.exports=i)},1519:function(e,t){e.exports='<section class="lyWrap ">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("web.setting.account.txt.email_title") %></h1>\n        </header>\n        <div class="main gTaC">\n            <p class="p">\n                <strong class="point"><%- email %></strong><br>\n                <%= IM("setting.account.email.verify.txt") %>\n            </p>\n            <div class="p -tSpace">\n                <div class="uInput">\n                    <label class="gSrOnly" for="inputVerify"><%= IM("setting.account.title.input_auth_code") %></label>\n                    <input type="text" id="inputVerify" class="_inputVerificationCode" placeholder="<%= IM("setting.account.title.input_auth_code") %>">\n                    <span class="border"></span>\n                </div>\n            </div>\n        </div>\n        <footer class="footer -tSpace10">\n            <button type="button" class="uButton -sizeL -confirm -wFull _btnConfirm" disabled=""><%= IM("ui.label.confirm") %></button>\n            <button type="button" class="btnLyClose uButton -iconClose _btnCancel"><span class="gSrOnly"><%= IM("ui.label.cancel") %></span></button>\n            <div class="gTaC gFs13 gColorBk3 gMat20">\n                <a href="#" class="_btnResendVerifyEmail"><%= IM("web.setting.account.btn.resend_mail") %></a>\n            </div>\n        </footer>\n    </div>\n</section>'},1520:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(931),s=n(486),o=n(1521),r=i.View.extend({attributes:{"data-viewname":"DEmailConfirmPasswordView"},template:t.template(o),ui:{inputPassword:"._inputPassword",inputPasswordConfirm:"._inputPasswordConfirm",btnConfirm:"._btnConfirm",btnClose:"._btnClose"},events:{"keyup @ui.inputPassword":"_setButtonStyle","keyup @ui.inputPasswordConfirm":"_setButtonStyle","click @ui.btnConfirm":"_updatePassword","click @ui.btnClose":"destroy"},_setButtonStyle:function(){var e=this.ui.inputPassword.val(),t=this.ui.inputPasswordConfirm.val();e.length>0&&t.length>0?this.ui.btnConfirm.removeClass("-disabled"):this.ui.btnConfirm.addClass("-disabled")},_updatePassword:function(e){if(e.preventDefault(),!this._validatePassword())return!1;var t=this.ui.inputPassword.val();this.destroy(),this.trigger("emailChange:updateEmail",t)},_validatePassword:function(){if(this.bPasswordExist)return!0;var e=this.ui.inputPassword.val(),t=this.ui.inputPasswordConfirm.val();switch(a.PASSWORD.validatePassword(e,t)){case a.PASSWORD.RESULT.TOO_SHORT_PASSWORD:case a.PASSWORD.RESULT.TOO_LONG_PASSWORD:case a.PASSWORD.RESULT.NONE_ALPHABET:case a.PASSWORD.RESULT.NONE_NUMBER:return alert(IM("web.setting.account.alert.wrong_password_length")),this.ui.inputPassword.focus(),!1;case a.PASSWORD.RESULT.UNMATCHED:return alert(IM("web.setting.account.unmatched_password")),this.ui.inputPasswordConfirm.focus(),!1}return!0}});return r.buildAsLayer=function(){var e=new r;return s.open(e),e},r}.call(t,n,t,e))||(e.exports=i)},1521:function(e,t){e.exports='<section class="lyWrap ">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("web.setting.account.txt.password_setting_title") %></h1>\n        </header>\n        <div class="main">\n            <div class="p -tSpace">\n                <div class="uInputWrap">\n                    <p class="p"><%= IM("web.setting.account.txt.password_description2") %></p>\n                    <p class="sDesc gMab10"><%= IM("web.setting.account.txt.password_description") %></p>\n                    <div class="uInput">\n                        <label class="gSrOnly" for="pw"><%= IM("setting.account.txt.input_password") %></label>\n                        <input type="password" id="pw" placeholder="<%= IM(\'setting.account.txt.input_password\') %>" class="_inputPassword">\n                    </div>\n                    <div class="uInput">\n                        <label class="gSrOnly" for="pw2"><%= IM("setting.account.txt.input_password_confirm") %></label>\n                        <input type="password" id="pw2" placeholder="<%= IM(\'setting.account.txt.input_password_confirm\') %>" class="_inputPasswordConfirm">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <footer class="footer">\n            <button type="button" class="uButton -confirm -disabled _btnConfirm"><%= IM("ui.label.confirm") %></button>\n            <button type="button" class="btnLyClose uButton -iconClose _btnClose"><span class="gSrOnly">등록 취소</span></button>\n        </footer>\n    </div>\n</section>'},1523:function(e,t,n){var i=n(0),a=n(83),s=n(153),o=n(544),r=n(510),l=n(158),c=n(171);t.convertRecruitingBand=function(e,t){var n=r.openLayer({bodyTitle:l.nl2br(IM("recruiting_band.convert_to_group.confirm.body",{memberCount:e.getMemberCount()})),confirm:IM("ui.label.confirm"),cancel:IM("ui.label.cancel")});t.listenTo(n,r.EVENTS.CONFIRM,(function(){return a.convertRecruitingBand(e.getBandCore().bandNo).then(i.bind((function(){s.GROUP_BAND_HOME.goDForced({band_no:e.getBandCore().bandNo})}),this),(function(){o.LFG_BAND_HOME.goDForced({band_no:e.getBandCore().bandNo})}))}))},t.createRecruitingBand=function(e,t,n){var s={name:e.name,themeColor:i.sample(c.getKeys()),coverUrl:e.cover,recruitingMemberCapacity:e.recruitingMemberCapacity,recruitingOpenType:e.recruitingOpenType};i.each(["minBirthYear","maxBirthYear","allowedGender"],(function(t){e[t]&&"none"!==e[t]&&(s[t]=e[t])}),this),e.recruitingBandForKidsEnabled&&(s.recruitingBandForKidsEnabled=e.recruitingBandForKidsEnabled),i.extend(s,{postAction:t,postActionData:JSON.stringify(n)});var o=$.when();return s.coverUrl||(o=a.getBandCoverUrls().then((function(e){s.coverUrl=i.sample(e.cover_urls)}))),o.then((function(){return a.createRecruitingBand(s)}))}},1524:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(0),a=n(1525),s=n(82);return t.View.extend({attributes:{"data-viewname":"DBandMissionMediaListView"},className:"multiMediaList",tagName:"ul",template:i.template(a),initialize:function(e){this._bandMissionModel=e.bandMissionModel,this._exType=e.exType},ui:{mediaThumbnail:"._mediaThumbnail",deleteMedia:"._deleteMedia"},events:{"click @ui.deleteMedia":"_deleteMedia"},templateContext:function(){var e=this._bandMissionModel.getMissionGoodExamplePhotoOrVideo();return"bad"==this._exType&&(e=this._bandMissionModel.getMissionBadExamplePhotoOrVideo()),{mediaList:e,ThumbnailUtil:s,isManuallyEnded:this._bandMissionModel.getBandMissionIsManuallyEnded()}},onRender:function(){this.getUI("mediaThumbnail").setLoading({useLoading:!0,tag:'<div class="uLoadingAni"></div>'})},_deleteMedia:function(e){var t=$(e.currentTarget).data("media_index");"good"==this._exType?this._bandMissionModel.removeMissionGoodExamplePhotoOrVideo(t):this._bandMissionModel.removeMissionBadExamplePhotoOrVideo(t)}})}.call(t,n,t,e))||(e.exports=i)},1525:function(e,t){e.exports='<% _.each(mediaList, function(item, index){ %>\n<li class="multiMediaItem <% if(item.isVideo || item.sosId) { %>-iconPlay<% } %>"><img class="_mediaThumbnail" src="<%- ThumbnailUtil.makePostSnippetThumbnailUrl(\'type1\', item.url) %>">\n    <% if(!isManuallyEnded) { %><button type="button" class="deletePhoto _deleteMedia" data-media_index="<%- index %>"><%- IM("ui.label.delete") %></button><% } %>\n</li>\n<% }) %>'},1526:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(54),s=n(931),o=(n(9),n(486)),r=n(1760),l=i.View.extend({attributes:{"data-viewname":"DPasswordChangeItemView"},template:t.template(r),ui:{inputPassword:"._inputPassword",inputPasswordConfirm:"._inputPasswordConfirm",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel"},events:{"keyup @ui.inputPassword":"_setButtonStyle","keyup @ui.inputPasswordConfirm":"_setButtonStyle","click @ui.btnConfirm":"_updatePassword","click @ui.btnCancel":function(){o.closeAll()}},initialize:function(e){this.current_password=e.current_password},_setButtonStyle:function(){var e=this.ui.inputPassword.val(),t=this.ui.inputPasswordConfirm.val();e.length>0&&t.length>0?this.ui.btnConfirm.removeClass("-disabled"):this.ui.btnConfirm.addClass("-disabled")},_updatePassword:function(e){if(e.preventDefault(),!this._isValidPassword())return!1;var n={new_password:this.ui.inputPassword.val()};this.current_password&&(n.current_password=this.current_password),a.setPassword(n).then(t.bind((function(){o.closeAll()}),this))},_isValidPassword:function(){var e=this.ui.inputPassword.val(),t=this.ui.inputPasswordConfirm.val();switch(s.PASSWORD.validatePassword(e,t)){case s.PASSWORD.RESULT.TOO_SHORT_PASSWORD:case s.PASSWORD.RESULT.TOO_LONG_PASSWORD:case s.PASSWORD.RESULT.NONE_ALPHABET:case s.PASSWORD.RESULT.NONE_NUMBER:return alert(IM("web.setting.account.alert.wrong_password_length")),this.ui.inputPassword.focus(),!1;case s.PASSWORD.RESULT.UNMATCHED:return alert(IM("web.setting.account.unmatched_password")),this.ui.inputPasswordConfirm.focus(),!1}return!0}});return l.buildAsLayer=function(e){var t;e&&(t=e.password),o.open(new l({current_password:t}))},l}.call(t,n,t,e))||(e.exports=i)},1527:function(e,t){e.exports='<div class="bandFindMake">\n    <div class="bandAdd">\n        <span class="iconLimit"></span>\n        <p class="none"><%= resultHtml %></p>\n    </div>\n</div>\n'},1528:function(e,t,n){var i=n(0),a=n(2),s=n(4),o=n(1529),r=n(82);n(1137);var l=s.View.extend({options:{disableButton:!1},className:"bundleInvitation",attributes:{"data-viewname":"DInvitationGroupView"},template:i.template(o),templateContext:function(){return{coverThumbnail:function(e){return r.make(e,r.TYPE.s75)},disableButton:this.options.disableButton}},ui:{gotoInvitationBtn:"._gotoInvitationBtn"},events:{"click @ui.gotoInvitationBtn":function(e){var t=a(e.target).data("invitation_url");this.trigger("gotoInvitation",function(e){return e.split("/n/")[1]}(t))}},modelEvents:{change:"render"}});e.exports=l},1529:function(e,t){e.exports='<div class="invitationInfoBox gTaC">\n    <span class="iconInvitation"></span>\n    <div class="invitationTitle gMat6"><%=IM("invitation_group.msg", {\n        invitationGroupName: \'<span class="invitationName">\' + name + \'</span>\'\n        }) %></div>\n    <div class="invitationDesc gMat3">\n        <span class="inviteText"><%- description %></span>\n        <span class="inviteFrom gMat1"><%-IM("invitation_group.inviter.msg", { inviter : inviter.name })%></span>\n    </div>\n</div>\n\n<div class="inviteBandListBox gMat5">\n    <ul class="listLine rScroll">\n        <% _.each(invitationUrls, function(invitationUrlInfo) { %>\n        <li class="tLine">\n            <label class="flexList">\n            <span class="thumb">\n                <div class="uCoverImage -w36 -border">\n                    <span class="coverInner">\n                        <img src="<%-coverThumbnail(invitationUrlInfo.band.cover) %>" alt="<%- invitationUrlInfo.band.name %>">\n                    </span>\n                </div>\n            </span>\n                <span class="text -ellipsis"><%- invitationUrlInfo.band.name %></span>\n                <span class="etc"><button data-invitation_url="<%- invitationUrlInfo.invitationUrl %>" type="button" class="uButton -sizeS -confirm2 _gotoInvitationBtn" <% if (disableButton) { %>disabled<% } %>><%-IM("band.m.preview.topbar.btn.band_join")%></button></span>\n            </label>\n        </li>\n        <% }); %>\n    </ul>\n</div>\n'},1530:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(83),s=n(181);return i.Model.extend({idAttribute:"bandNo",defaults:function(){return{bandNo:null,name:null,creationSetId:null,profileUrl:null,coverUrl:null}},createPage:function(){var e={name:this.getPageBandName(),creationSetId:this.getCreationSetId()};return this.getPageProfileUrl()&&(e.profileUrl=this.getPageProfileUrl()),s.createPage(e).then(t.bind((function(e){return e.band_no}),this))},updatePageNameAndProfile:function(){var e={bandNo:this.getPageBandNo(),name:this.getPageBandName(),profileUrl:this.getPageProfileUrl()};return a.setBandInfo(e)},updateCoverImage:function(){var e={bandNo:this.getPageBandNo(),coverUrl:this.getPageCoverUrl()};return a.setBandInfo(e)},getPageBandNo:function(){return this.get("bandNo")},getPageBandName:function(){return this.get("name")},getCreationSetId:function(){return this.get("creationSetId")},getPageProfileUrl:function(){return this.get("profileUrl")},getPageCoverUrl:function(){return this.get("coverUrl")},setBandNo:function(e){this.set("bandNo",e)},setPageBandName:function(e){this.set("name",e)},setPageProfileUrl:function(e){this.set("profileUrl",e)},setPageCoverUrl:function(e){this.set("coverUrl",e)}})}.call(t,n,t,e))||(e.exports=i)},1582:function(e,t,n){var i=n(6),a="RECRUIT_BTN",s="SEARCH_BTN",o="NOTIFICATION",r="EMPTY_RESULT",l="REGION_ERROR",c=i.Model.extend({initialize:function(e,t){this._itemType=t.itemType},isRecruitBtn:function(){return this._itemType===a},isSearchBtn:function(){return this._itemType===s},isNotification:function(){return this._itemType===o},isEmptyResult:function(){return this._itemType===r},isRegionError:function(){return this._itemType===l}});c.buildRecruitBtn=function(){return new c(null,{itemType:a})},c.buildSearchBtn=function(){return new c(null,{itemType:s})},c.buildNotification=function(){return new c(null,{itemType:o})},c.buildEmptyResult=function(){return new c(null,{itemType:r})},c.buildRegionError=function(){return new c(null,{itemType:l})},e.exports=c},1583:function(e,t){e.exports={DEFAULT_CASE_ID:"Custom",DEFAULT_ALLOW_JOIN_APPLICATION:"normal"}},1584:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(54),s=n(1715),o=i.Collection.extend({model:function(e){return new s(e,{parse:!0})},initialize:function(){this.currentDevice=null},fetchLoggedInDevices:function(){return a.getUserDevices().then(t.bind((function(e){var n=e.logged_in_devices||{};return this.reset(t.filter(n,(function(e){var t=!e.is_current_device;return t||(this.currentDevice=new s(e,{parse:!0})),t}),this)),this}),this))},removeLoggedInDevice:function(e){return a.removeLoggedInDevice(e.getDeviceNo(),e.getLoginDeviceCategory()).then(t.bind(this.fetchLoggedInDevices,this))}});return o.buildActiveDeviceDataCollection=function(){return new o},o}.call(t,n,t,e))||(e.exports=i)},1594:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(26),s=n(486),o=n(495),r=n(487),l=n(162),c=n(1783),d=n(1784),u=n(537),h=n(82),p=i.View.extend({attributes:{"data-viewname":"DPageBandCoverImageSettingView"},template:t.template(c),behaviors:[{behaviorClass:o,sceneId:o.SCENE.PAGE_CREATE_COVER},{behaviorClass:r}],ui:{defaultCoverImageLayer:"._defaultCoverImageLayer",coverImageLayer:"._coverImageLayer",selectedImage:"._selectedImage",btnMoreOption:"._btnMoreOption",moreOptionLayer:"._moreOptionLayer",resetCoverImage:"._resetCoverImage",profileInfoLayer:"._profileInfoLayer",btnCancel:"._btnCancel",btnConfirm:"._btnConfirm",firstUploadPageCoverImage:"._firstUploadPageCoverImage",uploadPageCoverImage:"._uploadPageCoverImage"},events:{"click @ui.btnMoreOption":"_toggleMoreOptionLayer","click @ui.resetCoverImage":"_resetCoverImage","click @ui.btnCancel":"_moveToSettingHome","click @ui.btnConfirm":"_pageBandCoverUploadComplete","change @ui.uploadPageCoverImage":"_loadUploadImageFile","change @ui.firstUploadPageCoverImage":"_loadUploadImageFile",click:function(){a.getDGlobalChannel().trigger(a.EVENT.HTML_CLICK)}},initialize:function(e){this.isCreateMode=e.isCreateMode,this.model=e.model,this.listenTo(a.getDGlobalChannel(),a.EVENT.HTML_CLICK,this._closeMoreOptionLayer),this.listenTo(a.getDGlobalChannel(),a.EVENT.DOCUMENT_ESC_KEY_DOWN,this._closeAllLayers)},templateContext:function(){return{pageBandName:this.model.getPageBandName(),pageProfileUrl:h.make(this.model.getPageProfileUrl(),h.TYPE.s150),coverUrl:h.make(this.model.getPageCoverUrl(),h.TYPE.e640),isCreateMode:this.isCreateMode,titleText:this.isCreateMode?IM("pageband.create.guide.title.setting_cover_image"):IM("pageband.band_setting.main.item_title.manage_cover_image"),cancelLabel:this.isCreateMode?IM("ui.label.skip"):IM("ui.label.cancel")}},onRender:function(){this._adaptUI()},onAttach:function(){this._sendCoverSettingSceneEnterLog()},_loadUploadImageFile:function(){var e=$(this.getUI("firstUploadPageCoverImage"))[0];if(this.model.getPageCoverUrl()&&(e=$(this.getUI("uploadPageCoverImage"))[0]),1==e.files.length)if(u.SINGLE_PHOTO_WITHOUT_GIF_VALIDATOR(e.files)){var n=new FileReader;n.onload=t.bind((function(n){var i=d.build(n);this.listenTo(i,"coverUpload:complete",t.bind((function(e){i.destroy(),this.model.setPageCoverUrl(e.url),this._setPageCoverImage()}),this)),this.listenTo(i,"coverCrop:cancel",t.bind((function(){e.value="",i.destroy()}),this))}),this),n.readAsDataURL(e.files[0])}else e.value=""},_adaptUI:function(){this.model.getPageCoverUrl()?(this.getUI("defaultCoverImageLayer").hide(),this.getUI("coverImageLayer").show()):(this.getUI("defaultCoverImageLayer").show(),this.getUI("coverImageLayer").hide()),this.isCreateMode||this.getUI("profileInfoLayer").hide()},_toggleMoreOptionLayer:function(e){e.stopPropagation(),this.getUI("moreOptionLayer").toggle()},_closeMoreOptionLayer:function(){this.getUI("moreOptionLayer").hide()},_closeAllLayers:function(){this.trigger("pageCoverImageSetting:closeAllLayers")},_resetCoverImage:function(){this.model.setPageCoverUrl(""),this.getUI("defaultCoverImageLayer").show(),this.getUI("coverImageLayer").hide()},_moveToSettingHome:function(){this._sendCoverSettingSkipClickLog();var e=this.model.getPageBandNo();this.isCreateMode?l.PAGE_BAND_HOME.goDForced({band_no:e}):this.destroy()},_setPageCoverImage:function(){this.getUI("selectedImage").attr("src",h.make(this.model.getPageCoverUrl(),h.TYPE.e640)),this._adaptUI()},_pageBandCoverUploadComplete:function(){this._sendCoverSettingCompleteClickLog(),this.model.updateCoverImage().then(t.bind((function(){this.isCreateMode?l.PAGE_BAND_HOME.goDForced({band_no:this.model.getPageBandNo()}):(this.trigger("pageBandSettingHome:refresh"),this.destroy())}),this))},_sendCoverSettingSceneEnterLog:function(){this.jplSceneEnter(r.CLASSIFIER.PAGE_CREATE_COVER)},_sendCoverSettingSkipClickLog:function(){this.jplClick(r.CLASSIFIER.PAGE_COVER_SKIP)},_sendCoverSettingCompleteClickLog:function(){this.jplClick(r.CLASSIFIER.PAGE_COVER_CONFIRM)}});return p.build=function(e){var t=new p({model:e.model,isCreateMode:e.isCreateMode});return s.open(t),t},p}.call(t,n,t,e))||(e.exports=i)},1605:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1606),s=n(157),o=n(82),r=n(164),l=n(1090),c=n(1607),d=n(13),u=i.View.extend({attributes:{"data-viewname":"DBandListSubRecommendBandsView"},tagName:"div",className:"discoverBandList",template:t.template(a),templateContext:function(){return{discoverUrl:d.canAccessBandSearchForGuardianship()?s.GLOBAL_DISCOVER.makeUrl():null,ThumbnailUtil:o,ThumbnailType:r}},ui:{recommendBandsRegion:'[data-uiselector="recommendBandsRegion"]'},regions:{recommendBandsRegion:{el:"@ui.recommendBandsRegion",replaceElement:!0}},onRender:function(){var e=c.buildDBandPresentDiscoverView({collection:this.model.getRecommendBands().slice(0,10)});this.getRegion("recommendBandsRegion").show(e)}});return u.buildAsync=function(e){return(new l).fetchFindBandsData().then((function(e){var n=e.getRecommendBands();return t.isEmpty(n)?null:new u({model:e})}))},u}.call(t,n,t,e))||(e.exports=i)},1606:function(e,t){e.exports='<div class="mainWrap">\n    <header class="head">\n        <h2 class="sectionTitle"><%= IM(\'discover.recommend_bands.label\') %></h2>\n        <% if (discoverUrl) { %>\n        <a href="<%- discoverUrl %>" class="btnMore"><%- IM(\'ui.label.more.long\') %></a>\n        <% } %>\n    </header>\n    <div data-uiselector="recommendBandsRegion"></div>\n</div>'},1607:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1011),s=n(1240),o=n(53),r=n(157),l=i.CollectionView.extend({tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DBandListSubRecoomendBandsCollectionView"},childView:s,childViewOptions:function(){var e=o.getCurrentRouteInfo().routeInfo,t=e&&e.getPageName()==r.GLOBAL_HOME.getPageName();return{bandCoverClass:t?s.BAND_COVER_CLASS.W80:s.BAND_COVER_CLASS.W93,showBandMemberInfo:!t,itemExposureObserver:this._itemExposureObserver}},initialize:function(e){this.collection=e.collection,this._itemExposureObserver=new IntersectionObserver((function(e){t.each(e,(function(e){$(e.target).trigger("intersect",e)}))}),{rootMargin:"-50px 0px 0px 0px",threshold:[0,1]})}});return l.buildDBandPresentDiscoverView=function(e){return new l({collection:new a(e.collection)})},l}.call(t,n,t,e))||(e.exports=i)},1702:function(e,t,n){var i=n(0),a=n(6),s=n(1008),o=n(1160),r=n(1266),l=n(605),c=n(506),d=n(17),u={API_FAILED:"API_FAILED",EMPTY_RCODE_BAND:"EMPTY_RCODE_BAND"},h=a.Model.extend({initialize:function(){this._setLocalBandProps(),this._setMissionProps(),this._hasLocalBandData=!1},fetchDiscoverHome:function(){return s.getRcmdDiscover().then(i.bind((function(e){var t=c.get(e,"map.REGION_BAND_RCMD");this._hasLocalBandData=!i.isEmpty(t),this._setLocalBandProps(t);var n=c.get(e,"map.MISSION_RCMD");this._setMissionProps(n)}),this))},getMissionCollection:function(){return this._missionCollection},hasBandMission:function(){return this._missionCollection.size()>0},hasLocalBandData:function(){return this._hasLocalBandData},getLocalBandCollection:function(){return this._localBandCollection},hasLocalBand:function(){return this._localBandCollection.size()>0},getLocalBandTitle:function(){return this._localBandData.title},canRefreshByRcode:function(){return!!this._localBandData.refreshPathParam2},getLocalBandMoreUrl:function(){return this._localBandData.moreUrl},getLocalBandMoreText:function(){return this._localBandData.moreText},getLocalBandFooterText:function(){return this._localBandData.footerText},getLocalBandMoreContentLineage:function(){return this._localBandData.moreContentLineage},getLocalBandContentLineage:function(){return this._localBandData.contentLineage},getLocalBandRcmdCardIndex:function(){return this._localBandRcmdCardIndex},setLocalBandRcmdCardIndex:function(e){this._localBandRcmdCardIndex=e},refreshLocalBand:function(){return s.sendRcmdRefreshPathParam(this._localBandData.refreshPathParam).then(i.bind(this._setLocalBandProps,this),i.bind(this._generateApiFailedError,this))},refreshLocalBandByRcode:function(e){var t="&extra="+encodeURIComponent(JSON.stringify({rcode:e})),n=this._localBandData.refreshPathParam2+t;return s.sendRcmdRefreshPathParam(n).then(i.bind((function(e){var t=c.get(e,"bands_layout.body_layout.band_info_list");if(i.isEmpty(t)){var n=this._generateErrorValue(u.EMPTY_RCODE_BAND);return l.rejectValue(n)}this._setLocalBandProps(e)}),this),i.bind(this._generateApiFailedError,this))},_generateApiFailedError:function(e){var t=c.get(e,"result_data.message");return this._generateErrorValue(u.API_FAILED,t)},_generateErrorValue:function(e,t){return i.extend({type:e,message:t},u)},_setLocalBandProps:function(e){var t=(e=e||{}).bands_layout||{},n=e.content_lineage,a=e.refresh_bapi_path_param,s=e.refresh_bapi_path_param2,o=t.header_layout||{},l=o.header_right_aligned_layout||{},c=t.body_layout||{},u=t.footer_layout||{},h=window.isDesktopView?4:3,p=i.first(c.band_info_list,h);i.each(p,(function(e,t){e.index=t})),this._localBandCollection=r.build(p),this._localBandData={title:o.first_text,moreUrl:d.changeProtocolAndDomainIfBandUs(l.on_click),moreText:l.first_text,moreContentLineage:l.content_lineage,footerText:a?u.first_text:null,contentLineage:n,refreshPathParam:a,refreshPathParam2:s}},_setMissionProps:function(e){e=e||{};var t=window.isDesktopView?5:100,n=i.first(c.get(e,"missions_layout.body_layout.missions"),t);i.each(n,(function(e,t){var n=e.content_lineage;n&&(e.content_lineage=JSON.stringify(i.extend(JSON.parse(n),{index:t})))}));var a={contentLineage:c.get(e,"content_lineage"),sectionTitle:c.get(e,"missions_layout.header_layout.first_text"),moreLinkContentLineage:c.get(e,"missions_layout.header_layout.header_right_aligned_layout.content_lineage")};this._missionCollection=o.build(n,a)}});h.build=function(){return new h},e.exports=h},1703:function(e,t,n){var i=n(6),a=n(52),s=n(17),o=n(544),r=n(153),l=i.Model.extend({parse:function(e){return a.camelizeKeys(e)},getBandNo:function(){return this.get("bandNo")},getIndex:function(){return this.get("index")},getCardContentLineage:function(){return this.get("cardContentLineage")},getContentLineage:function(){return this.get("contentLineage")},getBandUrl:function(){var e={band_no:this.getBandNo()};return this.get("isRecruiting")?o.LFG_BAND_HOME.makeUrl(e):r.GROUP_BAND_HOME.makeUrl(e)},getRegionOnClick:function(){return this._changeDomain(this.get("regionOnClick"))},getKeywordOnClick:function(){return this._changeDomain(this.get("keywordOnClick"))},_changeDomain:function(e){return s.changeProtocolAndDomainIfBandUs(e)}});e.exports=l},1705:function(e,t,n){var i=n(2),a=n(0),s=n(10),o=n(1706),r=n(1267),l=n(711),c=n(506);function d(e){this._locationId=s.trim(e.location_id),this._location=null,this._cityBandCollection=o.build(),this._stateBandCollection=o.build(),this._locationSource=r.clearLocationSourceStore(this._locationId)}d.prototype.fetch=function(){return this._fetchLocation().then(a.bind(this._fetchBands,this)).then(null,a.bind(this._resolveAlways,this))},d.prototype.hasLocation=function(){return!!this._location},d.prototype.getCityName=function(){return c.get(this._location,"name","")},d.prototype.getStateName=function(){return c.get(this._location,"parent.name","")},d.prototype.getCityBandCollection=function(){return this._cityBandCollection},d.prototype.getStateBandCollection=function(){return this._stateBandCollection},d.prototype.getLocationSource=function(){return this._locationSource},d.prototype.getLocationName=function(){return this.getCityName()+", "+this.getStateName()},d.prototype._resolveAlways=function(){return i.Deferred().resolve().promise()},d.prototype._rejectAlways=function(){return i.Deferred().reject().promise()},d.prototype._fetchLocation=function(){var e=this._locationId.length;if(0<e&&e<=6)return this._rejectAlways();var t={fields:"id,name,parent"};return 0<e&&(t.id=this._locationId),l.getDiscoverLocation(t).then(a.bind((function(e){if(!c.get(e,"parent.id"))return this._rejectAlways();this._location=e}),this))},d.prototype._fetchBands=function(){return i.when(this._cityBandCollection.fetchCityBands(this._location),this._stateBandCollection.fetchStateBands(this._location))},d.fetch=function(e){var t=new d(e);return t.fetch().then((function(){return t}))},e.exports=d},1706:function(e,t,n){var i=n(0),a=n(6),s=n(1707),o=n(711),r=a.Collection.extend({model:s,modelId:function(e){return e.bandNo||e.band_no},fetchCityBands:function(e){return this._params={section:"location_bands",param1:e.id},this._fetch()},fetchStateBands:function(e){return this._params={section:"location_group_bands",param1:e.parent.id,param2:e.id},this._fetch()},fetchMore:function(){!this._fetching&&this._params&&this._fetch()},hasMore:function(){return!!this._params},_fetch:function(){return this._fetching=!0,o.getDiscoverBand(this._params).then(i.bind((function(e){var t=e.paging.next_params,n=e.items;this.add(n,{parse:!0}),i.isEmpty(t)?this._params=null:i.extend(this._params,t)}),this)).always(i.bind((function(){this._fetching=!1}),this))}});r.build=function(){return new r},e.exports=r},1707:function(e,t,n){var i=n(6),a=n(52),s=i.Model.extend({parse:function(e){return a.camelizeKeys(e)},getBandNo:function(){return this.get("bandNo")}});e.exports=s},1708:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(1173),s=i.Model.extend({});s.buildKeywordBandModel=function(e){var t=new a(e,{parse:!0});return new s({id:t.cid,contentLineage:e.content_lineage,searchPostsModel:t})};var o=i.Collection.extend({model:s,addItems:function(e){this.set(t.map(e,(function(e){return s.buildKeywordBandModel(e)})),{add:!0,merge:!0,remove:!1})},findBySearchPostsModel:function(e){return this.get(e.cid)}});return o.createKeywordBandCollection=function(e){return new o(t.map(e,(function(e){return s.buildKeywordBandModel(e)})))},o}.call(t,n,t,e))||(e.exports=i)},1709:function(e,t,n){var i,a;i=[n(2),n(0),n(6),n(1018),n(157)],void 0===(a=function(e,t,n,i,a){var s="",o={FETCH_HELP_LIST:"fetch:helpList"},r=n.Model.extend({defaults:{helpCategoryNo:"",query:"",categoryList:[],helpList:[],helpListTitle:"",noResult:!0,helpNo:"",categoryTitle:IM("ui.label.loading"),title:"",contents:"",inquiryCategoryCode:"",isHelpDetail:!1,helpURL:a.GLOBAL_HELP.getUriRule()||"",helpCategoryURL:a.GLOBAL_HELP.getUriRule()+"/category/"||!1,helpDetailURL:a.GLOBAL_HELP.getUriRule()+"/detail/"||!1},_fetchHelpCategoryList:function(t){return s?e.Deferred().resolve(s):i.getHelpCategoryList(t).then((function(e){return s=e}))},fetchHelpList:function(n){var a=this.get("helpCategoryNo"),s=decodeURIComponent(this.get("query")),r=!a&&!s,l=[this._fetchHelpCategoryList(n).then(t.bind((function(e){this.set("categoryList",e.categoryList||[]),r&&(this.set("helpList",e.faqList||[]),this.set("helpListTitle",e.labels&&e.labels.faq||"FAQ"))}),this))];r||l.push(i.getHelpList(a,s,n).then(t.bind((function(e){var t=e.category||{};this.set("helpList",t.helpList||[]),this.set("helpListTitle",(a?t.title:e.resultTitle)||IM("discover.search.txt.open_band_posts.title"))}),this))),e.when.apply(this,l).always(t.bind((function(){this.set("noResult",0==this.get("helpList").length),this.trigger(o.FETCH_HELP_LIST)}),this))},hasHelpCategoryNo:function(){return!t.isEmpty(this.get("helpCategoryNo"))}});return r.EVENT=o,r}.apply(t,i))||(e.exports=a)},1710:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4);return i.Behavior.extend({initialize:function(e){this.viewModel=e.model,this.listenTo(this.viewModel,e.dataFetchEventName,this._initSeoJsonLd)},onBeforeDetach:function(){this._removeJsonLdScript()},_initSeoJsonLd:function(){this._removeJsonLdScript();var e=[],n=this._createFaqJson(),i=this._createBreadcrumbListJson();n&&!t.isEmpty(n)&&e.push(n),i&&!t.isEmpty(i)&&e.push(i),t.isEmpty(e)||this._appendScript(e)},_appendScript:function(e){var t=$('<script id="_JSON_LD" type="application/ld+json"><\/script>').text(JSON.stringify(e));$("head").append(t)},_removeJsonLdScript:function(){$("#_JSON_LD").remove()},_createFaqJson:function(){var e=this.viewModel.get("helpDetail");return e?{"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:e.title,acceptedAnswer:{"@type":"Answer",text:e.contents}}]}:null},_createBreadcrumbListJson:function(){var e=null,t=[],n={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:t};return t.push(this._createBreadcrumbListItemJson(1,window.location.host,"")),t.push(this._createBreadcrumbListItemJson(2,IM("web.cs.pagetitle.guide"),this.viewModel.get("helpURL"))),this.viewModel.get("helpCategoryNo")&&(e=this.viewModel.get("helpCategoryURL")+this.viewModel.get("helpCategoryNo"),t.push(this._createBreadcrumbListItemJson(3,this.viewModel.get("helpListTitle"),e))),this.viewModel.get("helpNo")&&this.viewModel.get("helpDetail")&&(e=this.viewModel.get("helpDetailURL")+this.viewModel.get("helpNo"),t.push(this._createBreadcrumbListItemJson(4,IM("ui.label.detail"),e))),n},_createBreadcrumbListItemJson:function(e,t,n){return{"@type":"ListItem",position:e,name:t,item:window.location.protocol+"//"+window.location.host+n}}})}.call(t,n,t,e))||(e.exports=i)},1715:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(16);return i.Model.extend({idAttribute:"deviceNo",defaults:{deviceNo:0,loginDeviceCategory:null,deviceDetail:null,createdAt:null,lastAccessedAt:null,isCurrentDevice:!1,isTrustedDevice:!1},parse:function(e){if(t.isEmpty(e))return e;var n={};return n.deviceNo=e.device_no,n.updatedAt=a(e.last_accessed_at).format("LLL"),n.createdAt=a(e.created_at).format("LLL"),n.deviceDetail=e.device_detail,n.loginDeviceCategory=e.login_device_category,n.isCurrentDevice=e.is_current_device,n.isTrustedDevice=e.is_trusted_device,n},initialize:function(){},getDeviceNo:function(){return this.get("deviceNo")},getDeviceDetail:function(){return this.get("deviceDetail")},getCreatedAt:function(){return this.get("createdAt")},getUpdatedAt:function(){return this.get("updatedAt")},getLoginDeviceCategory:function(){return this.get("loginDeviceCategory")},isCurrentDevice:function(){return this.get("isCurrentDevice")}})}.call(t,n,t,e))||(e.exports=i)},1716:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(54),s={EMAIL:"email"},o=i.Model.extend({defaults:function(){var e={};return e[s.EMAIL]=!1,e},fetchServiceNoticeReceiving:function(){return a.getServiceNoticeReceiving().then(t.bind((function(e){return this.set(e),this}),this))},setServiceNoticeReceiving:function(e,n){return a.setServiceNoticeReceiving(e,n).then(t.bind((function(){return this.fetchServiceNoticeReceiving()}),this))},isAgreedAdEmail:function(){return this.get(s.EMAIL)}});return o.Configs=s,o}.call(t,n,t,e))||(e.exports=i)},1717:function(e,t,n){var i;void 0===(i=function(e){var t=n(21);n(13),n(9);return{getMemberReceivingEmailInfo:function(e){return t.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us/t1.0.0/get_member_receiving_email_info",data:e})},setMemberReceivingEmailInfo:function(e){return t.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us/t1.0.0/set_member_receiving_email_info",data:e,method:"POST"})}}}.call(t,n,t,e))||(e.exports=i)},1718:function(e,t,n){var i=n(2),a=n(0),s=n(10),o=n(52),r=n(1008),l=n(1010),c=n(1266),d=n(82),u=n(663),h=n(13),p=n(170),_=n(605);function m(e){this._rcode=s.trim(e.rcode),this._keywordGroup=decodeURIComponent(s.trim(e.keywordGroup)),this._keyword=this._keywordGroup?decodeURIComponent(s.trim(e.keyword)):"",this._regionName=null,this._keywordGroupList=null,this._keywordList=null,this._userKeywordList=null,this._userKeywordCandidateList=null,this._keywordNo=null,this._isUserKeyword=!1,this._isUserKeywordCandidate=!1,this._hasSubscriber=!1,this._subscribedCount=0,this._subscribers=null,this._isSubscribed=!1,this._notificationUser=null,this._collection=c.build(),this._isLoggedIn=h.isLogedIn()}m.prototype.changeDocTitle=function(){if(this.hasRegion()){var e=IM("local_band.title",{region:this._regionName});document.title=IM("page.title",{title:e})}},m.prototype.assertLogin=function(){if(!this._isLoggedIn)throw setTimeout((function(){p.goRefreshFallback()})),"Not logged in"},m.prototype.getUserName=function(){return h.getUserData().getUserName()},m.prototype.hasRegion=function(){return!!this._rcode},m.prototype.getRcode=function(){return this._rcode},m.prototype.getRegionName=function(){return this._regionName},m.prototype.hasKeywordGroup=function(){return!!this._keywordGroup},m.prototype.getKeywordGroup=function(){return this._keywordGroup},m.prototype.hasKeyword=function(){return!!this._keyword},m.prototype.getKeyword=function(){return this._keyword},m.prototype.getKeywordGroupList=function(){return this._keywordGroupList},m.prototype.getFirstKeywordGroupName=function(){return(a.first(this._keywordGroupList)||{}).name||""},m.prototype.getKeywordList=function(){return this._keywordList},m.prototype.getLocalBandCollection=function(){return this._collection},m.prototype.isUserKeywordCandidate=function(){return this._isUserKeywordCandidate},m.prototype.isUserKeyword=function(){return this._isUserKeyword},m.prototype.hasUserKeyword=function(){return!a.isEmpty(this._userKeywordList)},m.prototype.setUserKeywords=function(e){var t={keywordNoListString:e.join(","),setAt:Date.now()};return r.setRcmdUserKeywords(t)},m.prototype.toggleUserKeyword=function(){var e=!this._isUserKeyword,t={keywordNo:this._keywordNo,setAt:Date.now(),userKeywordYn:e?"Y":"N"};return r.setRcmdUserKeyword(t).then(a.bind((function(){this._isUserKeyword=e}),this))},m.prototype.hasSubscriber=function(){return this._hasSubscriber},m.prototype.getSubscribedCount=function(){return s.numberFormat(this._subscribedCount)},m.prototype.getSubscribers=function(){if(this.hasSubscriber()){var e=a.first(this._subscribers,5);return a.map(e,(function(e){return{profile:d.makeProfileThumbnailUrl(e.profileImageUrl)}}))}return null},m.prototype.canSubscribe=function(){return this.hasRegion()&&(!this.hasKeyword()||!this._isSubscribed)},m.prototype.canUnsubscribe=function(){return this.hasRegion()&&this.hasKeyword()&&this._isSubscribed},m.prototype.getUserKeywordCandidateList=function(){return this._userKeywordCandidateList},m.prototype.subscribe=function(e,t){return l.subscribeRecommendBand(this._rcode,e,t).then(a.bind((function(){return this._isSubscribed=!0,this._hasSubscriber&&(this._subscribedCount+=1,this._subscribers.unshift(this._notificationUser)),IM("local_band.notification_subscribed",{region:this._regionName,keyword:e})}),this))},m.prototype.unsubscribe=function(){return l.unsubscribeRecommendBand(this._rcode,this._keyword).then(a.bind((function(){if(this._isSubscribed=!1,this._hasSubscriber){this._subscribedCount-=1;var e=a.findIndex(this._subscribers,(function(e){return e.profileImageUrl===this._notificationUser.profileImageUrl}),this);-1!==e&&this._subscribers.splice(e,1)}return IM("local_band.notification_unsubscribed",{region:this._regionName,keyword:this._keyword})}),this))},m.prototype.fetch=function(){return this._fetchRegion().then(null,_.resolve).then(a.bind(this._fetchKeywordList,this)).then(a.bind((function(){return i.when(this._fetchRetRegionBandList().then(null,_.resolve),this._fetchSubscribers().then(null,_.resolve))}),this))},m.prototype._fetchRetRegionBandList=function(){return this._collection.fetch(this._rcode,this._keywordGroup,this._keyword)},m.prototype._fetchSubscribers=function(){return this._rcode?l.getRecommendBandSubscribers(this._rcode,this._keywordGroup,this._keyword).then(a.bind((function(e){var t=o.camelizeKeys(e),n=t.subscribedCount||0,i=t.subscribed||!1;this._hasSubscriber=n>1||1===n&&!i,this._subscribedCount=n,this._subscribers=t.subscribers||[],this._isSubscribed=i,this._notificationUser=t.me||{}}),this)):_.resolve()},m.prototype._fetchRegion=function(){return this._rcode?this._fetchRcodeName():this._fetchRcode().then(a.bind(this._fetchRcodeName,this))},m.prototype._fetchRcode=function(){return r.getRcmdUserRegion().then(a.bind((function(e){this._rcode=e.rcode.code}),this))},m.prototype._fetchRcodeName=function(){return r.getRcmdRcodeName(this._rcode).then(a.bind((function(e){this._regionName=e.rcode.name}),this),a.bind((function(){this._rcode=""}),this))},m.prototype._fetchKeywordList=function(){return r.getRcmdRegionBandKeywordList().then(a.bind((function(e){this._isLoggedIn&&(this._userKeywordList=e.user_keyword_list),this._setUserKeywordCandidateList(e),this._setKeywordGroupList(e),this._isUserKeyword=a.some(this._userKeywordList,(function(e){return e.no===this._keywordNo}),this)}),this))},m.prototype._setUserKeywordCandidateList=function(e){var t=a.map(e.keyword_group_list,(function(e){var t=a.where(e.keyword_list,{is_user_keyword_candidate:!0}).map((function(e){return{no:e.no,name:e.name}}));return 0===t.length?null:{no:e.no,name:e.name,keywordList:t}}));this._userKeywordCandidateList=a.compact(t)},m.prototype._setKeywordGroupList=function(e){var t=e.keyword_group_list,n=a.find(t,(function(e){return e.name===this._keywordGroup}),this);n&&(n.selected=!0),a.each(t,(function(e){e.url=u.getLocalBandUrl(this._rcode,e.name)}),this);var i=e.represent;i&&t.unshift({name:i,represent:!0,selected:!n,url:u.getLocalBandUrl(this._rcode)}),n?this._setKeywordList(n):(this._keywordGroup="",this._keyword=""),this._keywordGroupList=t},m.prototype._setKeywordList=function(e){var t=null;if(e&&(t=e.keyword_list),t){var n=a.find(t,(function(e){return e.name===this._keyword}),this);n&&(n.selected=!0);var i=e.name;a.each(t,(function(e){e.url=u.getLocalBandUrl(this._rcode,i,e.name)}),this);var s=e.represent;s&&t.unshift({name:s,represent:!0,selected:!n,url:u.getLocalBandUrl(this._rcode,i)}),n?(this._keywordNo=n.no,this._isUserKeywordCandidate=n.is_user_keyword_candidate):this._keyword="",this._keywordList=t}else this._keyword=""},m.fetch=function(e){var t=new m(e);return t.fetch().then((function(){return t.changeDocTitle(),t.hasRegion()&&u.setLatestLocalBandRcode(t.getRcode()),t}))},e.exports=m},1753:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(931),o=n(486),r=n(1232),l=n(1754),c=a.View.extend({attributes:{"data-viewname":"DEmailRegistrationView"},template:i.template(l),ui:{inputEmail:"._inputEmail",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel"},events:{"keyup @ui.inputEmail":"_setButtonStyle","click @ui.btnConfirm":"_registrationEmail","click @ui.btnCancel":"_layerClose"},initialize:function(e){this.profileSettingModel=e.profileSettingModel},_layerClose:function(){this.destroy()},_setButtonStyle:function(){this.ui.inputEmail.val().length>0?this.ui.btnConfirm.removeClass("-disabled"):this.ui.btnConfirm.addClass("-disabled")},_registrationEmail:function(){if(!this._validateEmail())return!1;var e=t.trim(this.ui.inputEmail.val()),n=r.buildController({profileSettingModel:this.profileSettingModel});n.openEmailView(e),this.listenTo(n,"authorization:complete",i.bind((function(){this.trigger("emailRegistration:complete"),this.destroy()}),this))},_validateEmail:function(){var e=this.ui.inputEmail.val(),t=s.EMAIL.validateEmail(e);return t==s.EMAIL.RESULT.EMPTY_EMAIL?(alert(IM("setting.account.email.alert.input_email")),this.ui.inputEmail.focus(),!1):t!=s.EMAIL.RESULT.WRONG_FORM||(alert(IM("web.setting.account.alert.invalid_email")),this.ui.inputEmail.focus(),!1)}});return c.buildAsLayer=function(e){var t=new c({profileSettingModel:e.profileSettingModel});return o.open(t),t},c}.call(t,n,t,e))||(e.exports=i)},1754:function(e,t){e.exports='<section class="lyWrap ">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("web.setting.account.txt.email_title") %></h1>\n        </header>\n\n        <div class="main">\n            <div class="p -tSpace">\n                <div class="uInputWrap">\n                    <div class="uInput">\n                        <input type="email" id="email" value="" class="_inputEmail" placeholder="<%= IM("setting.account.txt.input_email") %>">\n                        <span class="border"></span>\n                    </div>\n\n                    <p class="sDesc gMat10"><%= IM("setting.profile.txt.notice.personal_info_agreement.email") %></p>\n                </div>\n            </div>\n        </div>\n\n        <footer class="footer">\n            <button type="button" class="uButton -disabled _btnConfirm"><%= IM("ui.label.confirm") %></button>\n            <button type="button" class="btnLyClose uButton -iconClose _btnCancel"><span class="gSrOnly"><%= IM("ui.label.registration_cancel") %></span></button>\n        </footer>\n    </div>\n</section>'},1755:function(e,t,n){var i;void 0===(i=function(e){var t=n(13),i=n(21),a="/v2.0.0/get_parent_bands",s="/v2.0.0/get_student_bands",o="/v2.0.0/get_kid_bands",r="/v2.0.0/get_special_band_exposure_info";return{getApiClient:function(){return this.apiClient||(t.isLogedIn()?this.apiClient=i.getLoginV1Client():this.apiClient=i.getNoLoginV1Client()),this.apiClient},getParentBands:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+a,data:{school_id:e.school_id,grade:e.grade,clazz:e.clazz}})},getStudentBands:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+s,data:{school_id:e.school_id,grade:e.grade,clazz:e.clazz}})},getKidBands:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+o,data:{kid_id:e.school_id,clazz:e.clazz}})},getSearchSchool:function(e){var t={kind:e.kind,query:e.query};return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/search_school",data:t})},getSearchKids:function(e){var t={type:e.type,query:e.query};return this.getApiClient().sendAndThenProcess({url:"https://api.band.us/v2.0.0/search_kid",data:t})},getSpecialBandExposureInfo:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+r,data:{special_band_types:e.join(",")}})}}}.call(t,n,t,e))||(e.exports=i)},1757:function(e,t){e.exports='<div class="lyContent" style="width: 440px">\n    <header class="modalHeader">\n        <h1 class="title"><%= IM(\'region_selection.title\') %></h1>\n    </header>\n    <div class="modalBody">\n        <div class="searchWrap">\n            <label for="regionSearch" class="searchIcon"><span class="gSrOnly"><%= IM(\'region_selection.label.search_region\') %></span></label>\n            <span class="inputWrap">\n                <input type="text" id="regionSearch" class="inputSearch" placeholder="<%= searchInputPlaceholderText %>">\n            </span>\n            <button type="submit" class="btnSearch uButton -sizeS -default _btnSearch" disabled><%= IM(\'ui.label.search\') %></button>\n        </div>\n        <div class="regionalSearchArea">\n            <div class="myLocation">\n                <button type="button" class="buttonLocation _btnMyLocation">\n                    <span class="iconLocation"></span><%= IM(\'region_selection.label.my_location\') %>\n                </button>\n            </div>\n            <div class="uEmpty _emptySearchResult" style="display:none;">\n                <span class="text">\n                    <%- IM(\'region_selection.search_result.empty_title\') %><br>\n                    <%= emptySearchResultDesc %>\n                </span>\n            </div>\n            <div class="searchResultsBox _searchResultArea" style="display:none;">\n                <em class="searchResultsBoxTitle"><%= IM(\'ui.label.search_result\') %></em>\n                <div class="_searchResultListRegion"></div>\n            </div>\n            <div class="searchResultsBox _searchHistoryArea" style="display:none">\n                <em class="searchResultsBoxTitle"><%= IM(\'region_selection.search_history.title\') %></em>\n                <div class="_searchHistoryListRegion"></div>\n            </div>\n        </div>\n    </div>\n    <footer class="modalFooter gPa0">\n        <button type="button" class="uButton -iconClose btnLyClose _btnClose"><%= IM(\'ui.label.close\')%></button>\n    </footer>\n</div>'},1758:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1276),s={SELECTED:"SELECTED",DELETED:"DELETED"},o=i.View.extend({tagName:"li",className:"searchResultsItem",template:t.template('<button type="button" class="buttonText _btnSelect"><%= regionAddress %></button>\n<% if (deletable) { %>\n<button type="button" class="buttonDelete _btnDelete">\n   <span class="gSrOnly"><%= IM("region_selection.search_history.delete") %></span>\n</button>\n<% } %>'),templateContext:function(){return{cid:this.model.cid,deletable:this.options.deletable,regionAddress:this._getRegionAddress()}},events:{"click ._btnSelect":function(e){this.trigger(s.SELECTED,this.model)},"click ._btnDelete":function(e){this.trigger(s.DELETED,this.model),this.model.collection.remove(this.model)}},_getRegionAddress:function(){var e=this.options.highlightText;return e?this.model.get("fullAddress").replace(e,'<em class="keyword">'+e+"</em>"):this.model.get("shortAddress")}}),r=i.CollectionView.extend({tagName:"ul",className:"searchResultsList",attributes:{"data-viewname":"DSelectableRegionListView"},behaviors:function(){var e=[];return this.options.collection.getQuery()&&e.push({behaviorClass:a,fetchMoreFunc:t.bind((function(){this.collection.searchMore()}),this)}),e},childView:o,childViewOptions:function(e,n){return{deletable:!!t.isBoolean(this.options.deletable)&&this.options.deletable,highlightText:this.options.highlightText}},childViewTriggers:function(){var e={};return e[s.SELECTED]=s.SELECTED,e[s.DELETED]=s.DELETED,e}});return r.EVENTS=s,r}.call(t,n,t,e))||(e.exports=i)},1759:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(54),s=n(486),o=n(1526),r=n(1761),l=i.View.extend({attributes:{"data-viewname":"DPasswordSettingItemView"},template:t.template(r),ui:{inputPassword:"._inputPassword",txtWrongPassword:"._txtWrongPassword",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel"},events:{"keyup @ui.inputPassword":"_setButtonStyle","keypress @ui.inputPassword":"_validatePassword","click @ui.btnConfirm":"_validatePassword","click @ui.btnCancel":function(){this.destroy()}},initialize:function(){},_setButtonStyle:function(){this.ui.inputPassword.val().length>0?this.ui.btnConfirm.removeClass("-disabled"):this.ui.btnConfirm.addClass("-disabled")},_validatePassword:function(e){if(13===e.which||1===e.which){var n=$.trim(this.ui.inputPassword.val());return a.verifyCurrentPassword(n).then(t.bind((function(){o.buildAsLayer({password:n})}),this)).fail(t.bind((function(){return this.ui.inputPassword.val(""),this.ui.inputPassword.focus(),this.ui.txtWrongPassword.show(),this._setButtonStyle(),!1}),this)),!1}}});return l.buildAsLayer=function(){s.open(new l)},l}.call(t,n,t,e))||(e.exports=i)},1760:function(e,t){e.exports='<section class="lyWrap ">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("web.setting.account.btn.change_password") %></h1>\n        </header>\n        <div class="main">\n            <p class="p"><%= IM("web.setting.account.txt.password_description") %></p>\n            <div class="p -tSpace">\n                <div class="uInput gMat14 -h36 -borderColorD">\n                    <label class="gSrOnly" for="pw"><%= IM("setting.account.txt.input_password") %></label>\n                    <input type="password" id="pw" placeholder="<%= IM(\'setting.account.txt.input_password\') %>" class="_inputPassword">\n                </div>\n                <div class="uInput gMat6 -h36 -borderColorD" data-height="h40">\n                    <label class="gSrOnly" for="pw2"><%= IM("setting.account.txt.input_password_confirm") %></label>\n                    <input type="password" id="pw2" placeholder="<%= IM(\'setting.account.txt.input_password_confirm\') %>" class="_inputPasswordConfirm">\n                </div>\n            </div>\n        </div>\n        <footer class="footer">\n            <button type="button" class="uButton -cancel _btnCancel"><%= IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -confirm -disabled _btnConfirm"><%= IM("ui.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},1761:function(e,t){e.exports='<section class="lyWrap ">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("setting.account.title.check_current_password") %></h1>\n        </header>\n        <div class="main">\n            <p class="p"><%= IM("setting.account.txt.input_current_password") %></p>\n            <div class="p -tSpace">\n                <div class="uInputWrap">\n                    <div class="uInput">\n                        <label class="gSrOnly" for="pw"><%= IM("setting.account.txt.input_password") %></label>\n                        <input type="password" id="pw" placeholder="<%= IM(\'setting.account.txt.input_password\') %>" class="_inputPassword">\n                        <span class="border"></span>\n                    </div>\n                    <p class="inputError _txtWrongPassword" style="display: none;"><%= IM("setting.account.txt.check_current_password.wrong_password") %></p>\n                </div>\n            </div>\n        </div>\n        <footer class="footer">\n            <button type="button" class="uButton -cancel _btnCancel _btnCancel"><%= IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -confirm -disabled _btnConfirm"><%= IM("ui.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},1762:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(52),a=n(4),s=n(6),o=n(1763),r=n(22),l=n(161),c=n(578),d=n(82),u=n(162),h=n(798),p=n(157),_=n(53),m={W93:"-w93",W80:"-w80",W60:"-w60"},g=s.Model.extend({idAttribute:"id",defaults:function(){return{id:0,bandCore:null,description:"",content:"",memberCount:0,contentLineage:null,live:null,keywordsWithKeywordGroups:[]}},parse:function(e){var n=i.camelizeKeys(e),a=t.pick(n,"description","content","memberCount","contentLineage","live","keywordsWithKeywordGroups");return n.type=r.BAND_TYPE.PAGE,a.id=n.bandNo,a.bandCore=l.createBandCoreWithAction(n),a},getBandCore:function(){return this.get("bandCore")},getContent:function(){return this.get("content")},getDescription:function(){return this.get("description")},getMemberCount:function(){return this.get("memberCount")},getContentLineage:function(){return this.get("contentLineage")},getKeywordsWithKeywordGroups:function(){return this.get("keywordsWithKeywordGroups")},isKeywordsWithKeywordGroups:function(){return!t.isEmpty(this.get("keywordsWithKeywordGroups"))},isLive:function(){return this.get("live")||!1}}),b=a.View.extend({tagName:"li",className:"cCoverItem",template:t.template(o),ui:{profileImg:"._profileImg",pageBandHomeLink:"._pageBandHomeLink",btnSubscribe:"._btnSubscribe"},events:{"click @ui.pageBandHomeLink":function(){this._triggerClickLog(!1)},"click @ui.btnSubscribe":function(){this._triggerClickLog(!0),this._subscribePage()}},initialize:function(e){this._index=e.index,this._profileClass=e.profileClass,this._linkTarget=e.linkTarget,this._pageClass=e.pageClass,this._isPageSubscribedRecently=!1},templateContext:function(){var e=!1;return _.getCurrentRouteInfo().routeInfo===p.GLOBAL_RECOMMENDED_PAGE_BAND&&(e=!0),{showKeyword:e,targetUrl:t.bind((function(e,t){return p.GLOBAL_KEYWORD_GROUP.makeUrl({group:encodeURIComponent(e),keyword:encodeURIComponent(t)})}),this)}},serializeData:function(){var e=this.model.getBandCore(),t=((this.model.getDescription()||"")+" "+(this.model.getContent()||"")).trim();return{profileClass:this._profileClass,pageBandHomeUrl:u.PAGE_BAND_HOME.makeUrl({band_no:e.bandNo}),showPageSubscriptionButton:e.isSubscribingAvailable()||this._isPageSubscribedRecently,showPageSubscriptionButtonAsSubscribed:this._isPageSubscribedRecently,name:e.name,nameLine:this._getNameLine(),introText:t,certified:e.certified,profileImage:d.make(e.profileImage,d.TYPE.s276),subscriberCountText:c.numberWithCommas(this.model.getMemberCount()+(this._isPageSubscribedRecently?1:0)),linkTarget:this._linkTarget,isLive:this.model.isLive(),pageClass:this._pageClass,keywordsWithKeywordGroups:this.model.getKeywordsWithKeywordGroups(),isKeywordsWithKeywordGroups:this.model.isKeywordsWithKeywordGroups()}},onRender:function(){this.ui.profileImg.on("error",t.bind((function(){this.ui.profileImg.off().remove()}),this))},_triggerClickLog:function(e){this.trigger("clickLog",{joining:e,index:this._index,bandCore:this.model.getBandCore(),contentLineage:this.model.getContentLineage()})},_subscribePage:function(){var e=this.model.getBandCore();h.build({onBandJoinCompleted:t.bind((function(e){e&&alert(e),this._isPageSubscribedRecently=!0,this.render()}),this)}).startJoinFromBand(e.bandNo)},_getNameLine:function(){return this._profileClass==m.W60?2:1},_findTargetKeyword:function(){return t.pluck(this.model.getKeywordsWithKeywordGroups(),"keyword")}});return b.PROFILE_CLASS=m,b.LINK_TARGET={BLANK:"_blank",SELF:"_self"},b.PAGE_CLASS={CIRCLE:"-circle",PAGECOVERIMAGE:"pageCoverImage"},b.Model=g,b}.call(t,n,t,e))||(e.exports=i)},1763:function(e,t){e.exports='\x3c!-- home/discovery 추천밴드 또는 페이지 일 경우 --\x3e\n<div class="bandUri">\n    <div class="cover">\n        \x3c!-- [D] discover home > 추천 페이지 : -circle ,\n         주제별 밴드 찾기 : pageCoverImage --\x3e\n        <div class="uCoverImage <%- profileClass %> -border <%- pageClass %>">\n            <span class="coverInner"><% if (profileImage) { %><img src="<%- profileImage %>" class="coverImg _profileImg" alt=""><% } %></span>\n        </div>\n    </div>\n    <div class="bandName">\n        <div class="name">\n            <a href="<%- pageBandHomeUrl %>" class="text<%- nameLine == 2 ? \' -multiLine\' : \'\' %> _pageBandHomeLink" target="<%- linkTarget %>">\n                <% if (certified) { %><span class="uOfficialBand -sizeS"><%- IM(\'ui.label.official_page_band\') %></span> <% } %><%- name %>\n            </a>\n            <% if (isLive) { %><span class="gMarkLive -w26"><%= IM(\'ui.label.live\') %></span><% } %>\n        </div>\n        <% if(introText) { %>\n        <p class="pSubTxt gMat4 -multiLine"><%- introText %></p>\n        <% } %>\n\n        <% if (showKeyword && isKeywordsWithKeywordGroups) { %>\n        <ul class="selectedKeywordList">\n            <% _.each(keywordsWithKeywordGroups, function(item) { %>\n            <li class="selectedKeywordItem">\n                <a href="<%- targetUrl(item.keywordGroups[0], item.keyword) %>" class="selectedKeywordLink"><%- item.keyword %></a>\n            </li>\n            <% }) %>\n        </ul>\n        <% } %>\n\n        <% if (showPageSubscriptionButton) { %>\n            <% if (showPageSubscriptionButtonAsSubscribed) { %>\n            <button type="button" class="btnPageSubscription -disabled _btnSubscribe" disabled><%= IM("page_band.label.is_subscribing") %></button>\n            <% } else { %>\n            <button type="button" class="btnPageSubscription _btnSubscribe"><%= IM(\'page_band.label.subscribe_short\') %></button>\n            <% } %>\n        <% } %>\n        <div class="readMember">\n            <span class="total"><%- IM(\'page_band.label.subscriber_count\', {subscriberCount: subscriberCountText})%></span>\n        </div>\n    </div>\n</div>\n<a href="<%- pageBandHomeUrl %>" class="bandLink _pageBandHomeLink" target="<%- linkTarget %>"><span class="gSrOnly"><%- IM(\'ui.label.go_to_this_page\') %></span></a>'},1764:function(e,t,n){var i=n(4),a=n(3219),s=n(1437),o=i.CollectionView.extend({tagName:"div",className:function(){switch(this.options.viewType){case s.LOCAL_BAND:return"localMeetupWrap gMat25";default:return"localMeetupWrap gMat19"}},attributes:{"data-viewname":"DLocalBandListView"},reorderOnSort:!0,childView:a,childViewOptions:function(){return{viewType:this._viewType,homeModel:this._homeModel}},initialize:function(e){this._viewType=e.viewType,this._homeModel=e.homeModel}});o.buildDiscoverHome=function(e){return new o({collection:e.getLocalBandCollection(),homeModel:e,viewType:s.DISCOVER_HOME})},o.buildLocalBand=function(e){return new o({collection:e,viewType:s.LOCAL_BAND})},o.buildLfgResult=function(e){return new o({collection:e,viewType:s.LFG_RESULT})},e.exports=o},1765:function(e,t,n){var i=n(0),a=n(4),s=n(3222),o=n(1766),r=n(157),l=n(83),c=n(1161),d=n(663),u=n(486),h=n(84),p=a.View.extend({EVENT:{CONFIRM:"CONFIRM",CANCEL:"CANCEL"},tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DLocalBandRecruitMenuView"},template:i.template(s),ui:{valueRadio:"._valueRadio",cancelBtn:"._cancelBtn",confirmBtn:"._confirmBtn"},events:{"change @ui.valueRadio":"_onChangeValueRadio","click @ui.cancelBtn":"_onClickCancelBtn","click @ui.confirmBtn":"_onClickConfirmBtn"},initialize:function(e){this._lfgUrl=e.lfgUrl||d.getLocalBandLfgUrl()},serializeData:function(){var e=[c.RECRUIT_MENU.NEW_BAND,c.RECRUIT_MENU.EXISTING_BAND],t=i.map(e,this._getMenuByValue,this);return{viewId:this.cid,menuList:t}},_getMenuByValue:function(e){switch(e){case c.RECRUIT_MENU.NEW_BAND:return{value:e,label:IM("local_band_menu.new_band")};case c.RECRUIT_MENU.EXISTING_BAND:return{value:e,label:IM("local_band_menu.existing_band")}}},_getCheckedValue:function(){return this.ui.valueRadio.filter(":checked").val()},_onChangeValueRadio:function(){this.ui.confirmBtn.prop("disabled",!this._getCheckedValue())},_onClickCancelBtn:function(){this.trigger(this.EVENT.CANCEL),this.destroy()},_onClickConfirmBtn:function(){switch(this._getCheckedValue()){case c.RECRUIT_MENU.EXISTING_BAND:this._selectExistingBand();break;case c.RECRUIT_MENU.NEW_BAND:this.selectNewBand()}this.destroy()},_selectExistingBand:function(){this.trigger(this.EVENT.CONFIRM,c.RECRUIT_MENU.EXISTING_BAND),r.GLOBAL_LOCAL_BAND_APPLY.goDForced()},selectNewBand:function(){this.trigger(this.EVENT.CONFIRM,c.RECRUIT_MENU.NEW_BAND),l.checkForCreatingRecruitingBand("local").then(i.bind((function(){h.go(this._lfgUrl)}),this))}});p.openLayer=function(e){var t=new p({lfgUrl:e});return o.fetchBandCount().then((function(e){0<e?u.open(t):(t.selectNewBand(),t.destroy())}),(function(){t.destroy()})),t},e.exports=p},1766:function(e,t,n){var i=n(0),a=n(1039),s=n(83),o={fetchBandCount:function(){var e=[a.BAND_FIELD.BAND.BAND_NO];return this._fetchBandList(e).then((function(e){return e.length}))},fetchBandList:function(){var e=a.BAND_LIST_DEFAULT_FIELDS;return this._fetchBandList(e)},_fetchBandList:function(e){var t=[a.BAND_FILTER.LEADER,a.BAND_FILTER.PUBLIC_OR_CLOSED,"!"+a.BAND_FILTER.LOCAL_BAND];return s.getBandListWithFilter(t,e).then((function(e){return i.pluck(e,"band")}))}};e.exports=o},1767:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(4),s=n(157),o=n(174),r=n(486),l=n(521),c=n(54),d=n(1768),u=n(1770),h=n(510),p=n(1772),_=n(1774),m=n(801),g=a.Object.extend({initialize:function(e){this.model=e.model,this.profileSettingModel=e.model.get("profileSettingModel"),this.authType=e.authType,this.agreementsInfo=l.buildPersonalInfoAgreementData()},openPhoneNumberInputView:function(){var e=_.buildAsLayer(this.profileSettingModel);this.listenToOnce(e,_.EVENT.NEXT,(function(e){this.openPhoneView(e.regionCode,e.phoneNumber)}))},openPhoneView:function(e,n){var a={regionCode:e,phoneNumber:n};if(t.isEmpty(a.regionCode)&&t.isEmpty(i.trim(a.phoneNumber)))this._openPhoneUseAgreementView();else if(this._getPhoneInfo(a).isValidNumber)if(this.model.isPasswordExist())this._openPhoneVerifyView(a);else{var s=d.buildAsLayer();this.listenTo(s,"phoneVerify:openPhoneVerifyView",t.bind((function(e){this.model.setPassword(e),this._openPhoneVerifyView(a)}),this))}else alert(IM("web.setting.account.txt.wrong_phone_number"))},_openPhoneUseAgreementView:function(){if(!this.profileSettingModel.get("agreementsInfo").email)return alert(IM("setting.account.phone.service_use_agreement.disabled_notice")),!1;h.openLayer({bodyDesc:IM("setting.account.phone.service_use_agreement.agree_description"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(h.EVENTS.CONFIRM,t.bind((function(){this.agreementsInfo.cancelPersonalInfoAgreements(l.AGREE_TARGET.PHONE_NUMBER).then(t.bind((function(){this.trigger("updatePhone:denyAgreement")}),this),(function(){return alert(IM("error.wrong_request")),!1}))}),this))},_openPhoneVerifyView:function(e){var n=this._getPhoneInfo(e);if(!n.isValidNumber)return alert(IM("web.setting.account.txt.wrong_phone_number")),!1;var i=this.model.getE164PhoneNumber(),a=n.formatE164.replace(/^\+/,"");if(this.authType!==m.AUTH_TYPE_2FA&&i==a)return this.trigger("updatePhone:cancel"),!1;c.sendAuthSms(a).then(t.bind((function(){var e=n.formatInternational,s=u.buildAsLayer(e);this.listenTo(s,"phoneVerify:verified",t.bind((function(e,n){this.authType!==m.AUTH_TYPE_2FA||i!=a?this._confirmPhoneOwner(e,n).done(t.bind((function(){this._updatePhoneNumber(a,e,n)}),this)):this._pageMoveAndClose(e)}),this)),this.listenTo(s,"phoneVerify:sendAuthSms",t.bind((function(){c.sendAuthSms(a)}),this))}),this)).fail(t.bind((function(){}),this))},_getPhoneInfo:function(e){var t=e.regionCode,n=e.phoneNumber;return o.getPhoneNumberInfoFromLocalNumber(n,t)},_confirmPhoneOwner:function(e,t){var n=i.Deferred();if(!t)return n.resolve();var a=p.buildAsLayer(e,t);return this.listenToOnce(a,"connectPhoneNumber:selected",(function(){n.resolve()})),n.promise()},_updatePhoneNumber:function(e,n){var i=this.model.isPasswordExist()?null:this.model.getPassword();c.connectPhoneNumber(e,n,i).then(t.bind((function(){this._setAgreementPhone(n)}),this))},_setAgreementPhone:function(e){if(this.model.isInfoAgreementsPhone())return this.profileSettingModel.fetchUserProfile().then(t.bind((function(){this._pageMoveAndClose(e)}),this));var n=l.AGREE_TARGET.PHONE_NUMBER;this.agreementsInfo.setPersonalInfoAgreements(n).then(t.bind((function(){return this.profileSettingModel.fetchUserProfile().then(t.bind((function(){this._pageMoveAndClose(e)}),this))}),this))},_pageMoveAndClose:function(e){this.authType===m.AUTH_TYPE_2FA?this.trigger(m.SMS_AUTH_COMPLETE,{token:e}):s.GLOBAL_MY_PROFILE.goDForced(),r.closeAll()}});return g.Model=Backbone.Model.extend({setE164PhoneNumber:function(e){this.set("e164PhoneNumber",e)},getE164PhoneNumber:function(){return this.get("e164PhoneNumber")},isPasswordExist:function(){return this.get("isPasswordExist")},isInfoAgreementsPhone:function(){return this.get("isInfoAgreementsPhone")},setPassword:function(e){this.set("password",e)},getPassword:function(){return this.get("password")}}),g.Model.build=function(e){var t=null,n=e.get("phoneNumber");return!!n&&n.isValidNumber&&(t=n?n.formatE164.replace(/^\+/,""):""),new g.Model({profileSettingModel:e,e164PhoneNumber:t,isPasswordExist:e.isPasswordExist(),isInfoAgreementsPhone:e.get("agreementsInfo").phoneNumber})},g.buildController=function(e){var t=g.Model.build(e.profileSettingModel);return new g({model:t,authType:e.authType||null})},g}.call(t,n,t,e))||(e.exports=i)},1768:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=(n(54),n(931)),s=(n(9),n(486)),o=n(1769),r=i.View.extend({attributes:{"data-viewname":"DPasswordConfirmView"},template:t.template(o),ui:{inputPassword:"._inputPassword",inputPasswordConfirm:"._inputPasswordConfirm",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel"},events:{"keyup @ui.inputPassword":"_setButtonStyle","keyup @ui.inputPasswordConfirm":"_setButtonStyle","click @ui.btnConfirm":"_showPhoneVerifyView","click @ui.btnCancel":"destroy"},_setButtonStyle:function(){var e=this.ui.inputPassword.val(),t=this.ui.inputPasswordConfirm.val();this.getUI("btnConfirm").attr("disabled",0===e.length||0===t.length)},_showPhoneVerifyView:function(e){if(e.preventDefault(),!this._isValidPassword())return!1;var t=this.ui.inputPassword.val();this.trigger("phoneVerify:openPhoneVerifyView",t),this.destroy()},_isValidPassword:function(){var e=this.ui.inputPassword.val(),t=this.ui.inputPasswordConfirm.val();switch(a.PASSWORD.validatePassword(e,t)){case a.PASSWORD.RESULT.TOO_SHORT_PASSWORD:case a.PASSWORD.RESULT.TOO_LONG_PASSWORD:case a.PASSWORD.RESULT.NONE_ALPHABET:case a.PASSWORD.RESULT.NONE_NUMBER:return alert(IM("web.setting.account.alert.wrong_password_length")),this.ui.inputPassword.focus(),!1;case a.PASSWORD.RESULT.UNMATCHED:return alert(IM("web.setting.account.unmatched_password")),this.ui.inputPasswordConfirm.focus(),!1}return!0}});return r.buildAsLayer=function(){var e=new r;return s.open(e),e},r}.call(t,n,t,e))||(e.exports=i)},1769:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent" style="width: 340px">\n        <header class="modalHeader">\n            <h1 class="title"><%= IM("setting.account.password_input") %></h1>\n        </header>\n\n        <div class="modalBody">\n            <div class="modalContentWrap gMat15">\n                <p class="pText"><%= IM("setting.account.password_desc1") %></p>\n                <p class="pText gMat8"><%= IM("setting.account.password_desc2") %></p>\n\n                <div class="uInput gMat15">\n                    <label class="gSrOnly" for="pw"><%= IM("setting.account.txt.input_password") %></label>\n                    <input type="password" id="pw" placeholder="<%= IM(\'setting.account.txt.input_password\') %>" class="_inputPassword">\n                    <span class="border"></span>\n                </div>\n\n                <div class="uInput gMat8">\n                    <label class="gSrOnly" for="pw2"><%= IM("setting.account.txt.input_password_confirm") %></label>\n                    <input type="password" id="pw2" placeholder="<%= IM(\'setting.account.txt.input_password_confirm\') %>" class="_inputPasswordConfirm">\n                    <span class="border"></span>\n                </div>\n            </div>\n        </div>\n\n        <footer class="modalFooter">\n            <button type="button" class="uButton -cancel _btnCancel"><%- IM(\'ui.label.cancel\') %></button>\n            <button type="button" class="uButton -confirm _btnConfirm" disabled><%= IM("ui.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},1770:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(54),s=n(486),o=n(801),r=n(1771),l=n(52),c=i.View.extend({attributes:{"data-viewname":"DPhoneVerifyView"},template:t.template(r),ui:{inputAuthCode:"._inputAuthCode",panelSendSmsMsg:"._panelSendSmsMsg",panelConfirmAuthMsg:"._panelConfirmAuthMsg",btnUpdatePhoneNumber:"._btnUpdatePhoneNumber",btnCancel:"._btnCancel",btnNoResponse:"._btnNoResponse",btnResendAuthCode:"._btnResendAuthCode"},events:{"keyup @ui.inputAuthCode":"_setAuthCodeStyle","keypress @ui.inputAuthCode":"_onKeyPressInputAuthCode","click @ui.btnUpdatePhoneNumber":"_verifyPhoneNumber","click @ui.btnCancel":function(){this.destroy()},"click @ui.btnNoResponse":"_showResendAuthCodePanel","click @ui.btnResendAuthCode":"_resendAuthCode"},initialize:function(e){this._phoneNumber=e.phoneNumber},serializeData:function(){return{phoneNumber:this._phoneNumber,maxLengthAuthCode:o.MAX_LENGTH_AUTH_CODE}},onDestroy:function(){this._countTimer&&clearInterval(this._countTimer)},_setAuthCodeStyle:function(){var e=o.MAX_LENGTH_AUTH_CODE,t=this.ui.inputAuthCode.val();if(t.length>e)return alert(IM("web.setting.account.alert.wrong_auth_number")),!1;/\d{4,}/.test(t)?(this.ui.btnUpdatePhoneNumber.attr("disabled",!1),this.ui.panelSendSmsMsg.hide(),this.ui.panelConfirmAuthMsg.show()):(this.ui.btnUpdatePhoneNumber.attr("disabled",!0),this.ui.panelSendSmsMsg.show(),this.ui.panelConfirmAuthMsg.hide())},_showResendAuthCodePanel:function(){this.ui.btnResendAuthCode.show(),this.ui.btnNoResponse.hide()},_resendAuthCode:function(){this.trigger("phoneVerify:sendAuthSms"),this._changeBtnResendAuthCodeState()},_changeBtnResendAuthCodeState:function(){var e=30;this.getUI("btnResendAuthCode").attr("disabled",!0),this.getUI("btnResendAuthCode").text(IM("web.setting.account.alert.sms_transmission")+"("+e+")"),this._countTimer=setInterval(t.bind((function(){if(--e>0)return this.getUI("btnResendAuthCode").attr("disabled",!0),void this.getUI("btnResendAuthCode").text(IM("web.setting.account.alert.sms_transmission")+"("+e+")");this.getUI("btnResendAuthCode").attr("disabled",!1),this.getUI("btnResendAuthCode").text(IM("web.setting.account.btn.resend_sms")),clearInterval(this._countTimer)}),this),1e3)},_verifyPhoneNumber:function(e){e.preventDefault();var n=this.ui.inputAuthCode.val();a.verifySms(this._phoneNumber,n).then(t.bind((function(e){var t=l.camelizeKeys(e),n=t.verificationToken,i=!!t.owner&&t.owner;this.trigger("phoneVerify:verified",n,i),this.destroy()}),this))},_onKeyPressInputAuthCode:function(e){13!==e.keyCode||this.getUI("btnUpdatePhoneNumber").attr("disabled")||this._verifyPhoneNumber(e)}});return c.buildAsLayer=function(e){var t=new c({phoneNumber:e});return s.open(t),t},c}.call(t,n,t,e))||(e.exports=i)},1771:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w360">\n        <header class="modalHeader">\n            <h1 class="title"><%= IM("setting.account.title.input_auth_code") %></h1>\n        </header>\n        <div class="modalBody">\n            <div class="modalContentWrap gMat13">\n                <% // 인증 번호를 전송했습니다. %>\n                <p class="pText gTaC _panelSendSmsMsg">\n                    <strong class="-pointColor"><%- phoneNumber %></strong><br>\n                    <%= IM("web.setting.account.alert.sms_sent_message") %>\n                </p>\n\n                <% // 인증번호가 입력되었습니다. %>\n                <p class="pText gTaC _panelConfirmAuthMsg gMat0" style="display: none;">\n                    <strong class="-pointColor"><%= IM("setting.account.alert.sms_input_auth_code.desc1") %></strong><br>\n                    <%= IM("setting.account.alert.sms_input_auth_code.desc2") %>\n                </p>\n\n                <% // 인증번호 입력창 %>\n                <div class="uInput gMat16">\n                    <label class="gSrOnly" for="certNo"><%= IM("setting.account.title.input_auth_code") %></label>\n                    <input type="text" id="certNo" placeholder="<%= IM(\'web.setting.account.placeholder.auth_number_input\') %>" maxlength="<%- maxLengthAuthCode %>" class="_inputAuthCode" autofocus>\n                    <span class="border"></span>\n                </div>\n            </div>\n        </div>\n        <footer class="modalFooter gMat-10">\n            <% // 확인 버튼 %>\n            <button type="submit" class="uButton -sizeL -confirm -wFull _btnUpdatePhoneNumber" disabled><%= IM("ui.label.confirm") %></button>\n            <button type="button" class="btnLyClose uButton -iconClose _btnCancel"><span class="gSrOnly"><%= IM("ui.label.cancel") %></span></button>\n\n            <% // 인증번호가 오지 않는다면? %>\n            <div class="gTaC gFs13 gColorBk3 gMat20">\n                <button type="button" class="uButton -text _btnNoResponse"><%= IM("web.setting.account.alert.sms_no_response") %></button>\n            </div>\n\n            <% // 인증문자 다시 받기 %>\n            <button type="button" class="uButton -sizeL -confirm -wFull gMat15 _btnResendAuthCode" style="display:none;"><%= IM("web.setting.account.btn.resend_sms") %></button>\n        </footer>\n    </div>\n</section>'},1772:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1773),s=n(82),o=n(205),r=n(157),l=n(486),c=n(510),d=n(54),u=n(562),h=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DPhoneOwnerSelectionView"},template:t.template(a),templateContext:function(){return{nameHint:this._ownerInfo.nameHint,profileImageUrl:s.makeProfileBigThumbnailUrl(this._ownerInfo.profileImageUrl)}},ui:{btnLoginAsPhoneOwner:"._btnLoginAsPhoneOwner",btnConnectPhoneNumber:"._btnConnectPhoneNumber",btnCancel:"._btnCancel",profileNameInput:"._profileNameInput"},events:{"click @ui.btnLoginAsPhoneOwner":"_checkNameAndLogin","click @ui.btnConnectPhoneNumber":"_connectPhoneNumber","click @ui.btnCancel":function(){this.destroy()},"click @ui.profileNameInput":function(e){if(!e.target.value){var t=this._ownerInfo.nameHint.replace(/[\s?\*]+$/,"");if(e.target.value=t,e.target.createTextRange){var n=e.target.createTextRange();n.moveStart("character",t.length),n.select()}else $(e.target).blur().focus()}},"keyup @ui.profileNameInput":function(e){var t=$(e.target).val().length!=this._ownerInfo.nameHint.length;this.ui.btnLoginAsPhoneOwner.attr("disabled",t)}},initialize:function(e){this._verificationToken=e.verificationToken,this._ownerInfo=e.ownerInfo},_checkNameAndLogin:function(){var e=this.ui.profileNameInput.val();return d.checkName(e,this._verificationToken).then(t.bind((function(){this._loginAsPhoneOwner()}),this)).fail((function(e){var t=e.result_data.message?e.result_data.message:IM("ui.alert.temporary_error");u.openLayer({bodyTitle:t,withoutHiding:!0})}))},_loginAsPhoneOwner:function(){var e=location.protocol+"//"+location.host+r.GLOBAL_HOME.makePath(),t=o.akey().akey;$("<form></form>").attr("action","https://"+window.authDomain+"/phone_verification_token_login").attr("method","post").appendTo(this.$el).append($('<input type="hidden" name="verification_token" value="'+this._verificationToken+'">')).append($('<input type="hidden" name="next_url" value="'+e+'">')).append($('<input type="hidden" name="akey" value="'+t+'">')).submit()},_connectPhoneNumber:function(){c.openLayer({bodyTitle:IM("link.phone.to.account.desc"),withoutHiding:!0}).once(c.EVENTS.CONFIRM,t.bind((function(){this.trigger("connectPhoneNumber:selected")}),this))}});return h.buildAsLayer=function(e,t){var n=new h({verificationToken:e,ownerInfo:t});return l.open(n),n},h}.call(t,n,t,e))||(e.exports=i)},1773:function(e,t){e.exports='<div class="lyContent -w360">\n    <header class="modalHeader">\n        <h1 class="title"><%= IM(\'web.setting.account.phone_owner_selection.title\') %></h1>\n    </header>\n    <div class="modalBody">\n        <div class="modalContentWrap">\n            <p class="pText gTaC gMat15"><%= IM(\'web.setting.account.phone_owner_selection.desc\') %></p>\n            <div class="profileInfo">\n                <p class="boxCover gMat16">\n                    <span class="uProfile -size140">\n                        <span class="profileInner">\n                            <% if (!!profileImageUrl) { %>\n                            <img src="<%- profileImageUrl %>" width="140" height="140" alt="<%= IM(\'photo\') %>">\n                            <% } %>\n                        </span>\n                    </span>\n                </p>\n                <div class="userInfo -lrSpaceNone gPat12">\n                    <span class="userName"><%- nameHint %></span>\n                </div>\n                <div class="uInput -simpleLine -realName -displayInline -borderColorGr4 gMat29 gPab19" style="width: 100%;">\n                    <label class="gSrOnly" for="realName"><%= IM("input.profile.name") %></label>\n                    <input class="_profileNameInput" type="text" id="realName" placeholder="<%- nameHint %>">\n                    <span class="border"></span>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    <footer class="modalFooter gPab12">\n        <button type="button" class="uButton -sizeL -wFull -phoneLogin _btnLoginAsPhoneOwner" disabled><%= IM(\'web.setting.account.phone_owner_selection.login_as_phone_owner\') %></button>\n        <button type="button" class="uButton -registration _btnConnectPhoneNumber"><%= IM(\'web.setting.account.phone_owner_selection.connect_phone_number\') %></button>\n        <button type="button" class="btnLyClose uButton -iconClose _btnCancel"><span class="gSrOnly"><%= IM(\'ui.label.cancel\') %></span></button>\n    </footer>\n</div>'},1774:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(486),s=n(1775),o=n(174),r={NEXT:"phoneNumberInput:next"},l=i.View.extend({attributes:{"data-viewname":"DPhoneNumberInputView"},template:t.template(s),templateContext:function(){return{regionCode:this.model.getPhoneNumber().regionCode,countryCodeList:o.getAllCountryCode()}},ui:{selectCountryCode:"._selectCountryCode",inputPhoneNumber:"._inputPhoneNumber",btnNext:"._btnNext",btnCancel:"._btnCancel"},events:{"change @ui.selectCountryCode, mousedown @ui.selectCountryCode":function(e){var t=$(e.currentTarget).find(":selected");t.text(t.data("selectedText")),this._changeNextButtonState()},"input @ui.inputPhoneNumber":"_changeNextButtonState","keypress @ui.inputPhoneNumber":"_onKeyPressInputPhoneNumber","click @ui.btnNext":"_onClickBtnNext","click @ui.btnCancel":"destroy"},_changeNextButtonState:function(){this.getUI("btnNext").attr("disabled",!this.getUI("selectCountryCode").val()||!this.getUI("inputPhoneNumber").val())},_onKeyPressInputPhoneNumber:function(e){13!==e.keyCode||this.getUI("btnNext").attr("disabled")||this._onClickBtnNext()},_onClickBtnNext:function(){var e=this.getUI("selectCountryCode").find("option:selected").data("regioncode"),t=$.trim(this.getUI("inputPhoneNumber").val());if(!o.getPhoneNumberInfoFromLocalNumber(t,e).isValidNumber)return alert(IM("web.setting.account.txt.wrong_phone_number")),!1;this.trigger(r.NEXT,{regionCode:e,phoneNumber:t}),this.destroy()}});return l.EVENT=r,l.buildAsLayer=function(e){var t=new l({model:e});return a.open(t),t},l}.call(t,n,t,e))||(e.exports=i)},1775:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent" style="width: 340px">\n        <header class="modalHeader">\n            <h1 class="title"><%- IM(\'setting.account.phone_number_input.title\') %></h1>\n        </header>\n\n        <div class="modalBody">\n            <div class="modalContentWrap gMat15">\n                <p class="pText"><%- IM(\'setting.account.phone_number_input.desc\') %></p>\n\n                <div class="flexList -wFull -spaceBetween -tbSpaceNone gMat15">\n                    <div style="width:96px">\n                        <div class="uSelect -lineColorE6 -bgFd">\n                            <select class="_selectCountryCode" title="<%- IM(\'setting.account.label.select_country_code\') %>">\n                                <option value="" class="hide"><%- IM(\'ui.label.selection\') %></option>\n                                <% _.each(countryCodeList, function(code) { %>\n                                <option value="<%- code.regionNum %>"\n                                        data-regionCode="<%- code.nationCode %>"\n                                        data-text="<%= code.displayName %>"\n                                        data-selected-text="<%= \'+\' + code.regionNum %>">\n                                    <%= code.displayName %>\n                                </option>\n                                <% }) %>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class="uInput -simpleLine -borderColorGr4" style="width:194px">\n                        <label class="gSrOnly" for="hp"><%- IM(\'web.setting.account.btn.phone_number\') %></label>\n                        <input type="text" id="hp" placeholder="<%- IM(\'web.setting.account.btn.phone_number\') %>" class="placeholderColorGr3 gPal6 _inputPhoneNumber">\n                        <span class="border"></span>\n                    </div>\n                </div>\n\n                <p class="sDesc gColorGr2 gMat5"><%- IM(\'setting.account.phone_number_input.desc2\') %></p>\n            </div>\n        </div>\n\n        <footer class="modalFooter">\n            <button type="button" class="uButton -cancel _btnCancel"><%- IM(\'ui.label.cancel\') %></button>\n            <button type="button" class="uButton _btnNext" disabled><%- IM(\'ui.label.next\') %></button>\n        </footer>\n    </div>\n</section>'},1776:function(e,t){e.exports='<div class="bandFindMake">\n    <a href="<%- bandCreateUrl %>" class="bandAdd <%- createBtnClass %>">\n        <span class="iconAdd -add"></span>\n        <p class="none"><%= creationTextHtml %></p>\n    </a>\n</div>'},1777:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(3272),s=n(711),o=n(52),r=i.Collection.extend({model:a,initialize:function(e,t){this._query=t.query,this._bandTypeString=t.bandTypeString,this._totalCount=0,this._filter=t.filter},searchBandByQuery:function(e){return s.searchFindBandsWithKeyword(this._createDefaultApiParam()).then(t.bind((function(t){this._populateGroupPageRecruitingBandResult(t,e)}),this))},fetchNextBandList:function(){if(!this._fetchProgress&&!this.isEmptyQueryResult()&&null!=this._paging&&null!=this._paging.nextParams){this._fetchProgress=!0;var e=t.extend(this._createDefaultApiParam(),{after:this._paging.nextParams.after});return s.searchFindBandsWithKeyword(e).then(t.bind(this._populateGroupPageRecruitingBandResult,this)).always(t.bind((function(){this._fetchProgress=!1}),this))}},getTotalCount:function(){return this._totalCount},isEmptyQueryResult:function(){return 0==this._totalCount},_populateGroupPageRecruitingBandResult:function(e,t){var n=o.camelizeKeys(e);this._totalCount=n.total,this._paging=n.paging,t?this.reset(n.items||[],{parse:!0}):this.set(n.items||[],{parse:!0,add:!0,merge:!0,remove:!1,sort:!0}),this._totalCount>0&&(null==this._paging.nextParams||null==this._paging.nextParams.after)&&this.add([a.buildCreateBandBtnModel()])},_createDefaultApiParam:function(){return{types:this._bandTypeString,query:this._query,limit:50,filter:this._filter}}});return r.buildGlobalSearchBandCollection=function(e,t,n){return new r([],{query:e,bandTypeString:t,filter:n||null})},r}.call(t,n,t,e))||(e.exports=i)},1778:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3273),s=n(1776),o=n(157),r=n(905),l=i.CollectionView.extend({tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DGlobalSearchBandCollectionView"},childView:a,childViewOptions:function(){return{showSchool:this._showSchool,showMeetup:this._showMeetup,showMission:this._showMission,creationTextHtml:this._creationTextHtml,isLocalOnly:this._isLocalOnly}},emptyView:function(){return i.View.extend({template:t.template(s),templateContext:function(){return{bandCreateUrl:o.GLOBAL_BAND_CREATE.makeUrl(),creationTextHtml:IM("discover.search.txt.no_result"),createBtnClass:r.CREATE_BTN_CLASS}}})},initialize:function(e){this._showSchool=!!e.showSchool,this._showMeetup=!!e.showMeetup,this._showMission=!!e.showMission,this._creationTextHtml=e.creationTextHtml,this._isLocalOnly=e.isLocalOnly}});return l.buildDSearchBandCollectionView=function(e){return new l(e)},l}.call(t,n,t,e))||(e.exports=i)},1779:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1780),s=n(82),o=n(786),r=n(795),l=n(9),c=n(533),d=n(611),u=n(1032),h=n(937),p=n(161),_=n(509),m=n(153),g=n(162),b=n(833);return i.View.extend({tagName:"li",className:"cSearchStyleItem gBoxShadow",attributes:{"data-viewname":"DMyBandsCommentView"},template:t.template(a),templateContext:function(){var e=IM("discover.post.comment.title");return this._contentKey.isCommentReply()&&(e=IM("comment.reply")),{commentTitle:e,coverUrl:s.make(this._bandCore.getBandMainImageUrl(),s.TYPE.s75),coverClass:this._bandCore.getBandImageShapeClassOnMyWrittenComment(),contentUrl:this._contentKey.makeContentUrl(this._bandCore),bandUrl:this._bandCore.makeBandRouteUrl(m.GROUP_BAND_HOME,g.PAGE_BAND_HOME,{band_no:this._bandNo}),date:l.format.date(new Date(this.model.get("created_at")),"short_date_time")}},ui:{contentLink:"._contentLink",bandLink:"._bandLink"},events:{"click @ui.contentLink":function(){switch(this._contentKey.getContentType()){case u.POST_COMMENT:case u.POST_COMMENT_COMMENT:this._openPostDetail();break;case u.PHOTO_COMMENT:case u.PHOTO_COMMENT_COMMENT:this._openMediaViewer();break;case u.SCHEDULE_COMMENT:case u.SCHEDULE_COMMENT_COMMENT:var e=t.extend({bandNo:this._bandNo,scheduleId:this._contentKey.getScheduleId()},this._contentKey.makeInitCommentIdAndReplyId());h.openScheduleDetailLayerView(e);break;default:this._goBandHome()}return!1},"click @ui.bandLink":function(){return this._goBandHome(),!1}},initialize:function(){var e=this.model.get("band");this._bandNo=e.band_no,this._contentKey=this._createContentKey(),this._bandCore=p.createBandCore({bandNo:this._bandNo,certified:e.certified,cover:e.cover,profileImage:e.profile_image,name:e.name,themeColor:e.theme_color,type:e.type,isRecruiting:!1})},_openPostDetail:function(){var e=t.extend({bandNo:this._bandNo,postNo:this._contentKey.getPostNo(),hasBandHeader:this._bandCore.showBandNameMultipleBandPostCard()},this._contentKey.makeInitCommentIdAndReplyId());o.buildPostDetailAsLayer(e)},_goBandHome:function(){var e=this._bandCore.makeBandRouteUrl(m.GROUP_BAND_HOME,g.PAGE_BAND_HOME,{band_no:this._bandNo});r.openPreviewBandWindowByClick(e)},_openMediaViewer:function(){(this._photo?$.when():c.getPhoto(this._bandNo,this.model.get("photo_no")).then(t.bind((function(e){this._photo=e.photo}),this))).then(t.bind((function(){var e=t.extend({result_data:{photos:[this._photo],total_count:1},openIndex:0,bandNo:this._bandNo,goPostSupport:!0,profileViewSupport:!0,showUserInfo:!0,moreOptionList:[b.MEDIA_MORE_OPTION.DELETE,b.MEDIA_MORE_OPTION.REPORT]},this._contentKey.makeInitCommentIdAndReplyId()),n=d.openDPhotoVideoImageViewer(e);this.listenTo(n,d.EVENT.SHOW_POST,(function(e){o.buildPostDetailAsLayer({bandNo:this._bandNo,postNo:e,hasBandHeader:!0})})),this.listenTo(n,b.TRIGGERING_EVENTS.MEDIA_DELETED,(function(e){n.destroy(),this.trigger("deleted",this.model)}))}),this))},_createContentKey:function(){return _.buildByAttributes({contentType:this.model.get("content_type"),postNo:this.model.get("post_no"),photoNo:this.model.get("photo_no"),scheduleId:this.model.get("schedule_id"),commentId:this.model.get("comment_id"),originCommentId:this.model.get("origin_comment_id")})}})}.call(t,n,t,e))||(e.exports=i)},1780:function(e,t){e.exports='<a href="<%- contentUrl %>" role="button" class="cCommentOnly _contentLink">\n    <% if (author.is_muted) { %>\n    <div class="gDimmed"></div>\n    <% } %>\n    <h2 class="name"><strong><%- author.name %></strong> <span><%- commentTitle %></span></h2>\n    <p class="comment"><%= author.is_muted ? IM(\'comment.muted_author_comment.guide_message\') : content %></p>\n    <p class="body"><%- owner_content %></p>\n    <p class="date"><%= date %></p>\n</a>\n<a href="<%- bandUrl %>" class="foot _bandLink">\n    <div class="cover">\n        <div class="uCoverImage -w24 -border <%- coverClass %>">\n            <span class="coverInner">\n<% if ( coverUrl ) { %>\n                <img src="<%- coverUrl %>" class="coverImg" alt="<%- IM(\'web.noui.bandcreate.title.band_skin\') %>">\n<% } %>\n            </span>\n        </div>\n    </div>\n    <span class="name">\n        <% if (band.certified) { %><span class="uOfficialBand"><%= IM(\'ui.official_band\') %></span><% } %><%- band.name %>\n    </span>\n</a>'},1781:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),a=n(4),s=n(26),o=n(486),r=n(600),l=n(507),c=n(1101),d=n(82),u=n(495),h=n(487),p=(n(162),n(1782)),_=(n(1530),n(1594)),m=n(1787),g=n(1002),b=n(540),f=a.View.extend({attributes:{"data-viewname":"DPageBandProfileSettingView"},template:t.template(m),behaviors:[{behaviorClass:u,sceneId:u.SCENE.PAGE_CREATE},{behaviorClass:h}],ui:{defaultImageUploader:"._defaultImageUploader",profileImageUploader:"._profileImageUploader",defaultImageLayer:"._defaultImageLayer",profileImageLayer:"._profileImageLayer",selectedImage:"._selectedImage",btnMoreOption:"._btnMoreOption",moreOptionLayer:"._moreOptionLayer",resetProfileImage:"._resetProfileImage",inputPageBandName:"._inputPageBandName",policyDescription:"._policyDescription",btnCancel:"._btnCancel",btnComplete:"._btnComplete"},events:{"input @ui.inputPageBandName":"_checkPageBandName","click @ui.btnMoreOption":"_toggleMoreOptionLayer","click @ui.resetProfileImage":"_resetProfileImage","click @ui.btnCancel":"_closeLayer","click @ui.btnComplete":"_checkMode",click:function(){s.getDGlobalChannel().trigger(s.EVENT.HTML_CLICK)}},initialize:function(e){this.isCreateMode=!e.model.getPageBandNo(),this.model=e.model,this.listenTo(s.getDGlobalChannel(),s.EVENT.HTML_CLICK,this._closeMoreOptionLayer)},templateContext:function(){return{nameMaxLength:p.NAME_MAX_LEMGTH,pageBandName:this.model.getPageBandName(),pageProfileUrl:d.make(this.model.getPageProfileUrl(),d.TYPE.s276)}},onDomRefresh:function(){this._initUploader(),this._adaptUI()},onBeforeDetach:function(){this.defaultImageUploader&&this.defaultImageUploader.destroy(),this.profileImageUploader&&this.profileImageUploader.destroy()},onAttach:function(){this._sendPageCreationSceneEnterLog()},_initUploader:function(){this._initImageUploader(this.defaultImageUploader,this.getUI("defaultImageUploader")),this._initImageUploader(this.profileImageUploader,this.getUI("profileImageUploader"))},_initImageUploader:function(e,n){e&&e.destroy();e=r.createBandCoverImageUploader(n,{title:IM("page.band.cover.croptool.title")});this.listenTo(e,l.SELECT_FILES,(function(n){e.loadFileReaderResize(n.files[0]).then(t.bind((function(e){var n={title:IM("page.band.cover.croptool.title"),cropOptions:{aspectRatio:640/480,isPageBand:!0}},i=g.build(e,n);this.listenTo(i,"crop:complete",(function(e){i.destroy(),b.uploadDataUriImage(e).then(t.bind((function(e){this._setImage(e)}),this))})),this.listenTo(i,"crop:cancel",(function(){i.destroy()}),this)}),this))}))},_setImage:function(e){if(t.isEmpty(e))return!1;if(e.url){var n=e.url;this.model.setPageProfileUrl(n),this.getUI("selectedImage").attr("src",d.makeProfileBigThumbnailUrl(n)),this.getUI("defaultImageLayer").hide(),this.getUI("profileImageLayer").show(),this.getUI("moreOptionLayer").hide()}},_adaptUI:function(){this.isCreateMode||this.getUI("btnComplete").removeClass("-disabled"),this.model.getPageProfileUrl()?(this.getUI("defaultImageLayer").hide(),this.getUI("profileImageLayer").show()):(this.getUI("defaultImageLayer").show(),this.getUI("profileImageLayer").hide()),this.getUI("inputPageBandName").focus(),this.isCreateMode||this.getUI("policyDescription").hide()},_toggleMoreOptionLayer:function(e){e.stopPropagation(),this.getUI("moreOptionLayer").toggle()},_closeMoreOptionLayer:function(){this.getUI("moreOptionLayer").hide()},_resetProfileImage:function(){this.model.setPageProfileUrl(""),this.getUI("defaultImageLayer").show(),this.getUI("profileImageLayer").hide()},_checkPageBandName:function(){i.trim(this.getUI("inputPageBandName").val()).length>0?this.getUI("btnComplete").removeClass("-disabled"):this.getUI("btnComplete").addClass("-disabled")},_closeLayer:function(){this.isCreateMode&&!t.isEmpty(this.model.getPageProfileUrl())&&this.model.setPageProfileUrl(""),this.destroy()},_checkMode:function(){this._sendPageCreationConfirmClickLog(),this.isCreateMode?this._createPageBand():this._updatePageBand()},_createPageBand:function(){var e=i.trim(this.getUI("inputPageBandName").val());if(this._validatePageBandName(e))return this.model.setPageBandName(e),this.model.createPage().then(t.bind((function(e){this.model.setBandNo(e),this._sendPageCreationCompleteOccurLog();var t=_.build({model:this.model,isCreateMode:!0});this.listenTo(t,"pageCoverImageSetting:closeAllLayers",(function(){this.trigger("pageCoverImageSetting:closeAllLayers"),this.destroy()}))}),this))},_updatePageBand:function(){var e=i.trim(this.getUI("inputPageBandName").val());if(this._validatePageBandName(e))return this.model.setPageBandName(e),this.model.updatePageNameAndProfile().then(t.bind((function(){this.trigger("pageBandSettingHome:refresh"),this.destroy()}),this))},_validatePageBandName:function(e){return t.isEmpty(e)?(alert(IM("pageband.create.alert.input_page_name")),this.getUI("inputPageBandName").focus(),!1):!this._hasEmoji(e)||(alert(IM("bandcreate.validation.emoji.msg")),this.getUI("inputPageBandName").focus(),!1)},_hasEmoji:function(e){return t.some(e,(function(t,n){return!c.isCharacterInBMP(e,n)}))},_sendPageCreationSceneEnterLog:function(){this.jplSceneEnter(h.CLASSIFIER.PAGE_CREATE)},_sendPageCreationConfirmClickLog:function(){this.jplClick(h.CLASSIFIER.PAGE_CREATE_CONFIRM)},_sendPageCreationCompleteOccurLog:function(){this.jplOccur(h.CLASSIFIER.PAGE_CREATE_COMPLETE)}});return f.build=function(e){var t=new f({model:e.model});return o.openWithoutHiding(t),t},f}.call(t,n,t,e))||(e.exports=i)},1782:function(e,t,n){var i;void 0===(i=function(){return{NAME_MAX_LEMGTH:50}}.call(t,n,t,e))||(e.exports=i)},1783:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent" style="width:380px;height:500px;">\n        <header class="header -noTitlebar">\n            <h1 class="title gSrOnly"><%= IM("pageband.create.title.setting_cover_image") %></h1>\n        </header>\n        <div class="modalBody">\n            <div class="pageProfileSetting gPat38 gPar20 gPal20">\n                <div class="pageGuide gTaC">\n                    <h2 class="pageGuideTitle"><%= titleText %></h2>\n                    <p class="pageGuideDesc"><%= IM("pageband.create.guide.description.setting_cover_image") %></p>\n                </div>\n\n                <% // 커버 이미지 %>\n                <div class="chooseProfilePicture gMat40 _defaultCoverImageLayer">\n                    <div class="profileWrap">\n                        <div class="uProfile -size340 -profileFile -pageCover">\n                            <label for="firstUploadPageCoverImage" class="inputLabel -coverLabel">\n                                <span class="gSrOnly"><%= IM("pageband.create.label.input_cover_image") %></span>\n                            </label>\n                            <input type="file" id="firstUploadPageCoverImage" name="firstUploadPageCoverImage" class="inputFile _firstUploadPageCoverImage" accept="image/*" title="<%= IM(\'pageband.create.label.image_select\') %>">\n                        </div>\n                    </div>\n                </div>\n                <div class="chooseProfilePicture gMat40 _coverImageLayer">\n                    <div class="profileWrap">\n                        <span class="uProfile -size340 -pageCover">\n                            <span class="profileInner">\n                                <img class="gMiddleItem _selectedImage" src="<%- coverUrl %>" width="340" height="113" alt="<%= IM(\'pageband.create.label.show_cover_image\') %>">\n                            </span>\n                        </span>\n                        <button class="photoSubmit pageCoverSubmit _btnMoreOption"><span class="gSrOnly"><%= IM("pageband.create.label.image_select_option") %></span></button>\n                        <div class="lyMenu _moreOptionLayer" style="display: none;">\n                            <ul>\n                                <li>\n                                    <label><%= IM("pageband.create.label.image_select") %> <input type="file" id="uploadPageCoverImage" title="<%= IM(\'pageband.create.label.image_select\') %>" accept="image/*" class="_uploadPageCoverImage" name="uploadPageCoverImage"></label>\n                                </li>\n                                <li class="_resetCoverImage">\n                                    <a href="#"><%= IM("pageband.create.label.image_delete") %></a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n                <% // 프로필 이미지 %>\n                <div class="pageProfile gMat20 _profileInfoLayer">\n                    <div class="pageProfileThumb">\n                        <span class="uProfile -size60 -pageProfile">\n                        <% if (pageProfileUrl) { %>\n                            <span class="profileInner"><img src="<%- pageProfileUrl %>"></span>\n                        <% } else { %>\n                            <span class="profileInner"></span>\n                        <% } %>\n                        </span>\n                    </div>\n                    <div class="pageProfileName -ellipsis"><%- pageBandName %></div>\n                </div>\n            </div>\n        </div>\n\n        <footer class="footer -fixed">\n            <button type="button" class="uButton -cancel -sizeL _btnCancel"><%= cancelLabel %></button>\n            <button type="button" class="uButton -confirm -sizeL _btnConfirm"><%= IM("ui.label.confirm") %></button>\n        </footer>\n    </div>\n</section>'},1784:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=(n(6),n(4)),s=n(1785),o=n(540),r=n(486),l=(n(1786),n(537)),c=a.View.extend({tagName:"section",className:"lyWrap",template:i.template(s),attributes:{"data-viewname":"DPageBandCoverImageCropView"},ui:{cropWrap:"._cropWrap",imageReUpload:"._imageReUpload",btnComplete:"._btnComplete",btnCancel:"._btnCancel",virtualRangeTotal:"._virtualRangeTotal",rangeTotal:"._rangeTotal",rangeCurrent:"._rangeCurrent",rangeHandle:"._rangeHandle",zoomOut:"._zoomOut",zoomIn:"._zoomIn"},events:{"change @ui.imageReUpload":"_loadReUploadImageFile","click @ui.btnComplete":"_cropComplete","click @ui.btnCancel":"_cropCancel","mousedown @ui.virtualRangeTotal":"_handleZoomBySlider","dragstart @ui.virtualRangeTotal":function(){return!1},"click @ui.zoomIn":function(){var e=this._currentRatio()+.05;this._setCroppieZoom(e),this._renderSlider(e)},"click @ui.zoomOut":function(){var e=this._currentRatio()-.05;this._setCroppieZoom(e),this._renderSlider(e)}},initialize:function(e){this.cropFile=e.cropFile},templateContext:function(){return{viewId:this.cid}},onAttach:function(){this._initializeCroppie()},onBeforeDetach:function(){this._imageUploader&&(this._imageUploader.destroy(),this._imageUploader=null)},_cropComplete:function(){this.$uploadCrop.croppie("result",{type:"rawcanvas",size:"original"}).then(i.bind((function(e){o.uploadDataUriImage(e.toDataURL("image/jpeg"),!0).then(i.bind((function(e){this.trigger("coverUpload:complete",e)}),this))}),this))},_cropCancel:function(){this.trigger("coverCrop:cancel")},_loadReUploadImageFile:function(){var e=t(this.getUI("imageReUpload"))[0];if(l.SINGLE_PHOTO_WITHOUT_GIF_VALIDATOR(e.files)){if(e.files.length>0){var n=new FileReader;n.onload=i.bind((function(e){this.cropFile=e,this.getUI("cropWrap").find(".croppie-container").remove(),this._initializeCroppie()}),this),n.readAsDataURL(e.files[0])}}else e.value=""},_initializeCroppie:function(){var e=t(document.createElement("div"));this.$uploadCrop=e.croppie({viewport:{width:560,height:280},boundary:{width:560,height:280},showZoomer:!0,enableResize:!1,enableOrientation:!1,mouseWheelZoomboolean:!1}),this.$uploadCrop.croppie("bind",{url:this.cropFile.target.result}).then(i.bind((function(){this.cropSlider=t(".cr-slider")[0]}),this)),this.getUI("cropWrap").append(e),this.getUI("cropWrap").on("touchmove mousewheel DOMMouseScroll",i.bind(this._handleZoomByWheel,this)),this.getUI("rangeCurrent").css("width","0%"),this.getUI("rangeHandle").css("left","0%")},_handleZoomByWheel:function(e){e.preventDefault(),this._renderSlider(this._currentRatio())},_handleZoomBySlider:function(e){var n=t(document),a=e.originalEvent;if(!(a.touches&&a.touches[0]&&a.touches[1])){e.preventDefault();var s="touchstart"==e.type?"touchmove":"mousemove",o="touchstart"==e.type?"touchend":"mouseup",r=i.bind((function(e){e.preventDefault(),this._slide(e)}),this),l=i.bind((function(e){this._slide(e),n.off(s,r),n.off(o,l)}),this);n.on(s,r),n.on(o,l)}},_slide:function(e){var t=parseInt(this.getUI("rangeTotal").css("width")),n=this.getUI("virtualRangeTotal"),i=(parseInt(n.css("width"))-t)/2,a=Math.round(e.clientX-n[0].getBoundingClientRect().left-i),s=Math.max(0,Math.min(a,t))/t;this._setCroppieZoom(s),this._renderSlider(s)},_setCroppieZoom:function(e){e>1&&(e=1),e<0&&(e=0);var t=parseFloat((this.cropSlider.max-this.cropSlider.min)*e)+parseFloat(this.cropSlider.min);this.$uploadCrop.croppie("setZoom",t)},_currentRatio:function(){return(this.cropSlider.value-this.cropSlider.min)/(this.cropSlider.max-this.cropSlider.min)},_renderSlider:function(e){e>1&&(e=1),e<0&&(e=0);var t=100*e;this.getUI("rangeHandle").css("left",t+"%"),this.getUI("rangeCurrent").css("width",t+"%")}});return c.build=function(e){var t=new c({cropFile:e});return r.open(t),t},c}.call(t,n,t,e))||(e.exports=i)},1785:function(e,t){e.exports='<div class="lyContent" style="width:600px;">\n    <header class="header">\n        <h1 class="title"><%- IM("page.band.cover.croptool.title") %></h1>\n    </header>\n\n    <div class="main">\n        <div class="changeBandCover -wide">\n            <div class="coverCropArea">\n                <div class="cropImg _cropWrap"></div>\n                \x3c!--<div class="cropImg _cropWrap">--\x3e\n                    \x3c!--<img src="http://dev.ui.naver.com/tmp/?560x280_ccpPensionY_y_FFFFFF_100" class="gMiddleItem" alt="임시 이미지">--\x3e\n                \x3c!--</div>--\x3e\n                <div class="cropNotice">\n                    <p class="noticeText"><%- IM("page.band.cover.area.description") %></p>\n                </div>\n            </div>\n            <div class="fileUpload">\n                <p for="changeBandCoverLabel" class="desc"><%- IM("crop.label.size_limitation") %></p>\n                <div class="photoOption">\n                    <div class="editOption">\n                        <button type="button" class="button zoomout _zoomOut"><span class="gSrOnly"><%- IM("downsize") %></span></button>\n                        <div class="rangeArea">\n                            <span class="virtualRangeTotal _virtualRangeTotal" style="position:absolute;left:-8px;top:-8px;width:124px;height:20px;z-index:12;"></span>\n                            <span class="rangeTotal _rangeTotal"></span>\n                            <span class="rangeCurrent _rangeCurrent" style="width:0;"></span>\n                            <span class="rangeHandle _rangeHandle" style="left:0;"></span>\n                        </div>\n                        <button type="button" class="button zoomin _zoomIn"><span class="gSrOnly"><%- IM("enlargement") %></span></button>\n                    </div>\n                    <div class="inputFile"><input type="file" id="changeBandCover" accept="image/*" aria-labelledby="changeBandCoverLabel" class="imageUpload _imageReUpload" title="<%- IM(\'ui.label.upload_photo\') %>"></div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel _btnCancel"><%- IM("web.ui.button.label.cancel") %></button>\n        <button type="button" class="uButton -confirm _btnComplete"><%- IM("web.ui.button.label.complete") %></button>\n    </footer>\n</div>'},1786:function(e,t,n){var i,a,s;a=[t],void 0===(s="function"==typeof(i=function(e){"function"!=typeof window.CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=atob(this.toDataURL(t,n).split(",")[1]),a=i.length,s=new Uint8Array(a),o=0;o<a;o++)s[o]=i.charCodeAt(o);e(new Blob([s],{type:t||"image/png"}))}});var t,n,i,a=["Webkit","Moz","ms"],s=document.createElement("div").style,o=[1,8,3,6],r=[2,7,4,5];function l(e){if(e in s)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=a.length;n--;)if((e=a[n]+t)in s)return e}function c(e,t){for(var n in e=e||{},t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},c(e[n],t[n])):e[n]=t[n];return e}function d(e){return c({},e)}function u(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function h(e,t,n){if("string"==typeof t){var i=t;(t={})[i]=n}for(var a in t)e.style[a]=t[a]}function p(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function _(e,t){for(var n in t)e.setAttribute(n,t[n])}function m(e){return parseInt(e,10)}function g(e,t){var n=e.naturalWidth,i=e.naturalHeight,a=t||C(e);if(a&&a>=5){var s=n;n=i,i=s}return{width:n,height:i}}n=l("transform"),t=l("transformOrigin"),i=l("userSelect");var b={translate3d:{suffix:", 0px"},translate:{suffix:""}},f=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};f.parse=function(e){return e.style?f.parse(e.style[n]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?f.fromMatrix(e):f.fromString(e)},f.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new f(m(t[4]),m(t[5]),parseFloat(t[0]))},f.fromString=function(e){var t=e.split(") "),n=t[0].substring(se.globals.translate.length+1).split(","),i=t.length>1?t[1].substring(6):1,a=n.length>1?n[0]:0,s=n.length>1?n[1]:0;return new f(a,s,i)},f.prototype.toString=function(){var e=b[se.globals.translate].suffix||"";return se.globals.translate+"("+this.x+"px, "+this.y+"px"+e+") scale("+this.scale+")"};var v=function(e){if(!e||!e.style[t])return this.x=0,void(this.y=0);var n=e.style[t].split(" ");this.x=parseFloat(n[0]),this.y=parseFloat(n[1])};function C(e){return e.exifdata?e.exifdata.Orientation:1}function y(e,t,n){var i=t.width,a=t.height,s=e.getContext("2d");switch(e.width=t.width,e.height=t.height,s.save(),n){case 2:s.translate(i,0),s.scale(-1,1);break;case 3:s.translate(i,a),s.rotate(180*Math.PI/180);break;case 4:s.translate(0,a),s.scale(1,-1);break;case 5:e.width=a,e.height=i,s.rotate(90*Math.PI/180),s.scale(1,-1);break;case 6:e.width=a,e.height=i,s.rotate(90*Math.PI/180),s.translate(0,-a);break;case 7:e.width=a,e.height=i,s.rotate(-90*Math.PI/180),s.translate(-i,a),s.scale(1,-1);break;case 8:e.width=a,e.height=i,s.translate(0,i),s.rotate(-90*Math.PI/180)}s.drawImage(t,0,0,i,a),s.restore()}function I(){var e,t,n,i,a,s=this.options.viewport.type?"cr-vp-"+this.options.viewport.type:null;this.options.useCanvas=this.options.enableOrientation||w.call(this),this.data={},this.elements={},e=this.elements.boundary=document.createElement("div"),t=this.elements.viewport=document.createElement("div"),this.elements.img=document.createElement("img"),n=this.elements.overlay=document.createElement("div"),this.options.useCanvas?(this.elements.canvas=document.createElement("canvas"),this.elements.preview=this.elements.canvas):this.elements.preview=this.elements.img,p(e,"cr-boundary"),e.setAttribute("aria-dropeffect","none"),i=this.options.boundary.width,a=this.options.boundary.height,h(e,{width:i+(isNaN(i)?"":"px"),height:a+(isNaN(a)?"":"px")}),p(t,"cr-viewport"),s&&p(t,s),h(t,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),t.setAttribute("tabindex",0),p(this.elements.preview,"cr-image"),_(this.elements.preview,{alt:"preview","aria-grabbed":"false"}),p(n,"cr-overlay"),this.element.appendChild(e),e.appendChild(this.elements.preview),e.appendChild(t),e.appendChild(n),p(this.element,"croppie-container"),this.options.customClass&&p(this.element,this.options.customClass),S.call(this),this.options.enableZoom&&M.call(this),this.options.enableResize&&E.call(this)}function w(){return this.options.enableExif&&window.EXIF}function E(){var e,t,n,a,s,o,r,l=this,c=document.createElement("div"),d=!1;function u(o){if((void 0===o.button||0===o.button)&&(o.preventDefault(),!d)){var r=l.elements.overlay.getBoundingClientRect();if(d=!0,t=o.pageX,n=o.pageY,e=-1!==o.currentTarget.className.indexOf("vertical")?"v":"h",a=r.width,s=r.height,o.touches){var c=o.touches[0];t=c.pageX,n=c.pageY}window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),window.addEventListener("mouseup",m),window.addEventListener("touchend",m),document.body.style[i]="none"}}function _(i){var o=i.pageX,r=i.pageY;if(i.preventDefault(),i.touches){var d=i.touches[0];o=d.pageX,r=d.pageY}var u=o-t,p=r-n,_=l.options.viewport.height+p,m=l.options.viewport.width+u;"v"===e&&_>=50&&_<=s?(h(c,{height:_+"px"}),l.options.boundary.height+=p,h(l.elements.boundary,{height:l.options.boundary.height+"px"}),l.options.viewport.height+=p,h(l.elements.viewport,{height:l.options.viewport.height+"px"})):"h"===e&&m>=50&&m<=a&&(h(c,{width:m+"px"}),l.options.boundary.width+=u,h(l.elements.boundary,{width:l.options.boundary.width+"px"}),l.options.viewport.width+=u,h(l.elements.viewport,{width:l.options.viewport.width+"px"})),A.call(l),F.call(l),N.call(l),O.call(l),n=r,t=o}function m(){d=!1,window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),document.body.style[i]=""}p(c,"cr-resizer"),h(c,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(p(o=document.createElement("div"),"cr-resizer-vertical"),c.appendChild(o)),this.options.resizeControls.width&&(p(r=document.createElement("div"),"cr-resizer-horisontal"),c.appendChild(r)),o&&(o.addEventListener("mousedown",u),o.addEventListener("touchstart",u)),r&&(r.addEventListener("mousedown",u),r.addEventListener("touchstart",u)),this.elements.boundary.appendChild(c)}function L(e){if(this.options.enableZoom){var t=this.elements.zoomer,n=Q(e,4);t.value=Math.max(t.min,Math.min(t.max,n))}}function M(){var e=this,t=e.elements.zoomerWrap=document.createElement("div"),n=e.elements.zoomer=document.createElement("input");function i(){B.call(e,{value:parseFloat(n.value),origin:new v(e.elements.preview),viewportRect:e.elements.viewport.getBoundingClientRect(),transform:f.parse(e.elements.preview)})}function a(t){var n,a;if("ctrl"===e.options.mouseWheelZoom&&!0!==t.ctrlKey)return 0;n=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,a=e._currentZoom+n*e._currentZoom,t.preventDefault(),L.call(e,a),i.call(e)}p(t,"cr-slider-wrap"),p(n,"cr-slider"),n.type="range",n.step="0.0001",n.value=1,n.style.display=e.options.showZoomer?"":"none",n.setAttribute("aria-label","zoom"),e.element.appendChild(t),t.appendChild(n),e._currentZoom=1,e.elements.zoomer.addEventListener("input",i),e.elements.zoomer.addEventListener("change",i),e.options.mouseWheelZoom&&(e.elements.boundary.addEventListener("mousewheel",a),e.elements.boundary.addEventListener("DOMMouseScroll",a))}function B(e){var i=this,a=e?e.transform:f.parse(i.elements.preview),s=e?e.viewportRect:i.elements.viewport.getBoundingClientRect(),o=e?e.origin:new v(i.elements.preview);function r(){var e={};e[n]=a.toString(),e[t]=o.toString(),h(i.elements.preview,e)}if(i._currentZoom=e?e.value:i._currentZoom,a.scale=i._currentZoom,i.elements.zoomer.setAttribute("aria-valuenow",i._currentZoom),r(),i.options.enforceBoundary){var l=T.call(i,s),c=l.translate,d=l.origin;a.x>=c.maxX&&(o.x=d.minX,a.x=c.maxX),a.x<=c.minX&&(o.x=d.maxX,a.x=c.minX),a.y>=c.maxY&&(o.y=d.minY,a.y=c.maxY),a.y<=c.minY&&(o.y=d.maxY,a.y=c.minY)}r(),P.call(i),O.call(i)}function T(e){var t=this._currentZoom,n=e.width,i=e.height,a=this.elements.boundary.clientWidth/2,s=this.elements.boundary.clientHeight/2,o=this.elements.preview.getBoundingClientRect(),r=o.width,l=o.height,c=n/2,d=i/2,u=-1*(c/t-a),h=-1*(d/t-s),p=1/t*c,_=1/t*d;return{translate:{maxX:u,minX:u-(r*(1/t)-n*(1/t)),maxY:h,minY:h-(l*(1/t)-i*(1/t))},origin:{maxX:r*(1/t)-p,minX:p,maxY:l*(1/t)-_,minY:_}}}function N(){var e=this._currentZoom,i=this.elements.preview.getBoundingClientRect(),a=this.elements.viewport.getBoundingClientRect(),s=f.parse(this.elements.preview.style[n]),o=new v(this.elements.preview),r=a.top-i.top+a.height/2,l=a.left-i.left+a.width/2,c={},d={};c.y=r/e,c.x=l/e,d.y=(c.y-o.y)*(1-e),d.x=(c.x-o.x)*(1-e),s.x-=d.x,s.y-=d.y;var u={};u[t]=c.x+"px "+c.y+"px",u[n]=s.toString(),h(this.elements.preview,u)}function S(){var e,t,a,s,o,r=this,l=!1;function c(e,t){var n=r.elements.preview.getBoundingClientRect(),i=o.y+t,a=o.x+e;r.options.enforceBoundary?(s.top>n.top+t&&s.bottom<n.bottom+t&&(o.y=i),s.left>n.left+e&&s.right<n.right+e&&(o.x=a)):(o.y=i,o.x=a)}function d(e){r.elements.preview.setAttribute("aria-grabbed",e),r.elements.boundary.setAttribute("aria-dropeffect",e?"move":"none")}function p(n){if((void 0===n.button||0===n.button)&&(n.preventDefault(),!l)){if(l=!0,e=n.pageX,t=n.pageY,n.touches){var a=n.touches[0];e=a.pageX,t=a.pageY}d(l),o=f.parse(r.elements.preview),window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),window.addEventListener("mouseup",m),window.addEventListener("touchend",m),document.body.style[i]="none",s=r.elements.viewport.getBoundingClientRect()}}function _(i){i.preventDefault();var s=i.pageX,l=i.pageY;if(i.touches){var d=i.touches[0];s=d.pageX,l=d.pageY}var p=s-e,_=l-t,m={};if("touchmove"===i.type&&i.touches.length>1){var g=i.touches[0],b=i.touches[1],f=Math.sqrt((g.pageX-b.pageX)*(g.pageX-b.pageX)+(g.pageY-b.pageY)*(g.pageY-b.pageY));a||(a=f/r._currentZoom);var v=f/a;return L.call(r,v),void u(r.elements.zoomer)}c(p,_),m[n]=o.toString(),h(r.elements.preview,m),A.call(r),t=l,e=s}function m(){d(l=!1),window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),document.body.style[i]="",N.call(r),O.call(r),a=0}r.elements.overlay.addEventListener("mousedown",p),r.elements.viewport.addEventListener("keydown",(function(e){if(!e.shiftKey||38!==e.keyCode&&40!==e.keyCode){if(r.options.enableKeyMovement&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var t=function(e){switch(e){case 37:return[1,0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}(e.keyCode);o=f.parse(r.elements.preview),document.body.style[i]="none",s=r.elements.viewport.getBoundingClientRect(),function(e){var t=e[0],s=e[1],l={};c(t,s),l[n]=o.toString(),h(r.elements.preview,l),A.call(r),document.body.style[i]="",N.call(r),O.call(r),a=0}(t)}}else{var l=0;l=38===e.keyCode?parseFloat(r.elements.zoomer.value,10)+parseFloat(r.elements.zoomer.step,10):parseFloat(r.elements.zoomer.value,10)-parseFloat(r.elements.zoomer.step,10),r.setZoom(l)}})),r.elements.overlay.addEventListener("touchstart",p)}function A(){if(this.elements){var e=this.elements.boundary.getBoundingClientRect(),t=this.elements.preview.getBoundingClientRect();h(this.elements.overlay,{width:t.width+"px",height:t.height+"px",top:t.top-e.top+"px",left:t.left-e.left+"px"})}}v.prototype.toString=function(){return this.x+"px "+this.y+"px"};var k,x,R,D,P=(k=A,x=500,function(){var e=this,t=arguments,n=function(){D=null,R||k.apply(e,t)},i=R&&!D;clearTimeout(D),D=setTimeout(n,x),i&&k.apply(e,t)});function O(){var e,t=this.get();U.call(this)&&(this.options.update.call(this,t),this.$&&"undefined"==typeof Prototype?this.$(this.element).trigger("update.croppie",t):(window.CustomEvent?e=new CustomEvent("update",{detail:t}):(e=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,t),this.element.dispatchEvent(e)))}function U(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function V(){var e,i={},a=this.elements.preview,s=new f(0,0,1),o=new v;U.call(this)&&!this.data.bound&&(this.data.bound=!0,i[n]=s.toString(),i[t]=o.toString(),i.opacity=1,h(a,i),e=this.elements.preview.getBoundingClientRect(),this._originalImageWidth=e.width,this._originalImageHeight=e.height,this.data.orientation=C(this.elements.img),this.options.enableZoom?F.call(this,!0):this._currentZoom=1,s.scale=this._currentZoom,i[n]=s.toString(),h(a,i),this.data.points.length?G.call(this,this.data.points):H.call(this),N.call(this),A.call(this))}function F(e){var t,n,i,a,s=0,o=this.options.maxZoom||1.5,r=this.elements.zoomer,l=parseFloat(r.value),c=this.elements.boundary.getBoundingClientRect(),d=g(this.elements.img,this.data.orientation),h=this.elements.viewport.getBoundingClientRect();this.options.enforceBoundary&&(i=h.width/d.width,a=h.height/d.height,s=Math.max(i,a)),s>=o&&(o=s+1),r.min=Q(s,4),r.max=Q(o,4),!e&&(l<r.min||l>r.max)?L.call(this,l<r.min?r.min:r.max):e&&(n=Math.max(c.width/d.width,c.height/d.height),t=null!==this.data.boundZoom?this.data.boundZoom:n,L.call(this,t)),u(r)}function G(e){if(4!==e.length)throw"Croppie - Invalid number of points supplied: "+e;var i=e[2]-e[0],a=this.elements.viewport.getBoundingClientRect(),s=this.elements.boundary.getBoundingClientRect(),o=a.left-s.left,r=a.top-s.top,l=a.width/i,c=e[1],d=e[0],u=-1*e[1]+r,p=-1*e[0]+o,_={};_[t]=d+"px "+c+"px",_[n]=new f(p,u,l).toString(),h(this.elements.preview,_),L.call(this,l),this._currentZoom=l}function H(){var e=this.elements.preview.getBoundingClientRect(),t=this.elements.viewport.getBoundingClientRect(),i=this.elements.boundary.getBoundingClientRect(),a=t.left-i.left,s=t.top-i.top,o=a-(e.width-t.width)/2,r=s-(e.height-t.height)/2,l=new f(o,r,this._currentZoom);h(this.elements.preview,n,l.toString())}function K(e){var t=this.elements.canvas,n=this.elements.img,i=t.getContext("2d"),a=w.call(this);e=this.options.enableOrientation&&e,i.clearRect(0,0,t.width,t.height),t.width=n.width,t.height=n.height,a&&!e?y(t,n,m(C(n)||0)):e&&y(t,n,e)}function z(e){var t=e.points,n=m(t[0]),i=m(t[1]),a=m(t[2])-n,s=m(t[3])-i,o=e.circle,r=document.createElement("canvas"),l=r.getContext("2d"),c=e.outputWidth||a,d=e.outputHeight||s;return e.outputWidth&&e.outputHeight,r.width=c,r.height=d,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,c,d)),!1!==this.options.enforceBoundary&&(a=Math.min(a,this._originalImageWidth),s=Math.min(s,this._originalImageHeight)),l.drawImage(this.elements.preview,n,i,a,s,0,0,c,d),o&&(l.fillStyle="#fff",l.globalCompositeOperation="destination-in",l.beginPath(),l.arc(r.width/2,r.height/2,r.width/2,0,2*Math.PI,!0),l.closePath(),l.fill()),r}function W(e){var t=e.points,n=document.createElement("div"),i=document.createElement("img"),a=t[2]-t[0],s=t[3]-t[1];return p(n,"croppie-result"),n.appendChild(i),h(i,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),i.src=e.url,h(n,{width:a+"px",height:s+"px"}),n}function Y(e){return z.call(this,e).toDataURL(e.format,e.quality)}function j(e){var t=this;return new Promise((function(n,i){z.call(t,e).toBlob((function(e){n(e)}),e.format,e.quality)}))}function q(e){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,(function(t){e.classList.add(t)})),this.elements.img.parentNode.replaceChild(e,this.elements.img),this.elements.preview=e),this.elements.img=e}function J(e,t){var n,i,a,s,o=this,r=[],l=null,c=w.call(o);if("string"==typeof e)n=e,e={};else if(Array.isArray(e))r=e.slice();else{if(void 0===e&&o.data.url)return V.call(o),O.call(o),null;n=e.url,r=e.points||[],l=void 0===e.zoom?null:e.zoom}return o.data.bound=!1,o.data.url=n||o.data.url,o.data.boundZoom=l,(i=n,a=c,s=new Image,s.style.opacity=0,new Promise((function(e){function t(){s.style.opacity=1,setTimeout((function(){e(s)}),1)}s.removeAttribute("crossOrigin"),i.match(/^https?:\/\/|^\/\//)&&s.setAttribute("crossOrigin","anonymous"),s.onload=function(){a?EXIF.getData(s,(function(){t()})):t()},s.src=i}))).then((function(n){if(q.call(o,n),r.length)o.options.relative&&(r=[r[0]*n.naturalWidth/100,r[1]*n.naturalHeight/100,r[2]*n.naturalWidth/100,r[3]*n.naturalHeight/100]);else{var i,a,s=g(n),l=o.elements.viewport.getBoundingClientRect(),c=l.width/l.height;s.width/s.height>c?i=(a=s.height)*c:(i=s.width,a=s.height/c);var d=(s.width-i)/2,u=(s.height-a)/2,h=d+i,p=u+a;o.data.points=[d,u,h,p]}o.data.points=r.map((function(e){return parseFloat(e)})),o.options.useCanvas&&K.call(o,e.orientation||1),V.call(o),O.call(o),t&&t()})).catch((function(e){console.error("Croppie:"+e)}))}function Q(e,t){return parseFloat(e).toFixed(t||0)}function X(){var e=this.elements.preview.getBoundingClientRect(),t=this.elements.viewport.getBoundingClientRect(),n=t.left-e.left,i=t.top-e.top,a=(t.width-this.elements.viewport.offsetWidth)/2,s=(t.height-this.elements.viewport.offsetHeight)/2,o=n+this.elements.viewport.offsetWidth+a,r=i+this.elements.viewport.offsetHeight+s,l=this._currentZoom;(l===1/0||isNaN(l))&&(l=1);var c=this.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return n=Math.max(c,n/l),i=Math.max(c,i/l),o=Math.max(c,o/l),r=Math.max(c,r/l),{points:[Q(n),Q(i),Q(o),Q(r)],zoom:l,orientation:this.data.orientation}}var $={type:"canvas",format:"png",quality:1},Z=["jpeg","webp","png"];function ee(e){var t=this,n=X.call(t),i=c(d($),d(e)),a="string"==typeof e?e:i.type||"base64",s=i.size||"viewport",o=i.format,r=i.quality,l=i.backgroundColor,u="boolean"==typeof i.circle?i.circle:"circle"===t.options.viewport.type,h=t.elements.viewport.getBoundingClientRect(),p=h.width/h.height;return"viewport"===s?(n.outputWidth=h.width,n.outputHeight=h.height):"object"==typeof s&&(s.width&&s.height?(n.outputWidth=s.width,n.outputHeight=s.height):s.width?(n.outputWidth=s.width,n.outputHeight=s.width/p):s.height&&(n.outputWidth=s.height*p,n.outputHeight=s.height)),Z.indexOf(o)>-1&&(n.format="image/"+o,n.quality=r),n.circle=u,n.url=t.data.url,n.backgroundColor=l,new Promise((function(e,i){switch(a.toLowerCase()){case"rawcanvas":e(z.call(t,n));break;case"canvas":case"base64":e(Y.call(t,n));break;case"blob":j.call(t,n).then(e);break;default:e(W.call(t,n))}}))}function te(){V.call(this)}function ne(e){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var t=this.elements.canvas;this.data.orientation=function(e,t){var n=o.indexOf(e)>-1?o:r,i=n.indexOf(e),a=t/90%n.length;return n[(n.length+i+a%n.length)%n.length]}(this.data.orientation,e),y(t,this.elements.img,this.data.orientation),F.call(this),B.call(this),copy=null}function ie(){var e,t;this.element.removeChild(this.elements.boundary),e=this.element,t="croppie-container",e.classList?e.classList.remove(t):e.className=e.className.replace(t,""),this.options.enableZoom&&this.element.removeChild(this.elements.zoomerWrap),delete this.elements}if(window.jQuery){var ae=window.jQuery;ae.fn.croppie=function(e){var t=typeof e;if("string"===t){var n=Array.prototype.slice.call(arguments,1),i=ae(this).data("croppie");return"get"===e?i.get():"result"===e?i.result.apply(i,n):"bind"===e?i.bind.apply(i,n):this.each((function(){var t=ae(this).data("croppie");if(t){var i=t[e];if(!ae.isFunction(i))throw"Croppie "+e+" method not found";i.apply(t,n),"destroy"===e&&ae(this).removeData("croppie")}}))}return this.each((function(){var t=new se(this,e);t.$=ae,ae(this).data("croppie",t)}))}}function se(e,t){if(e.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=e,this.options=c(d(se.defaults),t),"img"===this.element.tagName.toLowerCase()){var n=this.element;p(n,"cr-original-image"),_(n,{"aria-hidden":"true",alt:""});var i=document.createElement("div");this.element.parentNode.appendChild(i),i.appendChild(n),this.element=i,this.options.url=this.options.url||n.src}if(I.call(this),this.options.url){var a={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,J.call(this,a)}}se.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},se.globals={translate:"translate3d"},c(se.prototype,{bind:function(e,t){return J.call(this,e,t)},get:function(){var e=X.call(this),t=e.points;return this.options.relative&&(t[0]/=this.elements.img.naturalWidth/100,t[1]/=this.elements.img.naturalHeight/100,t[2]/=this.elements.img.naturalWidth/100,t[3]/=this.elements.img.naturalHeight/100),e},result:function(e){return ee.call(this,e)},refresh:function(){return te.call(this)},setZoom:function(e){L.call(this,e),u(this.elements.zoomer)},rotate:function(e){ne.call(this,e)},destroy:function(){return ie.call(this)}}),e.Croppie=window.Croppie=se})?i.apply(t,a):i)||(e.exports=s)},1787:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent" style="width:380px;height:500px;">\n        <header class="header -noTitlebar">\n            <h1 class="title gSrOnly"><%= IM("pageband.create.title.setting_page_name") %></h1>\n        </header>\n        <div class="modalBody">\n            <div class="pageProfileSetting gPat38 gPar20 gPal20">\n                <div class="pageGuide gTaC">\n                    <h2 class="pageGuideTitle"><%= IM("pageband.create.guide.title.setting_page_name") %></h2>\n                    <p class="pageGuideDesc"><%= IM("pageband.create.guide.description.setting_page_name") %></p>\n                </div>\n\n                <% // 프로필 이미지 %>\n                <div class="chooseProfilePicture gPat7 _defaultImageLayer">\n                    <div class="profileWrap">\n                        <div class="uProfile -size160 -profileFile _defaultImageUploader">\n                            <label for="pageprofile" class="inputLabel -profileLabel">\n                                <span class="gSrOnly"><%= IM("pageband.create.label.input_profile_image") %></span>\n                            </label>\n                            <input type="file" id="pageprofile" class="inputFile" accept="image/*">\n                        </div>\n                    </div>\n                </div>\n                <div class="chooseProfilePicture gPat7 _profileImageLayer">\n                    <div class="profileWrap">\n                        <span class="uProfile -size160 -border">\n                            <span class="profileInner">\n                                <img class="_selectedImage" src="<%- pageProfileUrl %>" width="160" height="160" alt="<%= IM(\'pageband.create.label.show_profile_image\') %>">\n                            </span>\n                        </span>\n                        <button class="photoSubmit _btnMoreOption"><span class="gSrOnly"><%= IM("pageband.create.label.image_select_option") %></span></button>\n                        <div class="lyMenu _moreOptionLayer" style="display: none;">\n                            <ul>\n                                <li class="_profileImageUploader">\n                                    <label><%= IM("pageband.create.label.image_select") %> <input type="file" title="<%= IM(\'pageband.create.label.image_select\') %>" accept="image/*" name="attachment"></label>\n                                </li>\n                                <li class="_resetProfileImage">\n                                    <a href="#"><%= IM("pageband.create.label.image_delete") %></a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n                <% // 페이지 이름 %>\n                <div class="pageProfileInput gMat34">\n                    <input type="text" class="inputText gTaC _inputPageBandName" value="<%- pageBandName %>" placeholder="<%= IM(\'pageband.create.placeholder.input_page_name\') %>" maxlength="<%- nameMaxLength %>">\n                </div>\n\n                <p class="sDesc gMat20 gTaC _policyDescription"><%= IM("pageband.create.policy.description") %></p>\n            </div>\n        </div>\n\n        <footer class="footer -fixed">\n            <button type="button" class="uButton -cancel -sizeL _btnCancel"><%= IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -confirm -sizeL -disabled _btnComplete"><%= IM("ui.label.complete") %></button>\n        </footer>\n    </div>\n</section>'},2088:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(83),s=i.Model.extend({defaults:{unpinnedBands:[],pinnedBands:[],hiddenBands:[],visibleBands:[],unpinnedBandsSortOrder:"updated",fetched:!1},initialize:function(){this.unpinnedBandCollection=new i.Collection,this.pinnedBandCollection=new i.Collection,this.visibleBandCollection=new i.Collection,this.hiddenBandCollection=new i.Collection},fetch:function(){return this.set({fetched:!1},{silent:!0}),a.getBandsViewOption().then(t.bind((function(e){this.set({unpinnedBandsSortOrder:e.unpinned_bands_sort_order,bands:e.bands,pinned_band_nos:e.pinned_band_nos,hidden_band_nos:e.hidden_band_nos,fetched:!0}),this._setUnpinnedBandCollection(),this._setPinnedBandCollection(),this._setVisibleBandCollection(),this._setHiddenBandCollection()}),this))},_setUnpinnedBandCollection:function(){var e=t.indexBy(this.get("pinned_band_nos").concat(this.get("hidden_band_nos"))),n=t.filter(this.get("bands"),(function(t){return!e[t.band_no]}));this.unpinnedBandCollection.reset(n)},_setPinnedBandCollection:function(){var e=t.indexBy(this.get("bands"),"band_no"),n=t.map(this.get("pinned_band_nos"),(function(t){return e[t]}));this.pinnedBandCollection.reset(n)},_setVisibleBandCollection:function(){var e=t.indexBy(this.get("hidden_band_nos")),n=t.filter(this.get("bands"),(function(t){return!e[t.band_no]}));this.visibleBandCollection.reset(n)},_setHiddenBandCollection:function(){var e=t.indexBy(this.get("bands"),"band_no"),n=t.map(this.get("hidden_band_nos"),(function(t){return e[t]}));this.hiddenBandCollection.reset(n)},addCollectionUnpinned:function(e){this.unpinnedBandCollection.add(e)},addCollectionPinned:function(e){this.pinnedBandCollection.add(e)},addCollectionBandVisible:function(e){this.visibleBandCollection.add(e)},addCollectionBandHidden:function(e){this.hiddenBandCollection.add(e)},setBandsSortOrder:function(e){return a.setBandsSortOrder(e)},setBandsPinned:function(e){return a.setBandsPinned(e)},setBandsHidden:function(e){return a.setBandsHidden(e)}});return s.bandsViewOptionModelBuild=function(){return new s},s}.call(t,n,t,e))||(e.exports=i)},2089:function(e,t,n){var i=n(2),a=n(0),s=n(3159),o=n(10),r=n(544),l=n(83),c=n(495),d=n(487),u=n(1233),h=n(1522),p=n(1168),_=n(155),m=n(538),g=n(541),b=n(158),f=n(2091),v=n(2092),C=n(2093),y=n(2094),I=n(3171),w=n(1523),E=n(1169),L=n(22),M=n(590);n(936);var B=E.extend({behaviors:[{behaviorClass:c,sceneId:c.SCENE.LOCAL_BAND_CREATE},d],attributes:{"data-viewname":"DLocalRecruitingBandCreateView"},initialize:function(e){this._isValueChanged=!this.options.bandNo,this._waitingRequest=!1,this._region=e.region,this._keywordInfo=e.keywordInfo,this._currentJoinType={allowedGender:this.options.allowedGender||"none",minBirthYear:this.options.minBirthYear||"none",maxBirthYear:this.options.maxBirthYear||"none"}},template:a.template(s),templateContext:function(){return{nl2br:b.nl2br,keyword:this._keywordInfo&&this._keywordInfo.keyword,regionName:this._region&&this._region.name,name:this.options.name,minBirthYear:this.options.minBirthYear,maxBirthYear:this.options.maxBirthYear,allowedGender:this.options.allowedGender,pageTitle:IM("web.noui.bandcreate.title.band_create"),maxNameLength:u.MAX_NAME_LENGTH}},ui:{inputBandName:"._inputBandName",selectedCover:"._selectedCover",btnCoverSelect:"._btnCoverSelect",btnSelectPreparedCover:"._btnSelectPreparedCover",bandThemeColorBtn:':radio[name="bandThemeColor"]',coverImageUploader:"._coverImageUploader",btnKeyword:"._btnKeyword",btnRegion:"._btnRegion",joinConditionMenu:"._joinConditionMenu",joinConditionBtn:"._joinConditionBtn",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",form:"._form"},events:{"input @ui.inputBandName":function(){this._isValueChanged=!0,this._toggleConfirmButton()},"click @ui.btnKeyword":function(){if(!M.isContentCreationPunished()){var e=h.openLayer({isForLocalBand:!0,selectedKeywords:[this._keywordInfo]});this.listenToOnce(e,h.EVENTS.CONFIRM,(function(e){e[0]&&(this._keywordInfo=e[0],this._isValueChanged=!0,this._renderSelectKeywordButton(),this._toggleConfirmButton())}))}},"click @ui.btnRegion":function(){if(!M.isContentCreationPunished()){var e=p.openLayer();this.listenTo(e,p.EVENTS.SELECTED,(function(e){this._region={rcode:e.getRcode(),name:e.getName()},this._isValueChanged=!0,this._renderSelectRegionButton(),this._toggleConfirmButton()}))}},"click @ui.btnConfirm":function(e){if(e.preventDefault(),!M.isContentCreationPunished())return this.options.bandNo?this._updateBand():this._createBand(),!1},"click @ui.btnCancel":function(){window.history.back()},"submit @ui.form":function(){return!1}},regions:{bandCover:{el:"._bandCover",replaceElement:!0},description:{el:"._description",replaceElement:!0},bandOpenType:"._bandOpenType",joinConditionMenu:{el:"._joinConditionMenu",replaceElement:!0},recruitingMemberCapacity:{el:"._recruitingMemberCapacity",replaceElement:!0}},onFormValuesChange:function(){this._isValueChanged=!0,this._toggleConfirmButton()},onRender:function(){this.showFormItem("bandCover",f,{cover:this.options.profileImageUrl}),this.showFormItem("description",I,{description:this.options.description}),this._renderSelectKeywordButton(),this._renderSelectRegionButton(),this.showFormItem("joinConditionMenu",C,{allowedGender:this.options.allowedGender||"none",minBirthYear:this.options.minBirthYear||"none",maxBirthYear:this.options.maxBirthYear||"none"}),this.showFormItem("bandOpenType",v,{recruitingOpenType:this.options.recruitingOpenType||L.OPEN_TYPE.PUBLIC}),this.showFormItem("recruitingMemberCapacity",y,{recruitingMemberCapacity:this.options.recruitingMemberCapacity||u.MIN_MEMBER_CAPACITY}),this.getUI("inputBandName").focus()},_renderSelectKeywordButton:function(){this._keywordInfo&&this._keywordInfo.keyword?this.getUI("btnKeyword").text(this._keywordInfo.keyword).removeClass("addButton").addClass("tag"):this.getUI("btnKeyword").text(IM("region_lfg.keyword.btn.select")).removeClass("tag").addClass("addButton")},_renderSelectRegionButton:function(){this._region&&this._region.name?this.getUI("btnRegion").text(this._region.name).removeClass("addButton").addClass("tag"):this.getUI("btnRegion").text(IM("region_lfg.region.btn.select")).removeClass("tag").addClass("addButton")},onAttach:function(){this.options.bandNo||this.jplSceneEnter(d.CLASSIFIER.LOCAL_BAND_CREATE,{localband_keyword:this._keywordInfo&&this._keywordInfo.keyword,localband_localname:this._region&&this._region.name,localband_rcode:this._region&&this._region.rcode}),this._toggleConfirmButton()},_getAllValues:function(){return a.extend({name:o.trim(this.ui.inputBandName.val()).substr(0,u.MAX_NAME_LENGTH),rcode:this._region&&this._region.rcode,keyword:this._keywordInfo&&this._keywordInfo.keyword},this.getFormValues())},_toggleConfirmButton:function(){var e=this._getAllValues();e.recruitingOpenType&&e.rcode&&e.keyword&&this._isValueChanged?(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm"),this.ui.btnConfirm.removeAttr("disabled")):(this.ui.btnConfirm.removeClass("-confirm"),this.ui.btnConfirm.addClass("-disabled"),this.ui.btnConfirm.attr("disabled","disabled"))},_createBand:function(){this.jplClick(d.CLASSIFIER.LOCALBAND_CREATE_CONFIRM,{localband_keyword:this._keywordInfo&&this._keywordInfo.keyword,localband_localname:this._region&&this._region.name,localband_rcode:this._region&&this._region.rcode});var e=this._getAllValues();return!!this._validateName(e.name)&&(!!this._validateDescription(e.description)&&(!0!==this._waitingRequest&&(this._waitingRequest=!0,void w.createRecruitingBand(e,"local_band",{description:e.description,rcode:e.rcode,keyword:e.keyword}).then(a.bind((function(e){this.jplOccur(d.CLASSIFIER.LOCALBAND_CREATE_COMPLETE,{band_no:e.band_no}),r.LFG_BAND_HOME.goDForced({band_no:e.band_no})}),this)).fail(a.bind((function(){this._waitingRequest=!1}),this)))))},_updateBand:function(){var e=this._getAllValues();if(!this._validateName(e.name))return!1;if(!e.recruitingOpenType)return alert(IM("band_create_form.open_type.valid.msg")),!1;if(!this._validateDescription(e.description))return!1;var t={band_no:this.options.bandNo,rcode:e.rcode,local_keyword:e.keyword,recruiting_member_capacity:e.recruitingMemberCapacity,recruiting_open_type:e.recruitingOpenType,cover:e.cover,name:e.name,description:e.description};if(!0===this._waitingRequest)return!1;this._waitingRequest=!0,l.setBandConfig(t).then(a.bind((function(){g.setBandJoinConditionWithoutEmail(this.options.bandNo,e.allowedGender,e.minBirthYear,e.maxBirthYear).then(a.bind((function(){r.LFG_BAND_HOME.goDForced({band_no:this.options.bandNo})}),this))}),this)).fail(a.bind((function(){this._waitingRequest=!1}),this))},_validateName:function(e){var t=u.validateName(e);return t===u.NameValidationResult.TOO_SHORT?(alert(IM("recruiting_band_create.local.alert.too_short_name_or_description",{minName:u.MIN_NAME_LENGTH,minDescription:u.MIN_DESCRIPTION_LENGTH})),this.ui.inputBandName.focus(),!1):t!==u.NameValidationResult.HAS_INVALID_CHAR||(alert(IM("bandcreate.validation.emoji.msg")),this.ui.inputBandName.focus(),!1)},_validateDescription:function(e){return!(e.length<u.MIN_DESCRIPTION_LENGTH)||(alert(IM("recruiting_band_create.local.alert.too_short_name_or_description",{minName:u.MIN_NAME_LENGTH,minDescription:u.MIN_DESCRIPTION_LENGTH})),this.focusFormValue("description"),!1)}});B.buildDLocalRecruitingBandCreateView=function(e){var t={rcode:e.rcode,name:e.regionName},n={keyword:e.keyword,keywordGroup:e.keywordGroup};return new B({region:t.rcode&&t.name&&t,keywordInfo:n.keyword&&n.keywordGroup&&n})},B.buildDLocalRecruitingBandUpdateView=function(e){var t=_.get(e);return t.loadBandData().then((function(){return t.canAccessRecruitingBandUpdate()?m.getBandOption(e):(r.LFG_BAND_HOME.goDForced({band_no:t.getBandNo()}),i.Deferred().reject())})).then((function(e){var n=e.getBandCoverUrl(),i=e.getBandName(),a=e.getDescription(),s=e.getMinBirthYear(),o=e.getMaxBirthYear(),r=e.getAllowedGender(),l=e.getRecruitingOpenType(),c=e.getRecruitingMemberCapacity(),d=e.getBandKeywordsWithKeywordGroups();return new B({bandNo:t.getBandNo(),region:e.getRegion(),keywordInfo:d&&d[0],profileImageUrl:n,name:i,description:a,minBirthYear:s,maxBirthYear:o,allowedGender:r,recruitingOpenType:l,recruitingMemberCapacity:c})}))},e.exports=B},2091:function(e,t,n){var i=n(0),a=n(4),s=n(3163),o=n(3164),r=n(600),l=n(507),c=n(26),d=n(82),u=n(1169),h=n(1002),p=n(540),_=n(590),m=a.View.extend({attributes:{"data-viewname":"DInputRecruitingBandCoverItemView"},className:"addCoverButton -default",initialize:function(){this.listenTo(c.getDGlobalChannel(),c.EVENT.HTML_CLICK,(function(){this.getUI("selectCoverMenu").hide()}))},template:i.template(s),ui:{selectCoverMenu:"._selectCoverMenu",coverImageUploader:"._coverImageUploader",btnSelectPreparedCover:"._btnSelectPreparedCover",selectedCover:"._selectedCover"},events:{click:function(e){e.stopPropagation(),_.isContentCreationPunished()?e.preventDefault():this.getUI("selectCoverMenu").toggle()},"click @ui.btnSelectPreparedCover":function(e){if(e.preventDefault(),!_.isContentCreationPunished()){var t=o.openDPreparedGroupBandCoverSelectLayer(this.ui.selectedCover.data("cover"));this.listenTo(t,o.EVENT.COVER_SELECTED,(function(e){this._setCoverImage(e),this.trigger(u.EVENT.CHANGE,this.getValues())}))}}},onRender:function(){this._initImageUploader()},onBeforeDetach:function(){this._bandCreateUploader&&(this._bandCreateUploader.destroy(),this._bandCreateUploader=void 0)},_initImageUploader:function(){this._bandCreateUploader&&(this._bandCreateUploader.destroy(),this._bandCreateUploader=void 0),this._bandCreateUploader=r.createBandCoverImageUploader(this.ui.coverImageUploader,{skinColor:null}),this.listenTo(this._bandCreateUploader,l.SELECT_FILES,(function(e){this._bandCreateUploader.loadFileReaderResize(e.files[0]).then(i.bind((function(e){var t={title:IM("web.upload.title.band_cover_image"),cropOptions:{aspectRatio:640/480}},n=h.build(e,t);this.listenTo(n,"crop:complete",(function(e){n.destroy(),p.uploadDataUriImage(e).then(i.bind((function(e){if(i.isEmpty(e))return!1;this._setCoverImage(e.url),this.trigger(u.EVENT.CHANGE,this.getValues())}),this))})),this.listenTo(n,"crop:cancel",(function(){n.destroy()}),this)}),this))}))},_setCoverImage:function(e){e?(this.ui.selectedCover.data("cover",e),this.ui.selectedCover.attr("src",d.makeCoverUrl(e)),this.ui.selectedCover.css("display",""),this.ui.selectedCover.parent().removeClass("-default")):this.ui.selectedCover.css("display","none")},focus:i.noop,setValues:function(e){this._setCoverImage(e.cover)},getValues:function(){return{cover:this.ui.selectedCover.data("cover")}}});e.exports=m},2092:function(e,t,n){var i=n(0),a=n(4),s=n(3166),o=n(1169),r=a.View.extend({attributes:{"data-viewname":"DInputBandOpenTypeItemView"},className:"bandType",initialize:function(){this._recruitingOpenType=void 0},template:i.template(s),templateContext:function(){return{recruitingOpenType:this._recruitingOpenType}},ui:{bandOpenType:':radio[name="bandOpenType"]'},events:{"click @ui.bandOpenType":function(){this.trigger(o.EVENT.CHANGE,this.getValues())}},focus:function(){this.getUI("bandOpenType").focus()},setValues:function(e){this._recruitingOpenType=e.recruitingOpenType,this.render()},getValues:function(){return{recruitingOpenType:this.getUI("bandOpenType").filter(":checked").val()}}});e.exports=r},2093:function(e,t,n){var i=n(0),a=n(4),s=n(3167),o=n(853),r=n(3168),l=n(1169),c=n(590),d=a.View.extend({attributes:{"data-viewname":"DInputRecruitingBandJoinOptionItemView"},className:"detailSttingItem",initialize:function(){this._currentJoinType={allowedGender:"none",minBirthYear:"none",maxBirthYear:"none"}},template:i.template(s),templateContext:function(){return{allowedGenderMessage:o.getJoinOptionByAllowedGender(this._currentJoinType.allowedGender),allowedYearOfBirthMessage:o.getJoinOptionByAllowedYearOfBirth(this._currentJoinType.minBirthYear,this._currentJoinType.maxBirthYear)}},ui:{joinConditionBtn:"._joinConditionBtn"},events:{"click @ui.joinConditionBtn":function(){if(!c.isContentCreationPunished()){var e=r.openDBandJoinConditionLayerView(this._currentJoinType);this.listenTo(e,"selectJoinType",(function(e){this._currentJoinType=e,this.trigger(l.EVENT.CHANGE,this.getValues()),this.render()}))}}},focus:i.noop,setValues:function(e){this._currentJoinType=e,this.render()},getValues:function(){return this._currentJoinType}});e.exports=d},2094:function(e,t,n){var i=n(0),a=n(4),s=n(3170),o=n(1233),r=n(1169);n(2095);var l=a.View.extend({attributes:{"data-viewname":"DInputRecruitingBandMemberCapacityItemView"},className:"detailSttingItem",initialize:function(){this._recruitingMemberCapacity=0},template:i.template(s),ui:{recruitingMemberCapacitySelect:"select[name=recruitingMemberCapacity]"},events:{"change @ui.recruitingMemberCapacitySelect":function(){this.trigger(r.EVENT.CHANGE,this.getValues())}},onRender:function(){this.getUI("recruitingMemberCapacitySelect").setSelectOptions(i.chain(o.MIN_MEMBER_CAPACITY).range(o.MAX_MEMBER_CAPACITY+1).map((function(e){return{label:IM("web.postlist.billsplit.txt.member_count",{count:e}),value:e,selected:e===this._recruitingMemberCapacity}})).value())},focus:function(){this.getUI("recruitingMemberCapacitySelect").focus()},setValues:function(e){this.getUI("recruitingMemberCapacitySelect").val(e.recruitingMemberCapacity)},getValues:function(){return{recruitingMemberCapacity:this.getUI("recruitingMemberCapacitySelect").val()}}});e.exports=l},2095:function(e,t,n){var i=n(0),a=n(2),s=i.template('<option value="<%=value %>" <% if(!!selected) { %>selected<% } %>><%-label %></option>');a.fn.setSelectOptions=function(e){this.html(e.map((function(e){return s(i.extend({selected:!1},e))})).join(""))}},2096:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3191);return i.View.extend({attributes:{"data-viewname":"DConnectedDeviceSettingItemView"},tagName:"li",className:"item",template:t.template(a),ui:{btnDisconnect:"[data-uiselector=btnDisconnect]"},events:{"click @ui.btnDisconnect":function(){this._disconnect()}},_disconnect:function(){this.trigger("disconnect:device",this.model)}})}.call(t,n,t,e))||(e.exports=i)},2097:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(82),s=n(3204),o=n(3205),r=n(795),l=n(487),c=n(153),d=n(162),u=i.View.extend({attributes:{"data-viewname":"DDiscoverCoverTypeSectionItemView"},tagName:"li",className:"bandListItem",behaviors:[l],events:{"click ._goBand":"_showBandPreview",intersect:function(e,n){if(n.isIntersecting){if(n.intersectionRatio<1)return;this._exposureLoggingTimer=setTimeout(t.bind((function(){this._sendExposureLog(),this._exposureLoggingTimer=null}),this),500)}else this._exposureLoggingTimer&&clearTimeout(this._exposureLoggingTimer)}},initialize:function(e){this._viewType=e.viewType,this._itemExposureObserver=e.itemExposureObserver,this._exposureLoggingTimer=null},getTemplate:function(){return this._viewType==u.VIEW_TYPE.MAIN_PAGE?t.template(s):t.template(o)},serializeData:function(){return{skin:this.model.getBandSkin(),thumbnailCoverImage:a.makeMediumCoverUrl(this.model.getCoverUrl()),bandName:this.model.getBandName(),description:this.model.getDescription(),certified:this.model.isCertified(),bandUrl:c.GROUP_BAND_HOME.makeUrl({band_no:this.model.getBandNo()})}},onAttach:function(){this._itemExposureObserver&&this._itemExposureObserver.observe(this.el)},onBeforeDetach:function(){this._exposureLoggingTimer&&clearTimeout(this._exposureLoggingTimer),this._itemExposureObserver&&this._itemExposureObserver.unobserve(this.el)},onDestroy:function(){this.off("intersect")},_showBandPreview:function(){var e=this.model.getBandNo(),t=this.model.getBandCore().makeBandRouteUrl(c.GROUP_BAND_HOME,d.PAGE_BAND_HOME,{band_no:e});return this.jplClick(l.CLASSIFIER.BEGIN_BAND,{band_name:this.model.getBandName(),band_no:e},e),r.openPreviewBandWindowByClick(t),!1},_sendExposureLog:function(){this.jplExposure(l.CLASSIFIER.BEGIN_BAND,{band_no:this.model.getBandNo(),band_name:this.model.getBandName()})}});return u.VIEW_TYPE={MAIN_PAGE:"MAIN_PAGE",NEW_BAND_PAGE:"NEW_BAND_PAGE"},u}.call(t,n,t,e))||(e.exports=i)},2098:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=(n(2),n(3212)),a=n(157),s=n(82);return{makeGroupTemplate:function(e){return t.template(i)({keywordGroups:e,makeCoverUrl:function(e){return s.makeSmallCoverUrl(e)},makeKeywordTargetUrl:function(e){return a.GLOBAL_KEYWORD_GROUP.makeUrl({group:encodeURIComponent(e)})},makeNameSlice:function(e){return"<span>"+e.split("/").join("</span>/<span>")+"</span>"}})}}}.call(t,n,t,e))||(e.exports=i)},2099:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(4),i=n(6),a=n(1762),s=(n(161),i.Collection.extend({model:a.Model})),o=t.CollectionView.extend({tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DDiscoverPageBandListView"},childView:a,childViewOptions:function(e,t){return{index:t,profileClass:this._profileClass,linkTarget:this._linkTarget,pageClass:this._pageClass}},childViewEvents:{clickLog:function(e){this.trigger("clickLog",e)}},initialize:function(e){this._profileClass=e.profileClass,this._linkTarget=e.linkTarget,this._pageClass=e.pageClass},addDiscoverPageBandList:function(e){this.collection.add(e,{parse:!0})}}),r=function(e,t,n,i){return new o({collection:new s(e,{parse:!0}),profileClass:t,linkTarget:n||a.LINK_TARGET.BLANK,pageClass:i})};return o.ListItemModel=a.Model,o.buildLargeTypeView=function(e){return r(e,a.PROFILE_CLASS.W93,a.LINK_TARGET.BLANK,a.PAGE_CLASS.CIRCLE)},o.buildMiddleTypeView=function(e){return r(e,a.PROFILE_CLASS.W80,a.LINK_TARGET.BLANK,a.PAGE_CLASS.CIRCLE)},o.buildSmallTypeSelfLinkTargetView=function(e){return r(e,a.PROFILE_CLASS.W60,a.LINK_TARGET.SELF,a.PAGE_CLASS.CIRCLE)},o.buildMiddleTypeKeyWordView=function(e){return r(e,a.PROFILE_CLASS.W80,a.LINK_TARGET.BLANK,a.PAGE_CLASS.PAGECOVERIMAGE)},o}.call(t,n,t,e))||(e.exports=i)},2100:function(e,t,n){var i=n(0),a=n(4),s=n(3221),o=n(1765),r=n(487),l=n(1161),c="DISCOVER_HOME_BANNER",d="LOCAL_BAND_BANNER",u=a.View.extend({tagName:"div",className:function(){switch(this.options.viewType){case c:return"topGuideBanner gContentCardShadow gMat40";case d:return"topGuideBanner gContentCardShadow gMab36"}return""},attributes:{"data-viewname":"DLocalBandRecruitBannerView"},template:i.template(s),events:{click:"_onClick"},behaviors:function(){return[{behaviorClass:r}]},initialize:function(e){this._viewType=e.viewType},serializeData:function(){return{buttonText:this._getButtonText()}},_getButtonText:function(){switch(this._viewType){case c:return IM("local_band.long_recruit_btn")}return IM("local_band.recruit_btn")},_onClick:function(){this._sendRecruitLocalBandClickLog(),this._openRecruitMenuLayer()},_openRecruitMenuLayer:function(){var e=o.openLayer();this.listenTo(e,e.EVENT.CONFIRM,this._sendRecruitLocalBandListMenuClickLog)},_sendRecruitLocalBandClickLog:function(){switch(this._viewType){case d:this.jplClick(r.CLASSIFIER.RECRUIT_LOCAL_BAND,{place:l.RECRUIT_PLACE.TOP_BUTTON})}},_sendRecruitLocalBandListMenuClickLog:function(e){switch(this._viewType){case d:this.jplClick(r.CLASSIFIER.RECRUIT_LOCAL_BAND_LIST_MENU,{localband_type:e})}}});u.buildDiscoverHomeBanner=function(){return new u({viewType:c})},u.buildLocalBandBanner=function(){return new u({viewType:d})},e.exports=u},2101:function(e,t,n){var i=n(4),a=n(3227),s=i.CollectionView.extend({EVENT:{APPLY:"APPLY"},tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DManageBandListView"},childView:a,childViewEvents:{apply:function(e){this.trigger(this.EVENT.APPLY,e)}}});s.build=function(e){return new s(e)},e.exports=s},3105:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=(n(2),n(6)),a=n(4),s=n(53),o=n(3106),r=n(3108),l=n(3110),c=n(3114),d=n(3116),u=n(3121),h=n(3123),p=n(3148),_=n(3150),m=n(3152),g=n(3158),b=n(3177),f=n(3179),v=n(3187),C=n(3189),y=n(157),I=n(153),w=n(544),E=n(3193),L=n(3194),M=n(3200),B=n(3202),T=n(3224),N=n(3226),S=n(3230),A=n(3232),k=n(512),x=n(1104),R=n(3239),D=n(3243),P=n(1170),O=n(58),U=n(3250),V=n(3252),F=n(3254),G=n(3260),H=n(3262),K=n(83),z=n(3266),W=n(3293),Y=n(3297),j=n(3304),q=n(3306),J=n(1755),Q=n(3310),X=n(3311),$=n(3313),Z=n(3315),ee=n(3317),te=n(3319),ne=n(3329),ie=n(3331),ae=n(2089),se=n(3333),oe=n(3337);return a.View.extend({attributes:{"data-viewname":"DHomeMainLayoutView",id:"container"},template:t.template(E),behaviors:{DPostWriteBehavior:{behaviorClass:P}},ui:{regionContent:"[data-uiselector=regionContent]",regionLeftAsideContent:"[data-uiselector=regionLeftAsideContent]"},regions:{regionContent:"@ui.regionContent",regionLeftAsideContent:"@ui.regionLeftAsideContent"},_showRegionContent:function(e){if(e){var n=this.getRegion("regionContent");e instanceof i.View?n.show(e):e.then(t.bind((function(e){e&&n.show(e)}),this))}},clearPageLayoutContent:function(){var e=s.getExRouteInfo().routeInfo;null!==e&&e.isGlobalSearchType()||this.getRegion("regionContent").empty()},renderPageLayout:function(e,n,i){this._resetStyles(e),this.getRegion("regionContent").currentView&&this.getRegion("regionContent").currentView.$el.hide(),k.scrollToWithoutEvent(0,0);var a=s.getExRouteInfo().routeInfo;if(e.isGlobalSearchType())this._renderGlobalSearchContent(a,e,n,i);else switch(e){case y.GLOBAL_HOME:this._showRegionContent(h.build());break;case y.GLOBAL_DISCOVER:this._showRegionContent(B.build());break;case y.GLOBAL_KEYWORD_GROUP:this._showRegionContent(A.buildDKeywordGroupLayoutView({groupName:n.group,keywordName:n.keyword}));break;case y.GLOBAL_BAND_CREATE:K.getBandCreationSet().then(t.bind((function(e){this._showRegionContent(p.buildDGroupBandCreationSetView(e))}),this));break;case y.GLOBAL_PAGE_CREATE:this._showRegionContent(oe.build());break;case y.GLOBAL_GROUP_BAND_CREATE:this._showRegionContent(_.build({connectingPageBandNo:i.connectingPageBandNo}));break;case y.GLOBAL_LFG_BAND_CREATE:this._showRegionContent(g.buildRecruitingBandCreateView(n));break;case I.GROUP_BAND_COVER_UPDATE:this._showRegionContent(_.build({bandNo:n.band_no}));break;case w.LFG_BAND_SETTING_COVER_UPDATE:this._showRegionContent(b.buildDRecruitingBandNameCoverUpdateView(n.band_no));break;case w.LFG_BAND_SETTING_UPDATE:this._showRegionContent(ae.buildDLocalRecruitingBandUpdateView(n.band_no));break;case y.GLOBAL_INVITE:this._showRegionContent(Q.buildDLoggedInInvitationUrlView(n));break;case y.GLOBAL_INVITATION_GROUP:this._showRegionContent(X.buildDLoginInvitationGroupView(n.invitation_group_url_key));break;case y.GLOBAL_SETTING:this._showRegionContent(f.build({detail:i.detail})),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_OLD_SETTING_CONNECTED_DEVICE:case y.GLOBAL_SETTING_CONNECTED_DEVICE:this._showRegionContent(C.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_SETTING_LOGIN_VERIFICATION:this._showRegionContent(D.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_SETTING_LOGIN_HISTORY:this._showRegionContent(R.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_SETTING_PROHIBIT_CHATTING:this._showRegionContent(L.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_SETTING_MUTED_MEMBER_LIST:this._showRegionContent(q.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_SETTING_SERVICE_USE_AGREEMENT:this._showRegionContent(M.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_EMAIL_ALARM:this.getRegion("regionContent").show(d.build()),this.getRegion("regionLeftAsideContent").show(v.build("emailAlarm"));break;case y.GLOBAL_SETTING_LAB:this.getRegion("regionContent").show(u.build()),this.getRegion("regionLeftAsideContent").show(v.build("bandLab"));break;case y.GLOBAL_NOTICE:this._showRegionContent(r.build()),this.getRegion("regionLeftAsideContent").show(v.build("notice"));break;case y.GLOBAL_NOTICE_DETAIL:this._showRegionContent(c.build({noticeNo:n.notice_no})),this.getRegion("regionLeftAsideContent").show(v.build("notice"));break;case y.GLOBAL_HELP:case y.GLOBAL_HELP_DETAIL:case y.GLOBAL_HELP_CATEGORY:case y.GLOBAL_HELP_SEARCH:this._showRegionContent(l.build()),this.getRegion("regionLeftAsideContent").show(v.build("help"));break;case y.GLOBAL_COOKIE_PREFERENCE:this._showRegionContent(Z.buildDCookiePreferenceView()),this.getRegion("regionLeftAsideContent").show(v.build("cookie"));break;case y.GLOBAL_FINDING_INVITATION:this._showRegionContent(o.build()),this.getRegion("regionLeftAsideContent").show(v.build("findingInvitation"));break;case y.GLOBAL_DISCOVER_NEW_BANDS:this._showRegionContent(T.build());break;case y.GLOBAL_DISCOVER_MANAGED_BANDS:this._showRegionContent(N.build());break;case y.GLOBAL_DISCOVER_PAGEBAND_PR_APPLICATION:this._showRegionContent(H.buildDPageBandPRApplicationView());break;case y.GLOBAL_LOCAL_BAND_LFG:this._showRegionContent(ee.buildDLocalBandLfgView());break;case y.GLOBAL_SETTING_FEED:this._showRegionContent(S.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_UNSUBSCRIBE_EMAIL:this._showRegionContent(U.build());break;case y.GLOBAL_SHARE_STICKER:this._showRegionContent(V.build({stickerId:n.sticker_id}));break;case y.GLOBAL_SETTING_TRANSLATION:this._showRegionContent(F.build()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_RECOMMENDED_PAGE_BAND:this._showRegionContent(G.build());break;case y.GLOBAL_RECOMMENDED_BAND_MISSION:this._showRegionContent(W.buildDRecommendedBandMissionListView(n,i));break;case y.GLOBAL_SEARCH_SPECIAL_BAND_SELECT:J.getSpecialBandExposureInfo(["parent","student","kid"]).then(t.bind((function(e){var n=t.chain(e).filter((function(e){return e.data.expose})).map((function(e){return e.type})).value();t.isEmpty(n)?y.GLOBAL_HOME.goDForced():this._showRegionContent(j.buildSearchSpecialBandSelectView({specialBandTypes:n}))}),this));break;case y.BAND_CREATE_SEARCH_SPECIAL_BAND:case y.DISCOVER_SEARCH_SPECIAL_BAND:var E=!0;y.DISCOVER_SEARCH_SPECIAL_BAND==e&&(E=!1);var x={type:n.creation_type,bandCreate:E,queryString:i};i.school_id?this._showRegionContent(Y.buildDSearchSpecialBandView(x)):this._showRegionContent(m.buildAsync(x));break;case y.GLOBAL_SETTING_SERVICE_USE_AGREEMENT_CCPA:this._showRegionContent($.buildCcpaView()),this.getRegion("regionLeftAsideContent").show(v.build("setting"));break;case y.GLOBAL_LOCAL_BAND:this._showRegionContent(te.build(i));break;case y.GLOBAL_LOCAL_BAND_APPLY:this._showRegionContent(ne.build());break;case y.GLOBAL_LOCAL_BAND_LFG_RESULT:this._showRegionContent(ie.build());break;case y.GLOBAL_DISCOVER_LOCATION:this._showRegionContent(se.build(n));break;default:y.GLOBAL_HOME.goDForced()}},_resetStyles:function(e){t.each(O.EL,(function(e){this.$el.removeClass(e)}),this),this.$el.addClass(e.getDHomeElClass()),t.each(O.CONTENT,(function(e){this.getUI("regionContent").removeClass(e)}),this),this.getUI("regionContent").addClass(e.getDHomeContentClass()),t.each(O.LEFT_ASIDE,(function(e){this.getUI("regionLeftAsideContent").removeClass(e)}),this),this.getUI("regionLeftAsideContent").addClass(e.getDHomeLeftClass()),x.resetSkin()},_renderGlobalSearchContent:function(e,t,n,i){null!=e&&e.isGlobalSearchType()||(this._globalSearchLayoutView=z.buildDGlobalSearchLayoutView(n),this.showChildView("regionContent",this._globalSearchLayoutView)),this._globalSearchLayoutView.renderSearchLayoutView(t,n,i)}})}.call(t,n,t,e))||(e.exports=i)},3106:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3107),o=n(548),r=n(84),l=n(1274),c=a.View.extend({tagName:"section",className:"sMoreSetting gContentCardShadow",template:i.template(s),templateContext:{msg_title:IM("more.menu.input_invitation_code"),msg_guide:IM("web.findinvitation.txt.guide"),msg_numberCode:IM("web.findinvitation.placeholder.number"),msg_wordCode:IM("web.findinvitation.placeholder.word"),msg_checkCode:IM("web.findinvitation.btn.confirm")},attributes:{"data-viewname":"DFindInvitationView"},ui:{btnCheckCode:"[data-uiselector=btnCheckCode]",inputNumberCode:"[data-uiselector=inputNumberCode]",inputWordCode:"[data-uiselector=inputWordCode]"},events:{"click @ui.btnCheckCode":"_checkCode","keyup @ui.inputNumberCode":"_changeInputCode","keyup @ui.inputWordCode":"_changeInputWord","change @ui.inputNumberCode":"_changeInputCode","change @ui.inputWordCode":"_changeInputWord"},_checkCode:function(){var e=t.trim(this.ui.inputNumberCode.val()),n=t.trim(this.ui.inputWordCode.val());if(this._isValidCode(e,n)){var a=e+"-"+n;o.verifyPinCode(a).then(i.bind((function(e){l.showDInvitationLayerView(e.invitation_card_id).then(i.bind((function(e){this.listenTo(e,"DInvitationCardView:close",(function(){e.destroy()})),this.listenTo(e,"DInvitationCardView:refresh",(function(){e.destroy()}))}),this),(function(){r.refreshCurrentPage()}))}),this))}},_changeInputWord:function(){this.ui.inputWordCode.val(this.ui.inputWordCode.val().toLocaleUpperCase()),this._changeInputCode()},_changeInputCode:function(){var e=t.trim(this.ui.inputNumberCode.val()),n=t.trim(this.ui.inputWordCode.val());this._isValidCode(e,n)?this.ui.btnCheckCode.removeClass("-disabled"):this.ui.btnCheckCode.addClass("-disabled")},_isValidCode:function(e,t){return 4==e.length&&t.length>=1}});return c.build=function(){return new c},c}.call(t,n,t,e))||(e.exports=i)},3107:function(e,t){e.exports='<h1 class="sectionTitle"><%- msg_title %></h1>\n\n<div class="sectionBox">\n    <p class="codeTxt"><%= msg_guide %>\x3c!--친구가 불러준 숫자와 영단어를 입력한 후<br>초대장 확인을 클릭하세요.--\x3e</p>\n\n    <form>\n        <div class="codeInputWrap">\n            <div class="uInput -displayInline -simpleLine" style="width:130px">\n                <label class="gSrOnly" for="code"><%- msg_numberCode %></label>\n                <input data-uiselector="inputNumberCode" type="text" id="code" placeholder="<%- msg_numberCode %>">\n                <span class="border"></span>\n            </div>\n\n            <div class="uInput -displayInline -simpleLine" style="width:130px">\n                <label class="gSrOnly" for="code2"><%- msg_wordCode %></label>\n                <input data-uiselector="inputWordCode" type="text" id="code2" placeholder="<%- msg_wordCode %>">\n                <span class="border"></span>\n            </div>\n\n            <button type="button" class="uButton -sizeL -confirm -disabled" data-uiselector="btnCheckCode"><%- msg_checkCode %></button>\n        </div>\n    </form>\n</div>'},3108:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3109),o=n(1268),r=n(9),l=n(157),c=n(13),d=a.View.extend({tagName:"section",attributes:{"data-viewname":"DNoticeListView"},className:"sMoreSetting gContentCardShadow",template:i.template(s),templateContext:function(){return{formatNoticeData:function(e){return e?r.format.date(e,"short_date_time"):""},loading:this.loading,msg_title:IM("ui.label.notice.title.plural"),noticeDetailPageUrl:function(e){return l.GLOBAL_NOTICE_DETAIL.makeUrl({notice_no:e})}}},initialize:function(e){this.loading=!0},modelEvents:{"fetch:noticeList":function(){this.loading=!1,this.render()}},onAttach:function(){this.model.fetchNoticeList(c.isKid()),window.document.title=IM("page.title",{title:IM("ui.label.notice.title.singular")}),t("meta[name=description]").attr("content",IM("cs.notice.description"))}});return d.build=function(){return new d({model:new o})},d}.call(t,n,t,e))||(e.exports=i)},3109:function(e,t){e.exports='<h1 class="sectionTitle"><%- msg_title %></h1>\n\n<div class="csSection">\n    <% if (!loading) { %>\n    <ul class="tblList">\n        <% _.each(noticeList, function(element) { %>\n        <li class="tbl">\n            <a href="<%- noticeDetailPageUrl(element.noticeNo) %>">\n                <strong><%- element.title %></strong><br>\n                <span><%- formatNoticeData(element.displayStartYmdt) %></span>\n            </a>\n        </li>\n        <% }) %>\n    </ul>\n    <% } else { %>\n    <div class="loading">\n        <span class="gSrOnly"><%- IM(\'ui.label.loading\') %></span>\n    </div>\n    <% } %>\n</div>'},3110:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(16),s=n(4),o=n(3111),r=n(1709),l=n(157),c=n(1018),d=n(53),u=n(562),h=n(9),p=n(3112),_=n(932),m=n(1710),g=n(186),b=n(13),f=s.View.extend({tagName:"section",className:"sMoreSetting",template:i.template(o),templateContext:function(){return{helpUrl:l.GLOBAL_HELP.makeUrl(),helpCategoryUrl:function(e){return l.GLOBAL_HELP_CATEGORY.makeUrl({category_no:e})},helpDetailUrl:function(e){return l.GLOBAL_HELP_DETAIL.makeUrl({help_no:e})},inquiryUrl:this._findInquiryUrl(),isNotKid:b.isNotKid()}},attributes:{"data-viewname":"DHelpView"},ui:{inputQuery:"._inputQuery",searchInputWrap:"._searchInputWrap",tdInput:"._tdInput",tdBtns:"._tdBtns",btnInquiry:"._btnInquiry",titleAnchor:"._titleAnchor"},behaviors:function(){return[{behaviorClass:m,model:this.options.model,dataFetchEventName:r.EVENT.FETCH_HELP_LIST}]},events:{"submit @ui.searchInputWrap":function(e){e.preventDefault();var n=t.trim(this.getUI("inputQuery").val());n&&l.GLOBAL_HELP_SEARCH.goDForced({},{query:n})},"input @ui.inputQuery":"_onChangeInputQuery","focus @ui.inputQuery":"_onFocusInputQuery","blur @ui.inputQuery":"_onBlurInputQuery","propertychange @ui.inputQuery":"_onChangeInputQuery","click @ui.btnInquiry":function(){return this._openContactUs(),!1},"click @ui.titleAnchor":"_onClickHelpTitleAnchor"},modelEvents:function(){var e={};return e[r.EVENT.FETCH_HELP_LIST]=function(){this.render()},e},initialize:function(){this._headerHeight=t("#header").height()},_onChangeInputQuery:function(){this.getUI("tdInput").toggleClass("on",!!this.getUI("inputQuery").val())},_onFocusInputQuery:function(){this.getUI("searchInputWrap").addClass("-on -dimmed"),this.getUI("tdInput").addClass("-enabledBtnSubmit -focus")},_onBlurInputQuery:function(){this.getUI("tdInput").removeClass("-focus")},onAttach:function(){this.model.get("helpNo")?c.getHelp(this.model.get("helpNo"),b.isKid()).then(i.bind((function(e){e.help&&e.help.helpCategoryNo?(this.model.set({helpCategoryNo:e.help.helpCategoryNo,helpDetail:e.help,isHelpDetail:!0}),this.model.fetchHelpList(b.isKid())):l.GLOBAL_HELP.goDForced()}),this)):this.model.fetchHelpList(b.isKid())},_setPageTitle:function(e){e?(document.title=IM("page.title",{title:IM("cs.help.detail.title",{title:e})}),t("meta[name=description]").attr("content",IM("cs.help.detail.description"))):(document.title=IM("page.title",{title:IM("cs.help_faq.title")}),t("meta[name=description]").attr("content",IM("cs.help.description")))},onRender:function(){var e=this.model.get("helpNo");if(this.model.has("helpDetail")?this._setPageTitle(this.model.get("helpDetail").title):this.model.hasHelpCategoryNo()?this._setPageTitle(this.model.get("helpListTitle")):this._setPageTitle(),e){var n=t("[data-help-no="+e+"]");if(0!==n.length)t("html, body").scrollTop(n.offset().top-this._headerHeight)}},_openContactUs:function(){if(b.isNotLoginUsaUser()){var e=g.getSignUpBirthDate();if(null!=e){var t=a(e,_.SIGN_UP_BIRTH_COOKIE_FORMAT);if(a().diff(t,"years")<_.CRITERIA_AGE)return void this._showChildrenEmailLayer()}this._openBirthdayInputView()}else window.open(this._findInquiryUrl(),"mailInquiry","width=630, height=620, scrollbars=yes")},_showChildrenEmailLayer:function(){u.openLayer({headerTitle:"BAND Help Center",bodyDesc:'Please send us an email for any questions about BAND for Kids.<br><br>Email address: <a href="mailto:band_kids@naver.com" target="_blank" class="mailLink">band_kids@naver.com</a>',withoutHiding:!0})},_openBirthdayInputView:function(){var e=p.openDContactUsBirthdayInputLayer();this.listenTo(e,p.BIRTHDAY_SAVED,(function(e){a().diff(e,"years")>=_.CRITERIA_AGE?window.open(this._findInquiryUrl(),"mailInquiry","width=630, height=620, scrollbars=yes"):this._showChildrenEmailLayer()}))},_findInquiryUrl:function(){var e="en",t=h.getLang();return"ko"==t&&(e="ko"),"ja"==t&&(e="ja"),["https://help.cs.band.us/support/mail/popup/mailInquiry.help?categoryNo=","13152","&lang=",e].join("")},_onClickHelpTitleAnchor:function(e){var n=t(e.currentTarget).parents("._helpListItem");n.hasClass("on")&&(e.preventDefault(),n.removeClass("on"))}});return f.build=function(){var e=d.getCurrentRouteInfo(),t={};switch(e.routeInfo){case l.GLOBAL_HELP_CATEGORY:t.helpCategoryNo=e.pathVariables.category_no;break;case l.GLOBAL_HELP_SEARCH:t.query=decodeURIComponent(e.params.query||"");break;case l.GLOBAL_HELP_DETAIL:t.helpNo=e.pathVariables.help_no,t.query=decodeURIComponent(e.params.query||"")}return new f({model:new r(t)})},f}.call(t,n,t,e))||(e.exports=i)},3111:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'web.help.header.title.help\') %></h1>\n\n<div class="csSection gContentCardShadow">\n    <form action="#" method="post" class="borderBox searchInputWrap _searchInputWrap <% if (query && !isHelpDetail) { %>-on -statusOn<% } %>">\n        <fieldset class="searchInput">\n            \x3c!-- [D] 검색 완료시 class="on" 추가 --\x3e\n            <div class="tbl">\n            <span class="cell tdInput _tdInput <% if (query) { %>on<% } %>">\n                <input type="text" placeholder="<%- IM(\'web.help.header.placeholder.input_search\') %>" value="<%- query %>" class="_inputQuery <% if (query) { %>on<% } %>"></span>\n\n                <span class="cell tdBtns _tdBtns">\n                    <button type="submit" class="btnSubmit"><span class="gSrOnly"><%- IM(\'ui.label.search\') %></span></button>\n                </span>\n            </div>\n        </fieldset>\n    </form>\n\n    <div class="borderBox mat0 categoryBox _categoryBox">\n        <h2 class="gSrOnly"><%- IM(\'web.help.label.category\') %></h2>\n\n        <ul class="category">\n            <li<% if (helpCategoryNo == \'\' && !query ) { %> class="on"<% } %>>\n            <a href="<%- helpUrl %>" class="btnCategory"><%- IM(\'cs.help.category.faq.title\') %></a>\n            </li>\n            \x3c!-- [D] 활성화 class="on" --\x3e\n            <% _.each(categoryList, function(element) { %>\n            <li<% if (element.helpCategoryNo == helpCategoryNo) { %> class="on"<% } %>>\n            <a data-help-category-no="<%- element.helpCategoryNo %>" href="<%- helpCategoryUrl(element.helpCategoryNo) %>" class="btnCategory"><%- element.title %></a>\n            </li>\n            <%\n            });\n\n            //3개씩 떨어지도록 부족한 li 채움\n            var liCount = (categoryList.length + 1) % 3;\n\n            if (liCount) {\n            for(var i=1, count=3 - (liCount % 3); i<=count; i++){\n            %>\n            <li class="empty"></li>\n            <%\n            }\n            }\n            %>\n        </ul>\n    </div>\n</div>\n\n<div class="csSection gContentCardShadow gMat14">\n    <div class="tblList borderBox _categoryListRegion">\n        <div class="sectionTitle -bg">\n            <% if (query) { %>\n            <% // 검색 결과 타이틀은 건수 제거하고 출력 %>\n            <%= helpListTitle.replace(/(\\s[0-9].*)$/g, \'<em>$1</em>\') %>\n            <% } else { %>\n            <%- helpListTitle %>\n            <% } %>\n        </div>\n\n        <ul>\n            <% _.each(helpList, function(element) { %>\n            <li class="<% if (element.helpNo == helpNo) { %>on<% } %> _helpListItem">\n                <%\n                var href = helpDetailURL + element.helpNo;\n\n                if ( query !== \'\' ) {\n                    href += \'?query=\' + query;\n                }\n\n                if ( element.helpNo == helpNo ) {\n                    href = helpCategoryURL + helpCategoryNo;\n                }\n                %>\n\n                <a data-help-no="<%- element.helpNo %>" href="<%- helpDetailUrl(element.helpNo) %>" class="tbl _titleAnchor">\n                    <h3 class="tit"><%- $.trim(element.title) %></h3>\n                </a>\n                <% if (element.helpNo == helpNo) { %>\n                <div class="tbl content">\n                    <div><%= helpDetail.contents %></div>\n                </div>\n                <% } %>\n            </li>\n            <% }) %>\n        </ul>\n        <% if (noResult) { %>\n        \x3c!-- [D] 검색결과 없을때 --\x3e\n        <p class="none"><%- IM(\'ui.message.no_search_result\') %></p>\n        <% } %>\n    </div>\n</div>\n\n<% if(isNotKid) { %>\n<a href="<%- inquiryUrl %>" class="btnInquiry gContentCardShadow _btnInquiry"><%- IM(\'cs.inquiry.label\') %></a>\n<% } %>'},3112:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(16),s=n(4),o=n(3113),r=n(486),l=n(186),c=n(1138),d=n(932),u=s.View.extend({tagName:"section",className:"lyWrap",template:i.template(o),templateContext:function(){var e=a().year(),t=this._makeConsecutiveNumbers(c.BIRTHDAY_START_YEAR,e);return{yearList:t=i.sortBy(t,(function(e){return-e}))}},attributes:{"data-viewname":"DContactUsBirthdayInputView"},ui:{yearSelect:"._yearSelect",monthSelect:"._monthSelect",daySelect:"._daySelect",closeBtn:"._closeBtn",confirmBtn:"._confirmBtn"},events:{"change @ui.monthSelect":function(){this._resetDayList(),this._activateConfirmBtnIfPossible()},"change @ui.yearSelect":function(){this._resetDayList(),this._activateConfirmBtnIfPossible()},"change @ui.daySelect":function(){this._activateConfirmBtnIfPossible()},"click @ui.closeBtn":function(){this.destroy()},"click @ui.confirmBtn":function(){if(!this._canConfirm())return!1;var e=a().year(this.ui.yearSelect.val()).month(this.ui.monthSelect.val()-1).date(this.ui.daySelect.val()).startOf("day");l.setSignUpBirthDate(e.format(d.SIGN_UP_BIRTH_COOKIE_FORMAT)),this.trigger(u.BIRTHDAY_SAVED,e),this.destroy()}},onAttach:function(){this._resetDayList(),t(this.ui.daySelect.find("._firstDay")).prop("selected",!0)},_resetDayList:function(){var e=this.ui.monthSelect.val(),n=a().year(this.ui.yearSelect.val()).month(e-1).endOf("month").date(),s=this._makeConsecutiveNumbers(1,n);this.ui.daySelect.empty();var o=t("<option></option>").prop("value",0).text("Day").prop("selected",!0).prop("disabled",!0);this.ui.daySelect.append(o),i.each(s,(function(e,n){var i=t("<option></option>").prop("value",e).text(e);0==n&&i.addClass("_firstDay"),this.ui.daySelect.append(i)}),this)},_makeConsecutiveNumbers:function(e,t){for(var n=[];e<=t;)n.push(e),e++;return n},_activateConfirmBtnIfPossible:function(){this.ui.confirmBtn.prop("disabled",!this._canConfirm())},_canConfirm:function(){return null!=this.ui.daySelect.val()}});return u.BIRTHDAY_SAVED="BIRTHDAY_SAVED",u.openDContactUsBirthdayInputLayer=function(){var e=new u;return r.openWithoutHiding(e),e},u}.call(t,n,t,e))||(e.exports=i)},3113:function(e,t){e.exports='<div class="lyContent -w360">\n    <header class="modalHeader">\n        <h1 class="title">BAND Help Center</h1>\n    </header>\n\n    <div class="modalBody">\n        <div class="modalContentWrap">\n            <p class="pText gTaC gMat16">Please let us know your birthday</p>\n            <div class="contactBirthday gMat16" aria-label="birthday">\n                <div class="uSelect -h32" style="width:101px" aria-label="Select month">\n                    <select class="_monthSelect">\n                        <option value="1" selected>January</option>\n                        <option value="2">February</option>\n                        <option value="3">March</option>\n                        <option value="4">April</option>\n                        <option value="5">May</option>\n                        <option value="6">June</option>\n                        <option value="7">July</option>\n                        <option value="8">August</option>\n                        <option value="9">September</option>\n                        <option value="10">October</option>\n                        <option value="11">November</option>\n                        <option value="12">December</option>\n                    </select>\n                </div>\n                <div class="uSelect -h32" style="width:101px" aria-label="Select day">\n                    <select class="_daySelect"></select>\n                </div>\n\n                <div class="uSelect -h32" style="width:108px">\n                    <select class="_yearSelect" aria-label="Select year">\n                    <% _.each(yearList, function(eachYear, eachYearIndex) { %>\n                        <option value="<%- eachYear %>" <% if ( eachYearIndex == 0 ) { %>selected<% } %>><%- eachYear %></option>\n                    <% }); %>\n                    </select>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <footer class="modalFooter">\n        <button type="button" class="uButton -cancel _closeBtn">Cancel</button>\n        <button type="button" class="uButton -confirm _confirmBtn">Next</button>\n    </footer>\n</div>'},3114:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3115),o=n(1268),r=n(9),l=n(157),c=n(13),d=a.View.extend({tagName:"section",attributes:{"data-viewname":"DNoticeDetailView"},className:"sMoreSetting gContentCardShadow",template:i.template(s),templateContext:function(){return{formatNoticeData:function(e){return e?r.format.date(e,"short_date_time"):""},loading:this.loading,msg_title:IM("ui.label.notice.title.plural"),noticeListUrl:l.GLOBAL_NOTICE.makeUrl()}},modelEvents:{"fetch:notice":function(){this.model.get("noResult")?l.GLOBAL_NOTICE.goDForced():(this.loading=!1,this.render())}},initialize:function(){this.loading=!0},onRender:function(){this.model.has("title")?window.document.title=IM("page.title",{title:IM("cs.notice.detail.title",{title:this.model.get("title")})}):window.document.title=IM("page.title",{title:IM("ui.label.notice.title.singular")}),t("meta[name=description]").attr("content",IM("cs.notice.description"))},onAttach:function(){this.model.fetchNotice(c.isKid())}});return d.build=function(e){return new d({model:new o({noticeNo:e.noticeNo})})},d}.call(t,n,t,e))||(e.exports=i)},3115:function(e,t){e.exports='<h1 class="sectionTitle"><%- msg_title %></h1>\n\n<div class="csSection">\n    <a href="<%- noticeListUrl %>" class="btnGoList"><%- IM(\'web.cs.notice.header.title\') %></a>\n\n    <% if (!loading) { %>\n    <article class="cBx listView -detailPage">\n        <header class="head">\n            <h2><%- title %></h2>\n\n            <% if(ymdtExposeYN == \'Y\') { %>\n            <p><%- formatNoticeData(displayStartYmdt) %></p>\n            <% } %>\n        </header>\n\n        <div class="body">\n            <%= contents %>\n        </div>\n\n        <% if (noResult) { %>\n        <p class="none"><%- IM(\'ui.message.no_search_result\') %></p>\n        <% } %>\n    </article>\n    <% } else { %>\n    <div class="loading">\n        <span class="gSrOnly"><%- IM(\'ui.label.loading\') %></span>\n    </div>\n    <% } %>\n</div>'},3116:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(13),s=n(54),o=n(1214),r=n(1232),l=n(1753),c=n(3117),d=n(3118),u=n(3120),h=i.View.extend({tagName:"div",template:t.template(u),attributes:{"data-viewname":"DEmailAlarmView"},ui:{setAllBandEmailAlarm:"._setAllBandEmailAlarm"},regions:{bandListRegion:{el:"._bandList"}},initialize:function(){this.userData=a.getUserData(),this.profileSettingModel=new o,this._showRegionComplete=!0},events:{"click @ui.setAllBandEmailAlarm":"_setAllBandEmailAlarm"},onRender:function(){s.getUserConfig("receive_email_notification").then(t.bind((function(e){"true"==e[0].value&&this.userData.get("is_email_verified")&&(this.ui.setAllBandEmailAlarm.prop("checked",!0),this._showRegion())}),this))},_setAllBandEmailAlarm:function(){if(!this._showRegionComplete)return!1;this._showRegionComplete=!1,this.ui.setAllBandEmailAlarm.prop("checked")?this.userData.fetchUserData().then(t.bind((function(e){if(e.get("is_email_verified"))return this._setUserConfigForEmailAlarm(),!1;var n=this.profileSettingModel.fetchUserProfileFromUserData(e.attributes);if(""==e.get("email")){if(confirm(IM("alarm.email.setting.before_registration"))){var i=l.buildAsLayer({profileSettingModel:n});this.listenTo(i,"emailRegistration:complete",t.bind((function(){this._setUserConfigForEmailAlarm()}),this))}}else{var a=r.buildController({profileSettingModel:n});alert(IM("setting.account.email.verify.txt")),a.openEmailView(e.get("email")),this.listenTo(a,"authorization:complete",t.bind((function(){this._setUserConfigForEmailAlarm()}),this))}this.ui.setAllBandEmailAlarm.prop("checked",!1),this._showRegionComplete=!0}),this)):s.setUserConfig({key:"receive_email_notification",value:!1}).then(t.bind((function(){this.getChildView("bandListRegion")&&(this.getRegion("bandListRegion").empty(),this._showRegionComplete=!0)}),this))},_setUserConfigForEmailAlarm:function(){s.setUserConfig({key:"receive_email_notification",value:!0}).then(t.bind((function(){return this.ui.setAllBandEmailAlarm.prop("checked",!0),this._showRegion(),!1}),this))},_showRegion:function(){this.collection.fetchCollection().then(t.bind((function(){this.collection.length<=0?this.showChildView("bandListRegion","<p class='uEmpty'><span>"+IM("my_profiles.no_bands.default_profile")+"</span></p>"):this.showChildView("bandListRegion",new p({collection:this.collection})),this._showRegionComplete=!0}),this))}}),p=i.CollectionView.extend({tagName:"ul",className:"cMemberList",childView:d});return h.build=function(){return new h({collection:new c})},h}.call(t,n,t,e))||(e.exports=i)},3117:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(83),s=n(85);return i.Collection.extend({fetchCollection:function(){var e=s.RECEIVE_EMAIL_NOTIFICATION,n=s.getFieldsWithFilterType(e);return a.getBandListWithFilter(e,n).then(t.bind((function(e){this.reset(e)}),this))}})}.call(t,n,t,e))||(e.exports=i)},3118:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(82),s=n(541),o=n(3119);return i.View.extend({tagName:"li",className:"uFlexItem",template:t.template(o),templateContext:function(){return{cover:a.makeSmallCoverUrl(this.model.get("band").cover),band_no:this.model.get("band").band_no,name:this.model.get("band").name}},attributes:{"data-viewname":"DEmailAlarmBandListItemView"},ui:{setAlarm:"._setAlarm"},events:{"click @ui.setAlarm":function(){return s.setBandNotificationOption({bandNo:this.model.get("band").band_no,receiveEmailNotification:this.ui.setAlarm.prop("checked")}).then(t.bind((function(e){}),this),(function(e){this.ui.setAlarm.prop("checked",!1)}))}},onAttach:function(){this.ui.setAlarm.prop("checked",this.model.get("member").receive_email_notification)}})}.call(t,n,t,e))||(e.exports=i)},3119:function(e,t){e.exports='<div class="uCoverImage -w36 -border">\n    <span class="coverInner">\n        <img src="<%- cover %>" class="coverImg" alt="">\n    </span>\n</div>\n<span class="body">\n    <span class="flex">\n        <span class="text -ellipsis"><%-name%></span>\n    </span>\n</span>\n<span class="etc">\n    <div class="cell btn -top">\n        <span class="uCheck -switch -noLabel">\n            <input type="checkbox" id="band_<%- band_no %>" name="band_<%- band_no %>" value="<%- band_no %>" class="checkInput _setAlarm" />\n            <span class="checkLabel">\n                <span class="shape "></span>\n            </span>\n        </span>\n    </div>\n</span>'},3120:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM("alarm.email.setting") %></h1>\n    <div class="uTableList infoTable">\n        <div class="cell">\n            <ul class="uTableList -topAlign">\n                <li class="row">\n                    <div class="cell content -first">\n                        <dl class="descInfo">\n                            <dt><%= IM("alarm.email") %></dt>\n                            <dd class="gMat4"><%= IM("alarm.email.description2") %></dd>\n                        </dl>\n                    </div>\n                    <div class="cell btn -top">\n                        <span class="uCheck -switch -noLabel">\n                            <input type="checkbox" class="checkInput _setAllBandEmailAlarm">\n                            <span class="checkLabel">\n                                <span class="shape "></span>\n                            </span>\n                        </span>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</section>\n<section class="sMoreSetting gBoxShadow gMat12 uTableList _bandList"></section>'},3121:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(4),s=n(3122),o=n(1286),r=n(157),l=n(84),c=n(1997),d=a.View.extend({tagName:"div",className:"",attributes:{"data-viewname":"DBandLabSettingView"},template:t.template(s),templateContext:function(){return{screenMode:{value:c.getScreenMode(),type:c.SCREEN_MODE}}},ui:{selectScreenMode:"._selectScreenMode",btnScreenMode:"._btnScreenMode"},events:{"change ._switchBandLabOption":function(e){var t=$(e.currentTarget),n=t.data("optionKey"),i=t.prop("checked");o.setBandLabOption(n,i),this._toggleSubOption(n,i)},"click @ui.btnScreenMode":function(){c.setScreenMode(this.getUI("selectScreenMode").val())}},initialize:function(e){if(!window.isInHouseNetwork)return alert("접근할 수 없는 페이지입니다."),void l.historyBackOrGoTargetUrl(r.GLOBAL_SETTING.makeUrl(),!0)},_toggleSubOption:function(e,n){var i=this.$el.find("[data-setting-key="+e+"]");if(0!==i.length){i.toggle(n);var a="_disabled"+e.charAt(0).toUpperCase()+e.substr(1);!n&&t.isFunction(this[a])&&this[a]()}},_disabledDarkMode:function(){c.setScreenMode(c.SCREEN_MODE.LIGHT),this.getUI("selectScreenMode").val(c.SCREEN_MODE.LIGHT)}});return d.build=function(){return new d({collection:new i.Collection(o.getBandLabOptions().values())})},d}.call(t,n,t,e))||(e.exports=i)},3122:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle">밴드 실험실</h1>\n    <div class="uTableList infoTable">\n        <div class="cell">\n            <ul class="uTableList -topAlign">\n                <% _.each(items, function(item) { %>\n                <li class="row">\n                    <div class="cell content -first">\n                        <dl class="descInfo">\n                            <dt><%= item.title %></dt>\n                            <dd class="gMat4"><%= item.desc %></dd>\n                        </dl>\n                    </div>\n                    <div class="cell btn -top">\n                        <span class="uCheck -switch -noLabel">\n                            <input type="checkbox" class="checkInput _switchBandLabOption" data-option-key="<%= item.key %>" <%= item.enabled ? \'checked="checked"\' : \'\' %>>\n                            <span class="checkLabel">\n                                <span class="shape"></span>\n                            </span>\n                        </span>\n                    </div>\n                </li>\n\n                <% if (item.key === \'darkMode\') { %>\n                <li class="row" data-setting-key="<%- item.key %>" style="border-top:none; display: <%- (item.enabled) ? \'table-row\': \'none\' %>">\n                    <div class="cell content -first gPat0">\n                        <span class="uSelect -bg">\n                            <select class="_selectScreenMode" id="screenMode" style="width:148px;">\n                                <option value="<%- screenMode.type.LIGHT %>" <%- (screenMode.value === screenMode.type.LIGHT) ? \'selected\' : \'\' %>>라이트 모드</option>\n                                <option value="<%- screenMode.type.DARK %>" <%- (screenMode.value === screenMode.type.DARK) ? \'selected\' : \'\' %>>다크 모드</option>\n                                <option value="<%- screenMode.type.AUTO %>" <%- (screenMode.value === screenMode.type.AUTO) ? \'selected\' : \'\' %>>자동</option>\n                            </select>\n                        </span>\n                    </div>\n                    <div class="cell btn gPat0">\n                       <button class="uButton -sizeS -confirm2 _btnScreenMode"><%- IM(\'web.setting.language.btn.accept_language\') %></button>\n                    </div>\n                </li>\n                <% } %>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n</section>\n<div class="uWarningText">\n    <p>언제든 아이디어와 의견을 받습니다. 아래 BTS 링크로 이슈 생성해주시면 됩니다.</p>\n    <a href="http://bts.campmobile.com/secure/CreateIssueDetails!init.jspa?pid=10000&issuetype=10103&priority=10002&components=10121&fixVersions=12900" target="_blank">아이디어 접수 BTS</a>\n</div>'},3123:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(4),s=n(3124),o=n(3127),r=n(3128),l=n(3134),c=n(26),d=n(153),u=n(187),h=n(3140),p=n(3142),_=n(1605),m=n(1157),g=n(495),b=n(487),f=n(159),v=n(154),C=n(13),y=n(1008),I=n(3144),w=n(157),E=n(3146),L=a.View.extend({attributes:{"data-viewname":"DBandListView"},template:t.template(o),templateContext:function(){return{desktopAppLink:m.makeLink("DESKTOP"),isNotKid:C.isNotKid(),findingInviationUrl:w.GLOBAL_FINDING_INVITATION.makeUrl()}},behaviors:[f,{behaviorClass:g,sceneId:g.SCENE.BAND_LIST},b],ui:{btnBandOrder:"._btnBandOrder",btnHiddenBand:"._btnHiddenBand",btnBandSetting:"._btnBandSetting",bandSettingContainer:".bandSetting",btnGuide:".btnGuide",findMyInvitationWrap:"._findMyInvitationWrap",myBandListWrap:"._myBandListWrap"},regions:{bannerRegion:{el:"._bannerRegion",replaceElement:!0},localBandBanner:{el:"._localBandBanner",replaceElement:!0},bandListRegion:"._bandListRegion",bandCreationSet:{el:"._bandCreationSet",replaceElement:!0},openFeedRegion:{el:"._openFeedRegion",replaceElement:!0},recommendRegion:{el:"._recommendRegion",replaceElement:!0}},events:{"click @ui.btnBandOrder":function(){this.getUI("btnBandSetting").focus();var e=l.build();this.listenTo(e,"destroy",(function(){this.stopListening(e),this.bandCollectionView.collection.fetch()}))},"click @ui.btnHiddenBand":function(){this.getUI("btnBandSetting").focus();var e=r.build();this.listenTo(e,"destroy",(function(){this.stopListening(e),this.bandCollectionView.collection.fetch()}))},"click @ui.btnBandSetting":function(e){e.stopPropagation(),this.ui.bandSettingContainer.toggleClass("-active")},"click @ui.btnGuide":function(e){e.stopPropagation(),d.GROUP_BAND_HOME.goDForced({band_no:this.bandGuide.band_no})}},onAttach:function(){this._showLocalBandBanner(),this.bandCollectionView=s.build(),this.getRegion("bandListRegion").show(this.bandCollectionView),this.listenTo(this.bandCollectionView,s.FETCH_EVENT.FETCH_COMPLETED,this._showBandCollectionView),u.canShowOpenFeed()&&C.canAccessBandSearchForGuardianship()&&C.canSearchQualificationByAge()&&this.getRegion("openFeedRegion").show(p.build()),this._renderRecommendBandList(),this.jplSceneEnter(b.CLASSIFIER.BAND_LIST),this.listenTo(this.bandCollectionView.collection,"reset",(function(){this.bandGuide=this.bandCollectionView.collection.getBandGuide(),this.bandGuide&&this.bandGuide.isUpdate&&i(".gNewIcon").css("display",""),this._renderBandCreationSetView()})),this.listenTo(c.getDGlobalChannel(),c.EVENT.HTML_CLICK,(function(){this.ui.bandSettingContainer.hasClass("-active")&&this.ui.bandSettingContainer.removeClass("-active")})),this._renderBannerRegion()},_renderBandCreationSetView:function(){if(!C.isKid()){var e=this.bandCollectionView.collection.getBandCreationSet();e&&this.getRegion("bandCreationSet").show(h.build(e))}},_showBandCollectionView:function(e){e>0||C.isNotKid()?this.getUI("myBandListWrap").show():(this.getRegion("bandListRegion").destroy(),this.getUI("myBandListWrap").remove(),this.getUI("findMyInvitationWrap").show())},_renderRecommendBandList:function(){u.canShowRecommendBand()&&C.canAccessBandSearchForGuardianship()&&C.canSearchQualificationByAge()&&v.wrapActivePromise(_.buildAsync(),this).then(t.bind((function(e){e&&this.showChildView("recommendRegion",e)}),this))},_renderBannerRegion:function(){y.getRcmdBandHomeUpperList().then(t.bind((function(e){if(e[0].hasOwnProperty("card_list")){var t=e[0].card_list[0];if("LINK_CARD_TYPE1"===t.layout_type){var n=I.buildBannerView(t);this.showChildView("bannerRegion",n)}}}),this))},_showLocalBandBanner:function(){u.canShowLocalBand()&&C.canAccessBandSearchForGuardianship()&&v.wrapActivePromise(E.build(),this).then(t.bind((function(e){e&&this.showChildView("localBandBanner",e)}),this))}});return L.build=function(){return new L},L}.call(t,n,t,e))||(e.exports=i)},3124:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(3125),a=n(1416),s=n(26),o=t.CollectionView.extend({tagName:"ul",className:"bandList",attributes:{"data-viewname":"DBandCollectionView"},childView:i,childViewOptions:function(e,t){return{bandListItemIndex:t}},initialize:function(){this.listenTo(s.getShortcutChannel(),s.SHORTCUT_EVENT.GO_TO_BAND,_.bind((function(e){var t=this.collection.findIndex((function(e){return e.get("isBand")}))+e,n=this.children.findByIndex(t);n.model.get("isBand")&&n.$el.click()}),this))},onAttach:function(){this.collection.fetch({gradually:!0}),this.listenTo(this.collection,a.FETCH_EVENT.FETCH_COMPLETED,_.bind((function(e){this.trigger(a.FETCH_EVENT.FETCH_COMPLETED,e)}),this))}});return o.FETCH_EVENT=a.FETCH_EVENT,o.build=function(){var e=new a;return new o({collection:e})},o}.call(t,n,t,e))||(e.exports=i)},3125:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(10),s=n(4),o=n(157),r=n(153),l=n(3126),c=n(512),d=n(82),u=n(506),h=n(1274),p=n(1078),_=n(795),m=n(84),g=n(487),b=n(161),f=n(553),v=n(155),C=n(154),y=n(590);return s.View.extend({tagName:"li",template:i.template(l),templateContext:function(){return{ThumbnailUtil:d,bandCover:this.model.isBand()?this.bandCore.getBandMainImageUrl():"",formattedMemberCount:a.numberFormat(this.model.get("member_count")),isNew:i.bind((function(){return u.get(this.model.get("access_status"),"updated")||!1}),this),isLive:this.model.get("live"),isRecruiting:!!this.model.isBand()&&this.bandCore.showMemberRecruiting(),recruitingMemberCapacity:this.model.get("recruiting_member_capacity"),bandLinkUrl:this._getBandLinkUrl()}},attributes:function(){var e,t={"data-viewname":"DBandCollectionItemView"};return this.model.isBandCreate()?e="createBand":this.model.isInvitation()?e="invitation":this.model.isBand()?e="band":this.model.isAdvertisement()?e="ad":this.model.isBandGuide()&&(e="guideBand"),e&&(t["data-item-type"]=e),t},className:"bandListItem",ui:{advertisementImage:"img._advertisement_image",adBandCover:"._adBandCover",bandInvitationCover:"._bandInvitationCover"},behaviors:[{behaviorClass:g,sceneId:g.CLASSIFIER.BAND_LIST}],_moveToAdvertisementLandingPage:function(e,t){e?_.goToBandByClick(e,t):location.href=this._getAdActionValue()},events:{"click a":function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){e.preventDefault();var t=this.model.get("band_no"),n=this.model.get("post_no"),i=this.model.get("bandGuide");if(this._sendBandCoverClickLog(),this.model.isAdvertisement())p.adClickReport(this.model.get("ad_report_data")),this._moveToAdvertisementLandingPage(t,n);else if(this.model.isInvitation())h.showDInvitationLayerView(this.model.get("invitationCard").invitation_card_id).then((function(e){e.once("DInvitationCardView:close",(function(){e.destroy()})),e.once("DInvitationCardView:refresh",(function(){m.refreshCurrentPage()}))}),(function(){m.refreshCurrentPage()}));else if(this.model.isBand())f.latestContents(this.bandCore).go();else if(this.model.isBandCreate()){if(this.jplClick(g.CLASSIFIER.CREATE_BAND,{place:"band_list_cover"}),y.isContentCreationPunished())return!1;o.GLOBAL_BAND_CREATE.goDForced({})}else this.model.isBandGuide()?r.GROUP_BAND_HOME.goDForced({band_no:i.band_no}):this.model.isBandSearch();return!1}}},initialize:function(e){this._bandListItemIndex=e.bandListItemIndex,i.bindAll(this,"_logOnceOnAdvertisementExpose","_logOnExpose"),this.model.isBand()&&(this.bandCore=b.createBandCore({type:this.model.get("type"),bandNo:this.model.get("band_no"),name:this.model.get("name"),cover:this.model.get("cover"),profileImage:this.model.get("profile_image"),themeColor:this.model.get("theme_color"),isRecruiting:this.model.get("is_recruiting")}))},onAttach:function(){this.model.isAdvertisement()&&(this.$("._advertisement_image").on("load",this._logOnceOnAdvertisementExpose),this._setAdLinkUrl())},_getAdActionValue:function(){return u.get(this.model.get("action"),"pc")},_getBandLinkUrl:function(){var e="#";return this.model.isBand()?e=f.latestContents(this.bandCore).url:this.model.isBandGuide()?e=r.GROUP_BAND_HOME.makeUrl({band_no:this.model.get("bandGuide").band_no}):this.model.isBandCreate()&&(e=o.GLOBAL_BAND_CREATE.makeUrl({})),e},_setAdLinkUrl:function(){var e=this.model.get("band_no"),t=this.model.get("post_no"),n=null,a=v.get(e);e?C.wrapActivePromise(a.loadBandData(),this).then(i.bind((function(){n=t?f.postDetail(a.getBandCore(),t).url:f.latestContents(a.getBandCore()).url,this.getUI("adBandCover").attr("href",n)}),this)):this.getUI("adBandCover").attr("href",this._getAdActionValue())},_sendBandCoverClickLog:function(){if(this.model.isAdvertisement()||this.model.isBand()){var e=this.model.get("band_no"),t=this.model.isAdvertisement()?"ad_band":"my_band",n=this.model.isAdvertisement()?e:null,i=this.bandCore&&"page"===this.bandCore.type?"page":"band";this.jplClick(g.CLASSIFIER.BAND_LIST_COVER,{band_no:e,offset:this._bandListItemIndex,content_type:t,band_type:i},n)}},_logOnceOnAdvertisementExpose:function(){this._logOnExpose()||this.listenTo(c,"window:scroll:down",this._logOnExpose)},_logOnExpose:function(e){return!!((e=e||0)+t(window).height()>=this.$el.position().top+.66*this.$el.height())&&(this.stopListening(c,"window:scroll:down"),p.adExposeReport(this.model.get("ad_report_data")),!0)}})}.call(t,n,t,e))||(e.exports=i)},3126:function(e,t){e.exports='<% if (isBandCreate) { %>\n<div class="uCover -main gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="<%= bandLinkUrl %>" class="bandCreate">\n            <div class="cover">\n                <span class="icon -create"></span>\n            </div>\n            <div class="bandName">\n                <span class="uriText"><%-name%></span>\n            </div>\n        </a>\n    </div>\n</div>\n\n<% } else if (isInvitation) { %>\n<div class="uCover -main gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="#" role="button" class="bandInvite _bandInvitationCover">\n            <div class="cover">\n                <div class="uCoverImage -border -circle -w84">\n                    <span class="coverInner"><img src="<%-ThumbnailUtil.makeSmallCoverUrl(cover)%>" width="84" height="84" alt=""></span>\n                </div>\n            </div>\n\n            <div class="bandName">\n                <strong class="inviteBand"><%-name%></strong>\n                <p class="inviteFrom">From. <%-invitationCard.inviter.name%></p>\n                <span class="button"><%- IM("web.bandlist.btn.view_invitation") %></span>\n            </div>\n        </a>\n    </div>\n</div>\n\n<% } else if (isBand) { %>\n<div class="uCover -main gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="<%= bandLinkUrl %>" class="bandCover">\n            <div class="cover">\n                <div class="uCoverImage -border -w186 <% if (type === \'page\') { %>pageCoverImage<% } %>">\n                    <span class="coverInner">\n                        <img class="coverImg" src="<%-ThumbnailUtil.makeMediumCoverUrl(bandCover)%>" alt="">\n                    </span>\n\n                    <% if(isRecruiting) { %>\n                    <div class="waitingCountWrap">\n                        <span class="attendCount"><%- formattedMemberCount %></span><span class="applyCount"><%- recruitingMemberCapacity %></span>\n                    </div>\n                    <% } %>\n\n                    <% if (isLive) { %>\n                    <span class="gMarkLive -w37 -iconAni"><span class="gSrOnly"><%= IM(\'ui.label.live\') %></span></span>\n                    <% } %>\n                </div>\n            </div>\n            <div class="bandName">\n                <p class="uriText">\n                    <% if (certified) { %><span class="uOfficialBand -sizeS"><%= IM(\'ui.official_band\') %></span><% } %> <%-name%>\n                </p>\n                <span class="member">\n                    <% if (type === \'page\'){ %>\n                    <%= IM("page_band.label.subscriber_count", {subscriberCount: formattedMemberCount })%>\n                    <% } else { %>\n                    <%= IM("web.common.members") %> <em><%- formattedMemberCount %></em>\n                    <% } %>\n                </span>\n            </div>\n            <% if(isNew()) { %>\n            <em class="gNewIcon -w5">New</em>\n            <% } %>\n        </a>\n    </div>\n</div>\n\n<%\n    } else if (isAdvertisement) {\n        var coverClass = (playback_button_display)? \'-player\' : \'\';\n%>\n<div class="uCover -main gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="#" class="bandCover _adBandCover">\n            <div class="cover">\n                <div class="uCoverImage -border -w186 <%= coverClass %>">\n                    <span class="coverInner">\n                        <img src="<%-ThumbnailUtil.makeMediumCoverUrl(advertisement.image_url)%>" height="135" class="coverImg _advertisement_image">\n                    </span>\n                </div>\n            </div>\n\n            <div class="bandName">\n                <% if (advertisement.title_text) { %>\n                <p class="uriText"><%-advertisement.title_text%></p>\n                <% } %>\n\n                <% if (advertisement.action_text) { %>\n                <span class="preview">\n                    <% if (advertisement.isPaidAd) { %><%= IM("ad.mark.label") %><em class="dot"></em><% } %><%-advertisement.action_text%>\n                </span>\n                <% } %>\n            </div>\n        </a>\n    </div>\n</div>\n\n<% } else if ( isBandGuide ) { %>\n<div class="uCover -main gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="<%= bandLinkUrl %>" class="bandCreate">\n            <div class="cover">\n                <span class="icon -guide"></span>\n            </div>\n            <div class="bandName">\n                <span class="uriText"><%-name%></span>\n            </div>\n            <% if ( isUpdate ) { %>\n            <em class="gNewIcon -w5">New</em>\n            <% } %>\n        </a>\n    </div>\n</div>\n<% } %>'},3127:function(e,t){e.exports='<section class="sMyHomePage">\n    <div class="_bannerRegion"></div>\n\n    <div class="myBandList _myBandListWrap" style="display: none">\n        <div class="mainWrap">\n            <header class="head">\n                <h2 class="sectionTitle"><%- IM("web.webmain.webmaingnb.menuname.my_bands2") %></h2>\n\n                <div class="options">\n                    <div class="area">\n                        <button type="button" class="btn btnSort _btnBandSetting"><%= IM("bandlist.modify_list") %></button>\n                        <div class="lyMenu bandSetting">\n                            <ul>\n                                <li><a href="#" class="_btnBandOrder"><%- IM("web.bandlist.moremenuitem.btn.band_order2") %></a></li>\n                                <li><a href="#" class="_btnHiddenBand"><%- IM("web.bandlist.moremenuitem.btn.manage_hide_band2") %></a></li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    <% if (isNotKid) { %>\n                    <button type="button" class="btn btnGuide"><%- IM("web.bandlist.bandguide") %>\n                        <em class="gNewIcon -w5" style="display: none">New</em>\n                    </button>\n                    <a href="<%=desktopAppLink%>" class="btn appDownload" target="_blank"><%- IM("band_service.desktopapp.download.btn_label") %></a>\n                    <% } %>\n                </div>\n            </header>\n            <div class="_localBandBanner" style="display:none"></div>\n            <div class="_bandListRegion"></div>\n        </div>\n    </div>\n\n    <div class="myBandList _findMyInvitationWrap" style="display: none">\n        <div class="mainWrap">\n            <header class="head">\n                <h2 class="sectionDesc gTaC"><%- IM(\'home.find_my_invitation.desc\') %></h2>\n            </header>\n\n            <ul class="bandList gTaC gMat40">\n                <li class="bandListItem">\n                    <div class="uCover -main -findInvitation gThumbnailCardShadow gThumbnailCardHoverShadow">\n                        <div class="bandInner">\n                            <a href="<%= findingInviationUrl %>" class="bandInvite">\n                                <div class="cover">\n                                    <div class="uCoverImage -w84 -circle">\n                                        <span class="coverInner"></span>\n                                    </div>\n                                </div>\n\n                                <div class="bandName">\n                                    <p class="inviteDesc"><%- IM(\'home.find_my_invitation.btn.desc\') %></p>\n                                    <span class="button"><%- IM(\'home.find_my_invitation.btn.label\') %></span>\n                                </div>\n                            </a>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <div class="_bandCreationSet"></div>\n    <div class="_openFeedRegion"></div>\n    <div class="_recommendRegion"></div>\n</section>'},3128:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3129),o=n(3130),r=n(3132),l=n(2088),c=n(486),d=n(488),u=n(499),h=n(498),p=n(83),_=a.View.extend({tagName:"p",className:"uEmpty h162",template:i.template('<span><%= IM("web.hidden_bands.empty") %></span>'),setEmptyBandsHidden:function(){return p.setBandsHidden([""])}}),m=a.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DHiddenBandManagementItemView"},template:i.template(s),ui:{main:"._main",confirmBtn:"._confirmBtn",hiddenBandsRegion:"._hiddenBandsRegion",visibleBandsRegion:"._visibleBandsRegion",btnCancel:"._btnCancel"},regions:{hiddenBandsRegion:{el:"@ui.hiddenBandsRegion",replaceElement:!0},visibleBandsRegion:{el:"@ui.visibleBandsRegion",replaceElement:!0}},events:{"click @ui.confirmBtn":function(){(this.model.hiddenBandCollection.length>0?this.getChildView("hiddenBandsRegion").setBandHiddenList():this.getChildView("hiddenBandsRegion").setEmptyBandsHidden()).then(i.bind((function(){return this.destroy()}),this))},"click @ui.btnCancel":"destroy"},initialize:function(){this._hiddenRegionData={collection:this.model.hiddenBandCollection,regionName:"hiddenBandsRegion",viewClass:r},this._visibleRegionData={collection:this.model.visibleBandCollection,regionName:"visibleBandsRegion",viewClass:o},this.listenTo(this._hiddenRegionData.collection,"all",i.bind(this._showBandsRegion,this,this._hiddenRegionData)),this.listenTo(this._visibleRegionData.collection,"all",i.bind(this._showBandsRegion,this,this._visibleRegionData))},layerOnEscKeyDown:function(){this.destroy()},onRender:function(){this.isAttached()||this._toggleLoading(!0)},onAttach:function(){this.model.fetch()},_showBandsRegion:function(e){var t=e.collection,n=this.getRegion(e.regionName),i=n.currentView,a=e.viewClass;this._toggleLoading(!1),t.length>0?i instanceof a==!1&&n.show(new a({collection:t,model:this.model})):i instanceof _==!1&&n.show(new _)},_toggleLoading:function(e){e?this.ui.main.css("display","none").after(t('<div class="_loading_" style="height:502px"></div>').html(i.template(h)({_loading_size:u.Size.MEDIUM,middleClass:d.ELEMENT.AREA_VERTICAL_MIDDLE}))):this.ui.main.css("display","").next("._loading_").remove()}});return m.build=function(){var e=l.bandsViewOptionModelBuild(),t=new m({model:e});return c.open(t),t},m}.call(t,n,t,e))||(e.exports=i)},3129:function(e,t){e.exports='<div class="lyContent -w380">\n    <header class="header">\n        <h1 class="title"><%= IM(\'web.hidden_bands.title2\') %></h1>\n    </header>\n\n    <div class="main -tSpaceNone _main">\n        <h2 class="sTitle -bLine"><%= IM(\'web.hidden_bands.hidden_band2\') %></h2>\n\n        <div class="_hiddenBandsRegion"></div>\n\n        <h2 class="sTitle -bLine tOpLine"><%= IM(\'web.hidden_bands.expose_band2\') %></h2>\n\n        <div class="_visibleBandsRegion"></div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel _btnCancel"><%-IM(\'ui.label.cancel\')%></button>\n        <button type="button" class="uButton -confirm _confirmBtn"><%= IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3130:function(e,t,n){var i,a;i=[n(2),n(0),n(4),n(3131),n(82)],void 0===(a=function(e,t,n,i,a){var s=n.View.extend({tagName:"li",className:"tLine flexList",attributes:{"data-viewname":"DVisibleBandItemView"},template:t.template(i),templateContext:function(){return{ThumbnailUtil:a,cover:"page"===this.model.get("type")?this.model.get("profile_image"):this.model.get("cover")}},ui:{hideBtn:"._hideBtn"},events:{"click @ui.hideBtn":function(){this.trigger("hide",this.model)}}});return n.CollectionView.extend({tagName:"ul",className:"listLine rScroll -h162",attributes:{"data-viewname":"DVisibleBandListView"},childView:s,childViewEvents:{hide:function(e){this.collection.length<=1?alert(IM("hidden_band.label.at_least_one_band_required2")):(this.collection.remove(e),this.model.addCollectionBandHidden(e))}}})}.apply(t,i))||(e.exports=a)},3131:function(e,t){e.exports='<span class="thumb">\n    <% if (type === \'page\') { %>\n    <span class="uProfile -size36 -border -pageProfile">\n        <span class="profileInner">\n            <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n        </span>\n    </span>\n    <% } else { %>\n        <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n    <% } %>\n</span>\n<span class="text -ellipsis"><%- name %></span>\n<span class="etc">\n    <button type="button" class="uButton -sizeS -active _hideBtn"><%= IM(\'web.hidden_bands.btn_hide\') %></button>\n</span>'},3132:function(e,t,n){var i,a;i=[n(2),n(0),n(4),n(3133),n(82)],void 0===(a=function(e,t,n,i,a){var s=n.View.extend({tagName:"li",className:"tLine flexList",attributes:{"data-viewname":"DHiddenBandItemView"},template:t.template(i),templateContext:function(){return{ThumbnailUtil:a,cover:"page"===this.model.get("type")?this.model.get("profile_image"):this.model.get("cover")}},ui:{showBtn:"._showBtn"},events:{"click @ui.showBtn":function(){this.trigger("setVisible",this.model)}}});return n.CollectionView.extend({tagName:"ul",className:"listLine rScroll -h162",attributes:{"data-viewname":"DHiddenBandListView"},childView:s,childViewEvents:{setVisible:function(e){this.collection.remove(e),this.model.addCollectionBandVisible(e)}},setBandHiddenList:function(){var e=[];return t.each(this.collection.models,(function(t){e.push(t.get("band_no"))})),this.model.setBandsHidden(e)}})}.apply(t,i))||(e.exports=a)},3133:function(e,t){e.exports='<span class="thumb">\n    <% if (type === \'page\') { %>\n    <span class="uProfile -size36 -border -pageProfile">\n        <span class="profileInner">\n            <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n        </span>\n    </span>\n    <% } else { %>\n        <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n    <% } %>\n</span>\n<span class="text -ellipsis"><%- name %></span>\n<span class="etc">\n    <button type="button" class="uButton -sizeS -default _showBtn"><%= IM(\'web.hidden_bands.btn_pop\') %></button>\n</span>'},3134:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3135),o=n(3136),r=n(3138),l=n(2088),c=n(486),d=n(488),u=n(499),h=n(498),p=n(83),_=a.View.extend({tagName:"p",className:"uEmpty h162",template:i.template("<span><%= message %></span>"),serializeData:function(){return{message:this.options.message}},initialize:function(e){},setEmptyBandsPinned:function(){return p.setBandsPinned([""])}}),m=a.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandOrderingManagementItemView"},template:i.template(s),templateContext:function(){return{viewId:this.cid}},ui:{main:"._main",sortTypeGuideBtn:"._sortTypeGuideBtn",sortTypeGuideDesc:"._sortTypeGuideDesc",confirmBtn:"._confirmBtn",pinnedBandsRegion:"._pinnedBandsRegion",unpinnedBandsRegion:"._unpinnedBandsRegion",sortTypeSelect:"._sortTypeSelect",btnCancel:"._btnCancel"},regions:{pinnedBandsRegion:{el:"@ui.pinnedBandsRegion",replaceElement:!0},unpinnedBandsRegion:{el:"@ui.unpinnedBandsRegion",replaceElement:!0}},events:{"click @ui.sortTypeGuideBtn":function(){this.ui.sortTypeGuideDesc.toggle()},"change @ui.sortTypeSelect":function(){},"click @ui.confirmBtn":function(){var e=null;e=this.model.pinnedBandCollection.length>0?this.getChildView("pinnedBandsRegion").setPinnedList():this.getChildView("pinnedBandsRegion").setEmptyBandsPinned(),this.model.setBandsSortOrder(this.ui.sortTypeSelect.val()),e.then(i.bind((function(){return this.destroy()}),this))},"click @ui.btnCancel":"destroy"},initialize:function(){this._pinnedRegionData={collection:this.model.pinnedBandCollection,regionName:"pinnedBandsRegion",viewClass:o},this._unpinnedRegionData={collection:this.model.unpinnedBandCollection,regionName:"unpinnedBandsRegion",viewClass:r},this.listenTo(this._pinnedRegionData.collection,"all",i.bind(this._showBandsRegion,this,this._pinnedRegionData)),this.listenTo(this._unpinnedRegionData.collection,"all",i.bind(this._showBandsRegion,this,this._unpinnedRegionData))},onRender:function(){this.isAttached()||this._toggleLoading(!0),this._setSortTypeSelect()},onAttach:function(){this.model.fetch().then(i.bind((function(){this._setSortTypeSelect()}),this))},_setSortTypeSelect:function(){this.ui.sortTypeSelect.val(this.model.get("unpinnedBandsSortOrder"))},layerOnEscKeyDown:function(){this.destroy()},_showBandsRegion:function(e){var t=e.collection,n=this.getRegion(e.regionName),i=n.currentView,a=e.viewClass;this._toggleLoading(!1),t.length>0?i instanceof a==!1&&n.show(new a({collection:t,model:this.model})):i instanceof _==!1&&n.show(new _({message:a===o?IM("web.bandlist.order.choose_pin_band"):IM("web.bandlist.order.list_empty")}))},_toggleLoading:function(e){e?this.ui.main.css("display","none").after(t('<div class="_loading_" style="height:547px"></div>').html(i.template(h)({_loading_size:u.Size.MEDIUM,middleClass:d.ELEMENT.AREA_VERTICAL_MIDDLE}))):this.ui.main.css("display","").next("._loading_").remove()}});return m.build=function(){var e=l.bandsViewOptionModelBuild(),t=new m({model:e});return c.open(t),t},m}.call(t,n,t,e))||(e.exports=i)},3135:function(e,t){e.exports='<div class="lyContent -w380">\n    <header class="header">\n        <h1 class="title"><%= IM(\'web.bandlist.order.title2\') %></h1>\n    </header>\n\n    <div class="main -tSpaceNone _main">\n        <h2 class="sTitle -bLine"><%= IM(\'list.order.pin_on_top\') %></h2>\n        <div class="_pinnedBandsRegion"></div>\n\n        <h2 class="sTitle -bLine tOpLine"><%= IM(\'web.bandlist.order.unpin_title\') %></h2>\n\n        <div class="_unpinnedBandsRegion"></div>\n\n        <div class="uTableList tOpLine">\n            <div class="cell gPat7">\n                <dl class="uHelpGuide -small">\n                    <dt><button type="button" class="_sortTypeGuideBtn"><span><%= IM(\'web.bandlist.order_type.title\') %></span> <span class="gSrOnly"><%= IM(\'ui.label.help\') %></span></button></dt>\n                    <dd class="_sortTypeGuideDesc" style="width:200px"><%= IM(\'web.bandlist.order_type.desc2\') %></dd>\n                </dl>\n            </div>\n            <div class="cell gTaR gPat10">\n                <div class="uSelect -h32">\n                    <label for="bandSort2_<%- viewId %>" class="gSrOnly"><%= IM(\'web.bandlist.order_type.title\') %></label>\n                    <select id="bandSort2_<%- viewId %>" style="width:127px" class="_sortTypeSelect" title="<%- IM(\'web.bandlist.order_type.title\') %>">\n                        <option value="updated"><%= IM(\'web.bandlist.order_type.update\') %></option>\n                        <option value="name"><%= IM(\'web.bandlist.order_type.name\') %></option>\n                    </select>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel _btnCancel"><%-IM(\'ui.label.cancel\')%></button>\n        <button type="button" class="uButton -confirm _confirmBtn"><%= IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3136:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3137),o=n(82),r=n(197),l=(n(185),a.View.extend({tagName:"li",className:"tLine flexList",attributes:function(){return{"data-viewname":"DPinnedBandView","data-band_no":this.model.get("band_no")}},template:i.template(s),templateContext:function(){return{ThumbnailUtil:o,cover:"page"===this.model.get("type")?this.model.get("profile_image"):this.model.get("cover")}},ui:{unpinBtn:"._unpinBtn"},events:{"click @ui.unpinBtn":function(){this.trigger("unpin",this.model)}}}));return a.CollectionView.extend({tagName:"ul",className:"listLine rScroll -h162",attributes:{"data-viewname":"DPinnedBandListView"},childView:l,childViewEvents:{unpin:function(e){this.collection.remove(e),this.model.addCollectionUnpinned(e)}},onRenderChildren:function(){this._sortable=this._createSortableList()},onBeforeDetach:function(){this._sortable&&this._sortable.destroy()},_createSortableList:function(){return this._sortable&&this._sortable.destroy(),t.browser.msie&&t.browser.versionNumber<=8?(this.$el.sortable({items:"li",cursor:"move"}),null):r.create(this.el,{handle:"._btnDrag",setData:null})},setPinnedList:function(){var e=this.$el.children().map((function(e,n){return t(n).attr("data-band_no")})).get();return this.model.setBandsPinned(e)}})}.call(t,n,t,e))||(e.exports=i)},3137:function(e,t){e.exports='<span class="thumb">\n    <% if (type === \'page\') { %>\n    <span class="uProfile -size36 -border -pageProfile">\n        <span class="profileInner">\n            <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n        </span>\n    </span>\n    <% } else { %>\n        <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n    <% } %>\n</span>\n<span class="text">\n    <span class="ellipsis"><%- name %></span>\n</span>\n<span class="etc">\n    <button type="button" class="uButton -sizeS -default _unpinBtn"><%= IM(\'web.bandlist.order.btn_unpin\') %></button>\n</span>\n<span class="etc">\n    <a href="#" role="button" class="uButton -iconListMove _btnDrag"><span class="gSrOnly"><%= IM(\'web.bandlist.order.btn_change_order\') %></span></a>\n</span>'},3138:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(3139),s=n(82),o=(n(197),i.View.extend({tagName:"li",className:"tLine flexList",attributes:{"data-viewname":"DUnpinnedBandView"},template:t.template(a),templateContext:function(){return{ThumbnailUtil:s,cover:"page"===this.model.get("type")?this.model.get("profile_image"):this.model.get("cover")}},ui:{pinBtn:"._pinBtn"},events:{"click @ui.pinBtn":function(){this.trigger("pin",this.model)}}}));return i.CollectionView.extend({tagName:"ul",className:"listLine rScroll -h162",attributes:{"data-viewname":"DUnpinnedBandListView"},childView:o,childViewEvents:{pin:function(e){this.collection.remove(e),this.model.addCollectionPinned(e)}}})}.call(t,n,t,e))||(e.exports=i)},3139:function(e,t){e.exports='<span class="thumb">\n    <% if (type === \'page\') { %>\n    <span class="uProfile -size36 -border -pageProfile">\n        <span class="profileInner">\n            <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n        </span>\n    </span>\n    <% } else { %>\n        <img src="<%- ThumbnailUtil.makeSmallCoverUrl(cover) %>" alt="<%- name %>">\n    <% } %>\n</span>\n<span class="text">\n    <span class="ellipsis"><%- name %></span>\n</span>\n<span class="etc">\n    <button type="button" class="uButton -sizeS -default _pinBtn"><%= IM(\'web.bandlist.order.btn_pin\') %></button>\n</span>'},3140:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(157),o=n(153),r=n(3141),l=n(82),c=n(487),d=a.View.extend({attributes:{"data-viewname":"DBandCreationSetView"},className:"createBand",template:i.template(r),templateContext:function(){return{bandCreationSet:this._bandCreationSet,convertHttpToHttpsImageUrl:function(e){return l.make(e,l.TYPE.original)},makeUsecaseCreateGroupBandUrl:function(e,t){var n={};return e&&(n.open_type=e),t&&(n.usecase=t),s.GLOBAL_GROUP_BAND_CREATE.makeUrl({},n)}}},behaviors:[{behaviorClass:c,sceneId:c.CLASSIFIER.BAND_LIST}],ui:{createType:"._createType",more:"._more"},events:{"click @ui.createType":function(e){var n=t(e.currentTarget).find(".typeName").text();this.jplClick(c.CLASSIFIER.CREATE_BAND,{place:"usecase_list",case_id:n})},"click @ui.more":function(){var e,t;switch(window.countryCode){case"KR":e="62396709",t="밴드엿보기";break;case"US":e="62412132",t="usecase";break;case"JP":e="62427365",t="みんなの使い方";break;default:e="62397730",t="usecase"}o.GROUP_BAND_HASHTAG.goDForced({band_no:e,query:encodeURIComponent(t.replace(/^\#/,""))})}},initialize:function(e){this._bandCreationSet=e.bandCreationSet}});return d.build=function(e){return new d({bandCreationSet:e})},d}.call(t,n,t,e))||(e.exports=i)},3141:function(e,t){e.exports='<header class="head">\n\t<h2 class="sectionTitle"><%- IM("band.creation_type.title") %></h2>\n\t<a href="#" class="btnMore _more"><%- IM("band.creation_type.hashtag_link") %></a>\n</header>\n<div class="bandCreationWrap">\n\t<ul class="typeList">\n\t\t<%\n\t\t_.each(bandCreationSet, function(item, index) {\n\t\t%>\n\t\t<li class="typeItem">\n\t\t\t<a href="<%=makeUsecaseCreateGroupBandUrl(item.open_type, item.name)%>" class="inner _createType" data-type="<%- item.open_type %>">\n\t\t\t\t<span class="typeIcon"><img src="<%- convertHttpToHttpsImageUrl(item.img_url) %>" width="85" alt="<%- item.name %>"></span>\n\t\t\t\t<strong class="typeName"><%- item.name %></strong>\n\t\t\t</a>\n\t\t</li>\n\t\t<%\n\t\t});\n\t\t%>\n\t</ul>\n</div>'},3142:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3143),s=n(157),o=n(153),r=n(162),l=n(82),c=n(164),d=n(888),u=n(1200),h=n(599),p=n(1006),_=i.View.extend({attributes:{"data-viewname":"DBandListSubOpenFeedView"},tagName:"div",className:"openBandList",template:t.template(a),templateContext:function(){return{openFeedLink:s.GLOBAL_OPEN_FEED.makeUrl(),randomOpenFeed:this.randomOpenFeed,ThumbnailUtil:l,ThumbnailType:c,isEveryNoCounts:t.every(this.randomOpenFeed,{isNoCounts:!0})}},collectionEvents:{"feeds:fetch:end":"_completeFetching"},initialize:function(e){this.randomOpenFeed=[],t.each(t.range(2),(function(e){this.addRegion("emotionCountViewRegion"+e,{el:"._emotionCountViewRegion"+e,replaceElement:!0})}),this)},onRender:function(){t.each(this.randomOpenFeed,(function(e,t){var n=e.emotionCount;n>0&&this.getRegion("emotionCountViewRegion"+t).show(d.buildPostEmotionCountView(e.commonEmotionType,n,null,!1))}),this)},onAttach:function(){this.collection.fetchFeeds()},_completeFetching:function(){this.collection.chain().filter((function(e){return e instanceof p&&e.getType()==h.ITEM_TYPE.POST})).first(2).each((function(e){var t=e.getItemModel(),n=t.getBandCore(),i=t.toJSON();i.postUrl=n.makeBandRouteUrl(o.GROUP_BAND_POST_DETAIL,r.PAGE_BAND_POST_DETAIL,{band_no:n.bandNo,post_no:i.postNo}),i.bandUrl=n.makeBandRouteUrl(o.GROUP_BAND_HOME,r.PAGE_BAND_HOME,{band_no:n.bandNo}),i.isNoCounts=!(i.emotionCount>0||i.commentCount>0||i.sharedCount>0),i.mediaCount=i.videoCount+i.photoCount,this.randomOpenFeed.push(i)}),this),this.randomOpenFeed.length<=0?this.destroy():this.render()}});return _.build=function(){return new _({collection:u.buildOpenFeedCollection(h.PUBLIC_FEED_LOCATION.BAND_LIST)})},_}.call(t,n,t,e))||(e.exports=i)},3143:function(e,t){e.exports='<div class="mainWrap">\n    <header class="head">\n        <h2 class="sectionTitle"><%-IM("open_feed.title")%></h2>\n\n        <a href="<%= openFeedLink %>" class="btnMore"><%- IM(\'ui.label.more.long\') %></a>\n    </header>\n\n    <ul class="cSearchStyleList">\n        <% _.each(randomOpenFeed, function(feedItem, index) { %>\n        <li class="cSearchStyleItem gContentCardShadow">\n            <a href="<%- feedItem.bandUrl %>" class="top" target="_blank">\n                <span class="name">\n                    <% if (feedItem.band.certified) { %>\n                        <span class="uOfficialBand"><%= IM(\'ui.official_band\') %></span>\n                    <% } %>\n                    <%= feedItem.band.name%>\n                </span>\n            </a>\n            <a href="<%- feedItem.postUrl %>" class="body" target="_blank">\n                <div class="attach">\n                    <%\n                        if (feedItem.attachment.mediaAll[0]) {\n                            var firstMedia = feedItem.attachment.mediaAll[0];\n                            var imageUrl;\n                            if (firstMedia.isVideo) {\n                                imageUrl = firstMedia.logoImage;\n                            } else {\n                                imageUrl = firstMedia.photoUrl;\n                            }\n                    %>\n                    <img src="<%- ThumbnailUtil.make(imageUrl,  ThumbnailType.s276) %>" width="93" height="93">\n\n                    \x3c!-- 이미지 갯수가 1 이상인 경우에 대한 템플릿 start --\x3e\n                    <% if ( feedItem.mediaCount > 1) { %>\n                    <span class="imgNum">\n                        <%= feedItem.mediaCount %><% if(feedItem.mediaCount > 10) { %>+<% } %>\n                    </span>\n                    <% } %>\n                    \x3c!-- 이미지 갯수가 1 이상인 경우에 대한 템플릿 end--\x3e\n\n                    <% } %>\n                </div>\n                <div class="pTxt">\n                    <%= feedItem.content %>\n                </div>\n                <div class="addComment">\n                    <div class="_emotionCountViewRegion<%= index %>"></div>\n                    <% if (feedItem.commentCount > 0) { %>\n                    <span class="status"><%= IM("web.postdetail.comment.title") %> <strong><%= feedItem.commentCount %></strong></span>\n                    <% } %>\n                    <% if (feedItem.sharedCount > 0) { %>\n                    <span class="status"><%-IM("share") %> <strong><%= feedItem.sharedCount %></strong></span>\n                    <% } %>\n                    <% if (feedItem.isNoCounts && !isEveryNoCounts) { // 좌우 높이 맞춤 처리 %>\n                    <span class="status">&nbsp;</span>\n                    <% } %>\n                </div>\n            </a>\n        </li>\n        <% });%>\n    </ul>\n</div>'},3144:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(0),a=n(3145),s=n(1009),o=n(487),r=n(495),l=t.View.extend({attributes:{"data-viewname":"DBandMainBannerView"},behaviors:function(){return[{behaviorClass:o,sceneId:r.SCENE.DISCOVER_BAND},{behaviorClass:s,exposureCallback:i.bind(this._sendExposureLog,this)}]},ui:{bannerCard:"._bannerCard"},events:{"click @ui.bannerCard":function(){this.jplClick(o.CLASSIFIER.RCMD_CARD,JSON.parse(this._bannerData.content_lineage))}},className:"topGuideBanner gContentCardShadow gMat40",initialize:function(e){this._bannerData=e.bannerData,this._bannerBody=e.bannerData.link_layout.body_layout},template:i.template(a),templateContext:function(){return{bannerFirstText:this._bannerBody.first_text,bannerSecondText:this._bannerBody.second_text,bannerLinkUrl:this._bannerBody.on_click,bannerImageUrl:this._bannerBody.image_url,bannerBackgroundColor:this._bannerBody.image_background_color}},_sendExposureLog:function(e){this.jplExposure(o.CLASSIFIER.RCMD_CARD,i.extend({exposure_ms:e},JSON.parse(this._bannerData.content_lineage)))}});return l.buildBannerView=function(e){return new l({bannerData:e})},l}.call(t,n,t,e))||(e.exports=i)},3145:function(e,t){e.exports='<a href="<%- bannerLinkUrl %>" class="topGuideBannerLink _bannerCard">\n    <div class="guideTextBox gTaC">\n        <span class="iconImg -iconNewSemester"><img src="<%- bannerImageUrl %>" alt=""></span>\n        <p class="guideText"><%- bannerFirstText %></p>\n    </div>\n    <button type="button" class="uButton -sizeS -confirm gPal15 gPar15"><%- bannerSecondText %></button>\n</a>'},3146:function(e,t,n){var i=n(0),a=n(4),s=n(3147),o=n(1008),r=n(487),l=n(1009),c=n(82),d=n(663),u=n(506),h=n(17),p=a.View.extend({tagName:"div",className:"topGuideBanner gContentCardShadow gMat20 gMab20",attributes:{"data-viewname":"DHomeLocalBandBannerView"},template:i.template(s),events:{click:"_onClick"},behaviors:function(){return[{behaviorClass:r},{behaviorClass:l,exposureCallback:i.bind(this._sendExposureLog,this)}]},initialize:function(e){this._card=e.card,this._item=u.get(this._card,"region_band_link_layout.body_layout.region_band_link_card")},serializeData:function(){return{url:h.changeProtocolAndDomainIfBandUs(this._item.on_click),image:c.makeMediumCoverUrl(this._item.left_image_url),title:d.replaceTag(this._item.guide_text,"span","-emphasis")}},_onClick:function(){this._sendClickLog()},_sendExposureLog:function(e){this._sendRcmdCardExposureLog(e),this._sendRcmdCardItemExposureLog(e)},_sendClickLog:function(){this._sendRcmdCardClickLog(),this._sendRcmdCardItemClickLog()},_sendRcmdCardExposureLog:function(e){var t=JSON.parse(this._card.content_lineage);t.rcmd_card_index=0,t.exposure_ms=e,this.jplExposure(r.CLASSIFIER.RCMD_CARD,t)},_sendRcmdCardItemExposureLog:function(e){var t=JSON.parse(this._item.content_lineage);t.index=0,t.exposure_ms=e,this.jplExposure(r.CLASSIFIER.RCMD_CARD_ITEM,t)},_sendRcmdCardClickLog:function(){var e=JSON.parse(this._card.content_lineage);e.rcmd_card_index=0,this.jplClick(r.CLASSIFIER.RCMD_CARD,e)},_sendRcmdCardItemClickLog:function(){var e=JSON.parse(this._item.content_lineage);e.index=0,this.jplClick(r.CLASSIFIER.RCMD_CARD_ITEM,e)}});p.build=function(){return o.getRcmdBandHomeRegionBandCard().then((function(e){var t=e.card;return i.isEmpty(t)?null:new p({card:t})}))},e.exports=p},3147:function(e,t){e.exports='<a href="<%- url %>" class="topGuideBannerLink -localMeetup">\n  <div class="guideTextBox gTaC">\n    <% if (image) { %>\n    <span class="iconImg -round28"><img src="<%- image %>" alt=""></span>\n    <% } else { %>\n    <span class="iconImg -iconLocation2"></span>\n    <% } %>\n    <p class="guideText -localMeetupMyHome"><%= title %></p>\n  </div>\n</a>'},3148:function(e,t,n){var i=n(0),a=n(4),s=n(3149),o=n(157),r=n(82),l=n(187),c=n(495),d=n(487),u=n(1583),h=n(590),p=a.View.extend({behaviors:[{behaviorClass:c,sceneId:c.SCENE.BAND_CREATE_USECASE},d],attributes:{"data-viewname":"DGroupBandCreationSetView"},className:"bandMakeUsecaseArea gMat50",template:i.template(s),templateContext:function(){return{bandCreationSet:this._bandCreationSet,convertHttpToHttpsImageUrl:function(e){return r.make(e,r.TYPE.original)},makeUsecaseCreateGroupBandUrl:function(e){var t={};return e.creation_type?o.BAND_CREATE_SEARCH_SPECIAL_BAND.makeUrl({creation_type:e.creation_type}):(e.open_type&&(t.open_type=e.open_type),e.name&&(t.usecase=e.name),o.GLOBAL_GROUP_BAND_CREATE.makeUrl({},t))},createGroupBandUrl:o.GLOBAL_GROUP_BAND_CREATE.makeUrl(),createRecruitingBandUrl:o.GLOBAL_LFG_BAND_CREATE.makeUrl({}),showCreateRecruitingBandButton:l.canShowRecruitingBandPushfully()}},ui:{createType:"._createType",createRecruitingBandBtn:"._createRecruitingBandBtn"},events:{"click @ui.createRecruitingBandBtn":function(e){this.jplClick(d.CLASSIFIER.BAND_CREATE_MISSION_BAND),h.isContentCreationPunished()&&e.preventDefault()},"click @ui.createType":function(e){var t=$(e.currentTarget),n={case_id:t.attr("data-usecase")||u.DEFAULT_CASE_ID};t.attr("data-type2")&&(n.creation_type=t.attr("data-type2")),this.jplClick(d.CLASSIFIER.BAND_CREATE_USECASE_CASE_ITEM,n),h.isContentCreationPunished()&&e.preventDefault()}},initialize:function(e){this._bandCreationSet=e.bandCreationSet},onAttach:function(){this.jplSceneEnter(d.CLASSIFIER.BAND_CREATE_USECASE)}});p.buildDGroupBandCreationSetView=function(e){return new p({bandCreationSet:e})},e.exports=p},3149:function(e,t){e.exports='<h2 class="title"><%= IM("band.create_set.title") %></h2>\n<p class="titleDesc gMat3"><%= IM("band.create_set.desc") %></p>\n\n<ul class="usecaseList">\n\t<%\n\t_.each(bandCreationSet.items, function(item, index) {\n\t%>\n\t<li class="usecaseItem">\n\t\t<a href="<%-makeUsecaseCreateGroupBandUrl(item)%>" class="usecaseItemLink _createType" data-type="<%- item.open_type %>" data-usecase="<%- item.name %>" data-type2="<%- item.creation_type %>">\n\t\t\t<span class="iconUscase"><img src="<%- convertHttpToHttpsImageUrl(item.img_url) %>" alt="<%- item.name %>"></span>\n\t\t\t<em class="uscaseName"><%- item.name %></em>\n\t\t\t<% if(item.school_year) { %><em class="currentYear"><%= IM("new_school.band.search.year", {year: item.school_year}) %></em><% } %>\n\t\t</a>\n\t</li>\n\t<%\n\t});\n\t%>\n\t<li class="usecaseItem">\n\t\t<a href="<%-createGroupBandUrl%>" class="usecaseItemLink makeLink _createType">\n\t\t\t<span class="iconUscase -make"></span>\n\t\t\t<em class="uscaseName"><%= IM("band.create.now") %></em>\n\t\t</a>\n\t</li>\n</ul>\n\n<% if (showCreateRecruitingBandButton) { %>\n<a href="<%-createRecruitingBandUrl%>" class="bannerGuideBox gMat15 _createRecruitingBandBtn">\n\t<span class="iconMisson"></span>\n\t<div class="guideText">\n\t\t<em class="guideTitle"><%= IM("band.create.mission.title") %></em>\n\t\t<span class="guideDesc gMat5"><%= IM("band.create.mission.desc") %></span>\n\t</div>\n</a>\n<% } %>\n\n<a href="<%=bandCreationSet.guide_link.pc%>" class="textLink gMat20" target="_blank"><%- IM("band.creation_type.hashtag_link") %></a>\n\n\n\n\n\n'},3150:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3151),o=n(153),r=n(82),l=n(600),c=n(83),d=n(171),u=n(543),h=n(562),p=n(507),_=n(1101),m=n(17),g=n(181),b=n(495),f=n(487),v=n(1583),C=n(1002),y=n(540),I=n(590);n(936);var w=a.View.extend({attributes:{"data-viewname":"DGroupBandCreateView"},tagName:"section",className:"bandMake",template:i.template(s),templateContext:function(){return{ThumbnailUtil:r}},ui:{inputBandName:"._inputBandName",defaultCovers:"._defaultCovers",selectedCover:"._selectedCover",defaultCoversPanelNavPrev:"._defaultCoversPanelNavPrev",defaultCoversPanelNavNext:"._defaultCoversPanelNavNext",defaultCoversPanelCurrentNum:"._defaultCoversPanelCurrentNum",bandOpenTypeRadioBtn:':radio[name="bandOpenType"]',bandThemeColorBtn:':radio[name="bandThemeColor"]',checkJoinMethod:':checkbox[name="checkJoinMethod"]',checkboxShowRecentPost:"#showRecentPost",checkKidsMethod:':checkbox[name="checkKidsMethod"]',coverImageUploader:"._coverImageUploader",kidBandSettingGuide:"._kidBandSettingGuide",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",joinWrap:"._joinWrap",kidsWrap:"._kidsWrap",form:"._form"},events:{"click @ui.coverImageUploader":function(e){I.isContentCreationPunished()&&e.preventDefault()},"click @ui.defaultCovers":function(e){this.ui.defaultCovers.removeClass("on"),this.ui.selectedCover.data("cover",t(e.currentTarget).data("cover")),this.ui.selectedCover.attr("src",t("img",e.currentTarget).attr("src")),t(e.currentTarget).addClass("on")},"click @ui.defaultCoversPanelNavPrev":function(e){this.ui.defaultCoversPanelCurrentNum.text(this.defualtCoversPanel.goPrev())},"click @ui.defaultCoversPanelNavNext":function(e){this.ui.defaultCoversPanelCurrentNum.text(this.defualtCoversPanel.goNext())},"click @ui.bandOpenTypeRadioBtn":function(){this._sendOpenTypeChangeClickLog();var e=this.getUI("bandOpenTypeRadioBtn").filter(":checked").val(),n="#"+u.BAND_OPEN_TYPE.SECRET;e===u.BAND_OPEN_TYPE.SECRET||!this.getUI("checkKidsMethod").is(":checked")||confirm(IM("alert.change.band_for_kids_enabled.type.setting"))?(t.trim(this.ui.inputBandName.val()).length>0&&this.ui.btnConfirm.hasClass("-disabled")&&(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm")),this.getUI("joinWrap").hide(),this.getUI("kidsWrap").hide(),this.getUI("checkJoinMethod").prop("checked",!1),this.getUI("checkboxShowRecentPost").prop("checked",!1),e===u.BAND_OPEN_TYPE.CLOSED&&(this.getUI("checkJoinMethod").prop("checked",!0),this.getUI("checkboxShowRecentPost").prop("checked",!1),this._changeKidsMethod(!1),this.getUI("joinWrap").show()),e===u.BAND_OPEN_TYPE.SECRET&&this._isBandForKidsEnabled&&(this._changeKidsMethod(!0),this.getUI("kidsWrap").show()),e===u.BAND_OPEN_TYPE.PUBLIC&&this._changeKidsMethod(!1)):this.getUI("bandOpenTypeRadioBtn").filter(n).prop("checked",!0)},"change @ui.checkKidsMethod":function(){this.getUI("checkKidsMethod").is(":checked")?this.getUI("kidBandSettingGuide").text(IM("band_setting.kid_band.on")):this.getUI("kidBandSettingGuide").text(IM("band_setting.kid_band.off"))},"input @ui.inputBandName":function(){if(this._updateForm&&this.bandInfo.memberCount>=u.COMMON.BASE_MEMBER_COUNT_FOR_CHANGE)return this.ui.inputBandName.val(this.bandInfo.name),void h.openLayer({bodyTitle:IM("bandsetting.txt.restrict_change.band_name"),withoutHiding:!0});var e=t.trim(this.ui.inputBandName.val()).length>0;this._updateForm||(e=e&&this.ui.bandOpenTypeRadioBtn.filter(":checked").length>0),e?this.ui.btnConfirm.hasClass("-disabled")&&(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm")):this.ui.btnConfirm.hasClass("-confirm")&&(this.ui.btnConfirm.removeClass("-confirm"),this.ui.btnConfirm.addClass("-disabled"))},"click @ui.btnConfirm":function(e){return e.preventDefault(),I.isContentCreationPunished()||(this._updateForm?this._updateBand():this._createBand()),!1},"click @ui.btnCancel":function(){window.history.back()},"submit @ui.form":function(){return!1}},behaviors:function(){var e=null;this.options.bandNo||(e=b.SCENE.BAND_CREATE);var t=[];return e&&t.push({behaviorClass:b,sceneId:e},{behaviorClass:f}),t},initialize:function(e){this._waitingRequest=!1,this._bandNo=e.bandNo,this._updateForm=!!this._bandNo,this._connectingPageBandNo=e.connectingPageBandNo,this._newSchoolData=null,this._initDefualtCoversPanel(),this._initBandInfomation(),this._parseQueryStringInfo()},serializeData:function(){return this._updateForm||(this.bandInfo.coverUrl=i.sample(this.defualtCoversPanel.coverSet[0])),{pageTitle:this._updateForm?IM("bandsetting.member_permission.txt.level_edit_name_cover"):IM("web.noui.bandcreate.title.band_create"),coverSet:this.defualtCoversPanel.coverSet,bandInfo:this.bandInfo,updateForm:this._updateForm,themeSet:d.getValues(),openType:this._openType,isBandForKidsEnabled:this._isBandForKidsEnabled}},_changeKidsMethod:function(e){this.getUI("checkKidsMethod").prop("checked",e).change()},_initDefualtCoversPanel:function(){this.defualtCoversPanel={coverSet:[],panelsCnt:0,currentPanel:0,goPrev:function(){return t("._coverSet_"+this.currentPanel).hide(),0==this.currentPanel?this.currentPanel=this.panelsCnt-1:this.currentPanel--,t("._coverSet_"+this.currentPanel).show(),this.currentPanel+1},goNext:function(){return t("._coverSet_"+this.currentPanel).hide(),this.currentPanel>=this.panelsCnt-1?this.currentPanel=0:this.currentPanel++,t("._coverSet_"+this.currentPanel).show(),this.currentPanel+1}}},_initBandInfomation:function(){this.bandInfo={name:null,coverUrl:null,themeVal:null,themeId:null,memberCount:0,isWarringForNameChangeable:function(){return this.memberCount>=u.COMMON.BASE_MEMBER_COUNT_FOR_DESCRIPTION},getMessageForNameChangeable:function(){return this.isWarringForNameChangeable()?IM("bandcreate.txt.notice.restrict_change"):IM("bandcreate.txt.notice.restrict_change.band_name")}}},_parseQueryStringInfo:function(){var e=m.queryStringToObject(location.search);this._openType=e.open_type,this._newSchoolData=e.special_band_data&&JSON.parse(e.special_band_data),this._isBandForKidsEnabled=i.has(this._newSchoolData,"band_for_kids_enabled")?this._newSchoolData.band_for_kids_enabled:null,this._usecase=e.usecase},onRender:function(){this._initImageUploader(),this._openType&&this.ui.bandOpenTypeRadioBtn.val([this._openType]),this._newSchoolData&&(this.getUI("inputBandName").val(this._newSchoolData.school_name),this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm")),this._updateForm?(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm")):this.getUI("inputBandName").focus()},onAttach:function(){var e=[];e.push(this._setupDefualtCoversPanel()),this._updateForm&&e.push(this._setupBandInfomation()),t.when.apply(t,e).then(i.bind((function(){this.render()}),this)),this._sendSceneEnterLog()},_setupBandInfomation:function(){return c.getBandInformation({band_no:this._bandNo}).then(i.bind((function(e){var t=e.band;this.bandInfo.name=t.name,this.bandInfo.themeVal=d.findVal(t.theme_color),this.bandInfo.themeId=t.theme_color,this.bandInfo.coverUrl=t.cover,this.bandInfo.memberCount=t.member_count}),this))},_setupDefualtCoversPanel:function(){return c.getBandCoverUrls().then(i.bind((function(e){var t=i.shuffle(e.cover_urls);this.defualtCoversPanel.coverSet=i.map(t,(function(e,n){if(n%7==0){var i=t.slice(n,n+7),a=7-i.length;if(a>0)for(;a>0;)i.push(""),a--;return i}})).filter((function(e){return e})),this.defualtCoversPanel.panelsCnt=this.defualtCoversPanel.coverSet.length}),this))},onBeforeDetach:function(){this._bandCreateUploader&&this._bandCreateUploader.destroy()},_initImageUploader:function(){this._bandCreateUploader&&this._bandCreateUploader.destroy(),this._bandCreateUploader=l.createBandCoverImageUploader(this.ui.coverImageUploader,{skinColor:this.bandInfo?this.bandInfo.themeVal:null}),this.listenTo(this._bandCreateUploader,p.SELECT_FILES,(function(e){this._bandCreateUploader.loadFileReaderResize(e.files[0]).then(i.bind((function(e){var t={title:IM("web.upload.title.band_cover_image"),cropOptions:{aspectRatio:640/480}},n=C.build(e,t);this.listenTo(n,"crop:complete",(function(e){n.destroy(),y.uploadDataUriImage(e).then(i.bind((function(e){this._setImage(e)}),this))})),this.listenTo(n,"crop:cancel",(function(){n.destroy()}),this)}),this))}))},_setImage:function(e){if(i.isEmpty(e))return!1;if(e.url){var t=e.url;this.ui.defaultCovers.removeClass("on"),this.ui.selectedCover.data("cover",t),this.ui.selectedCover.attr("src",r.makeCoverUrl(t))}},_createBand:function(){this._sendCreateConfirmClickLog();var e=t.trim(this.ui.inputBandName.val());if(!this._confirmBandNameValidation(e))return!1;var n=this.getUI("bandOpenTypeRadioBtn").filter(":checked").val();if(!n)return alert(IM("band_create_form.open_type.valid.msg")),!1;var a={name:e,themeType:i.sample(d.getKeys()),coverUrl:this.ui.selectedCover.data("cover"),openType:n};if(this._isBandForKidsEnabled&&n===u.BAND_OPEN_TYPE.SECRET&&(a.bandForKidsEnabled=this.getUI("checkKidsMethod").is(":checked")),n===u.BAND_OPEN_TYPE.CLOSED&&(a.joinMethod=this.getUI("checkJoinMethod").is(":checked")?"application":"normal",a.showRecentPost=this.getUI("checkboxShowRecentPost").is(":checked")),!0===this._waitingRequest)return!1;this._waitingRequest=!0,c.createBand(a).then(i.bind((function(e){var t=e.band_no;this._sendCreateCompleteOccurLog(t),this._newSchoolData&&c.setSpecialBandData({bandNo:t,specialBandData:JSON.stringify(this._newSchoolData)}).then((function(){o.GROUP_BAND_HOME.goDForced({band_no:t})})),this._connectingPageBandNo&&this._connectToPageBand(this._connectingPageBandNo,t).always((function(){o.GROUP_BAND_HOME.goDForced({band_no:t})})),this._newSchoolData||this._connectingPageBandNo||o.GROUP_BAND_HOME.goDForced({band_no:t})}),this)).fail(i.bind((function(){this._waitingRequest=!1}),this))},_connectToPageBand:function(e,t){return g.addPageLink(e,t)},_confirmBandNameValidation:function(e){return""==e?(alert(IM("web.bandcreate.input.message")),this.ui.inputBandName.focus(),!1):!this._hasEmojiValidation(e)||(alert(IM("bandcreate.validation.emoji.msg")),this.ui.inputBandName.focus(),!1)},_updateBand:function(){var e=t.trim(this.ui.inputBandName.val());if(!this._confirmBandNameValidation(e))return!1;var n={bandNo:this._bandNo,name:e,themeType:d.findKey(this.ui.bandThemeColorBtn.filter(":checked").val()),coverUrl:this.ui.selectedCover.data("cover")};if(!0===this._waitingRequest)return!1;this._waitingRequest=!0,c.setBandInfo(n).then(i.bind((function(){o.GROUP_BAND_SETTING.goDForced({band_no:this._bandNo})}),this)).fail(i.bind((function(){this._waitingRequest=!1}),this))},_hasEmojiValidation:function(e){return i.some(e,(function(t,n){return!_.isCharacterInBMP(e,n)}))},_sendSceneEnterLog:function(){this._updateForm||this._sendCreateSceneEnterLog()},_sendCreateSceneEnterLog:function(){this.jplSceneEnter(f.CLASSIFIER.BAND_CREATE,{from_quick_scheme:!1})},_sendOpenTypeChangeClickLog:function(){this.jplClick(f.CLASSIFIER.BAND_OPEN_TYPE_CHANGE)},_sendCreateConfirmClickLog:function(){this.jplClick(f.CLASSIFIER.BAND_CREATE_CONFIRM)},_sendCreateCompleteOccurLog:function(e){this.jplOccur(f.CLASSIFIER.BAND_CREATE_COMPLETE,{case_id:this._usecase||v.DEFAULT_CASE_ID,band_no:e,from_quick_scheme:!1})}});return w.build=function(e){return new w(e)},w}.call(t,n,t,e))||(e.exports=i)},3151:function(e,t){e.exports='<form action="" class="_form">\n    <fieldset>\n        <legend class="gSrOnly"><%= pageTitle %></legend>\n        <div class="makeCover">\n            <h2 class="title"><%= IM(\'bandcreate.txt.input_band_name\') %></h2>\n            <div class="uInput -simpleLine inputBand">\n                <label class="gSrOnly" for="ex_name"><%= IM(\'bandcreate.txt.alert.no_band_name\') %></label>\n                <input value="<%- bandInfo.name %>" type="text" class="_inputBandName" id="ex_name" maxlength="50" placeholder="<%= IM(\'bandcreate.txt.alert.no_band_name\') %>">\n            </div>\n            <% if(updateForm) { %>\n            <div class="desc">\n                <p><%= bandInfo.getMessageForNameChangeable() %> <% if(bandInfo.isWarringForNameChangeable()) { %><a href="/cs/help/detail/643"><%= IM("bandsetting.txt.restrict_change.more_info") %></a><% } %></p>\n            </div>\n            <% } %>\n\n            <div class="coverSelect">\n                <div class="mainCover">\n                    <span class="cover">\n        <% if(bandInfo.coverUrl) { %>\n                        <img data-cover="<%- bandInfo.coverUrl %>" src="<%- ThumbnailUtil.makeCoverUrl(bandInfo.coverUrl) %>" class="_selectedCover coverImg" width="300" height="225" alt="">\n        <% } %>\n                    </span>\n                </div>\n                <div class="coverList">\n                    <div class="head">\n                        <h3><%= IM(\'bandcreate.cover.settiong.label\') %></h3>\n                        <div class="navi">\n                            <span class="paging"><strong class="_defaultCoversPanelCurrentNum">1</strong>/<%= coverSet.length %></span>\n                            <span class="btnArea">\n                                <button class="prev _defaultCoversPanelNavPrev"></button>\n                                <button class="next _defaultCoversPanelNavNext"></button>\n                            </span>\n                        </div>\n                    </div>\n\n                    <ul class="list">\n                        <li>\n                            <span class="changeCover _coverImageUploader">\n                                <span><%= IM(\'photo.add_photo\') %></span>\n                                <input type="file" class="imageUpload">\n                            </span>\n                        </li>\n        <% _.each(coverSet, function(covers, idx) {\n               var display = (idx == 0)? "":"display:none";\n        %>\n            <% _.each(covers, function(cover) {\n                   var selected = (bandInfo.coverUrl === cover)? \'on\' : \'\';\n            %>\n                        <li class="_coverSet_<%= idx %>" style="<%= display %>">\n                            <% if(cover) { %>\n                            <a href="#" data-cover="<%- cover %>" class="_defaultCovers cover <%= selected %>">\n                                <img class="coverImg" src="<%- ThumbnailUtil.makeMediumCoverUrl(cover) %>" width="120" height="90" alt="">\n                                <span class="mask"></span>\n                            </a>\n                            <% } else { %>\n                            <span class="cover"></span>\n                            <% } %>\n                        </li>\n            <% }); %>\n        <% }); %>\n                    </ul>\n                </div>\n            </div>\n            <div class="makeNoticeArea">\n                <p class="makeNoticeText"><%- IM(\'bandcreate.notice.message\') %></p>\n            </div>\n        </div>\n\n        <% if(updateForm) { %>\n        <div class="makeColor">\n            <h2 class="title"><%= IM(\'band.theme_color.label\') %></h2>\n            <ul class="colorList">\n                <% _.each(themeSet, function(theme) {\n                       var checked = (bandInfo.themeVal === theme)? \'checked\' : \'\';\n                %>\n                <li class="item <%= theme %>">\n                    <label for="id_<%= theme %>" class="uCheck">\n                        <input name="bandThemeColor" <%= checked %> value="<%= theme %>" type="radio" id="id_<%= theme %>" class="checkInput">\n                        <span class="fakeCheck sf_bg sf_afterBg sf_border"></span>\n                    </label>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n        <% } %>\n\n        <% if(!updateForm) { %>\n        <div class="makeType">\n            <h2 class="title"><%= IM(\'band.opentype.setting.label\') %></h2>\n            <div class="bandType">\n                <div class="bandTypeListWrap gBoxShadow">\n                    <ul class="typeList ">\n                        <li class="typeListItem">\n                            <label for="secret" class="uCheck -checkbox">\n                                <input type="radio" value="secret" name="bandOpenType" id="secret" class="checkInput">\n                                <span class="checkLabel">\n                                <span class="shape"></span>\n                                <span class="text">\n                                    <strong><%= IM(\'bandsetting.band_type_join_setting.txt.secret_band\') %></strong>\n                                    <span class="msg"><%= IM("bandsetting.band_type_join_setting.txt.secret_band.description") %></span>\n                                </span>\n                            </span>\n\n                            </label>\n                        </li>\n                        <li class="typeListItem">\n                            <label for="closed" class="uCheck -checkbox">\n                                <input type="radio" value="closed" name="bandOpenType" id="closed" class="checkInput">\n                                <span class="checkLabel">\n                                <span class="shape"></span>\n                                <span class="text">\n                                    <strong><%= IM("bandsetting.band_type_join_setting.txt.closed_band") %></strong>\n                                    <span class="msg"><%= IM("bandsetting.band_type_join_setting.txt.closed_band.description") %></span>\n                                </span>\n                            </span>\n                        </label>\n                    </li>\n                    <li class="typeListItem">\n                        <label for="public" class="uCheck -checkbox">\n                            <input type="radio" value="public" name="bandOpenType" id="public" class="checkInput">\n                            <span class="checkLabel">\n                                <span class="shape"></span>\n                                <span class="text">\n                                    <strong><%= IM("bandsetting.band_type_join_setting.txt.public_band") %></strong>\n                                    <span class="msg"><%= IM("bandsetting.band_type_join_setting.txt.public_band.description") %></span>\n                                </span>\n                            </span>\n                            </label>\n                        </li>\n                    </ul>\n\n                    <div class="allowedWrap _joinWrap -flexible" <% if(openType !== \'closed\') { %>style="display:none;"<% } %>>\n                        \x3c!-- [D] 가입신청 받기 옵션 --\x3e\n                        <label for="checkJoinMethod" class="allowCheck uCheck -switch">\n                            <div class="text">\n                                <span class="textTitle"><%= IM("bandsetting.band_type_join_setting.title.join_approval") %></span>\n                                <span class="textDesc"><%= IM("bandsetting.band_type_join_setting.txt.join_need_approval.description") %></span>\n                            </div>\n                            <input type="checkbox" name="checkJoinMethod" id="checkJoinMethod" checked class="checkInput">\n                            <span class="checkLabel">\n                                <span class="shape "></span>\n                            </span>\n                        </label>\n                        \x3c!--// 가입신청 받기 옵션 --\x3e\n                        \x3c!-- [D] 가입 전 게시글 미리보기 제공 --\x3e\n                        <label for="showRecentPost" class="allowCheck uCheck -switch">\n                            <div class="text">\n                                <span class="textTitle"><%= IM(\'bandsetting.closed_band.show_recent_post.title\') %></span>\n                                <span class="textDesc"><%= IM(\'bandsetting.closed_band.show_recent_post.desc1\') + \'<br>\' + IM(\'bandsetting.closed_band.show_recent_post.desc2\') %></span>\n                            </div>\n                            <input type="checkbox" name="showRecentPost" id="showRecentPost" class="checkInput">\n                            <span class="checkLabel">\n                                <span class="shape"></span>\n                            </span>\n                        </label>\n                        \x3c!--// 가입 전 게시글 미리보기 제공 --\x3e\n                    </div>\n\n\n                    \x3c!-- [D] 어린이용 밴드 설정 옵션 --\x3e\n                    <% if(isBandForKidsEnabled) { %>\n                    <div class="allowedWrap _kidsWrap" <%= openType ===\'secret\' ? \'\' : \'style="display:none"\' %>>\n                        <label for="checkKidsMethod" class="allowCheck uCheck -switch ">\n                            <div class="text">\n                                <span class="textTitle"><%= IM("band_setting.kid_band.title") %></span>\n                                <span class="textDesc _kidBandSettingGuide"><%= IM("band_setting.kid_band.on") %></span>\n                            </div>\n                            <input type="checkbox" value="checkKidsMethod" name="checkKidsMethod" id="checkKidsMethod" class="checkInput" <%= openType ===\'secret\' ? \'checked\' : \'\' %>>\n                            <span class="checkLabel">\n                                <span class="shape "></span>\n                            </span>\n                         </label>\n                    </div>\n                    <% } %>\n                    \x3c!--// 어린이용 밴드 설정 옵션 --\x3e\n                </div>\n\n            </div>\n        </div>\n        <% } %>\n        <div class="btnFooter">\n            <button type="button" class="_btnCancel uButton -sizeXL -cancel"><%= IM("ui.label.cancel") %></button>\n            <button type="submit" class="_btnConfirm uButton -sizeXL -disabled"><%= IM("ui.label.complete") %></button>\n        </div>\n    </fieldset>\n</form>'},3152:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3153),o=n(3155),r=n(3156),l=n(3157),c=n(1755),d=n(157),u=n(26),h=n(555),p=n(153),_="parent",m="student",g="kid",b="cho",f="jung",v=a.View.extend({attributes:{"data-viewname":"DSearchSpecialBandView"},tagName:"section",className:"schoolLookupSection gBoxShadow gMat24",getTemplate:function(){return this.options.creation_type===_?i.template(o):this.options.creation_type===m?i.template(r):this.options.creation_type===g?i.template(l):void 0},ui:{btnConfirm:"._btnConfirm",inputSchoolName:"._inputSchoolName",schoolGrade:"select[name=schoolGrade]",schoolClass:"select[name=schoolClass]",classSelectArea:"._classSelectArea",classInputArea:"._classInputArea",schoolClassInput:"._schoolClassInput",bandType:':radio[name="bandType"]',schoolListRegion:"._schoolListRegion",buttonSearch:"._buttonSearch"},templateContext:{specialBandGuideDetailUrl:p.GROUP_BAND_POST_DETAIL.makeUrl({band_no:62396709,post_no:114})},regions:{schoolListRegion:{el:"@ui.schoolListRegion",replaceElement:!0}},childViewEvents:{"select:schoolName":function(e){this.ui.inputSchoolName.val(e.schoolName),this._schoolId=e.school_id,this._validation()}},events:{"click @ui.bandType":function(){this.ui.inputSchoolName.val(""),this.ui.schoolClassInput.val(""),this.ui.schoolGrade.prop("selectedIndex",0),this.ui.schoolClass.prop("selectedIndex",0),this.ui.btnConfirm.attr("disabled",!0),this._selectGradeOptionsRefresh(),this._selectClassOptionsRefresh()},"change @ui.schoolGrade":function(){this._selectClassOptionsRefresh(),this._validation()},"change @ui.schoolClass":function(){this._validation()},"input @ui.schoolClassInput":function(){this._validation()},"click @ui.buttonSearch":function(e){return e.preventDefault(),this.getRegion("schoolListRegion").hasView()&&this._prevSearchSchoolName===this.ui.inputSchoolName.val()?this.getRegion("schoolListRegion").empty():this._searchSchoolBandList(),!1},"click @ui.btnConfirm":function(e){return e.preventDefault(),this._createBand(),!1},"keydown @ui.inputSchoolName":function(e){e.keyCode==h.ENTER&&(e.preventDefault(),this._searchSchoolBandList())},"keyup @ui.inputSchoolName":function(){""===this.ui.inputSchoolName.val()&&(this._schoolId=null,this._validation())}},initialize:function(){this.listenTo(u.getDGlobalChannel(),u.EVENT.HTML_CLICK,i.bind((function(){this.getRegion("schoolListRegion").empty()}),this))},serializeData:function(){return{year:this.options.schoolYear}},onDomRefresh:function(){this._selectGradeOptionsRefresh()},_searchSchoolBandList:function(){t.trim(this.ui.inputSchoolName.val()).length<2?alert(IM("special_band_create.schoolName.alert")):(this._prevSearchSchoolName=this.ui.inputSchoolName.val(),this.options.creation_type===g?c.getSearchKids({type:this.ui.bandType.filter(":checked").val(),query:this.ui.inputSchoolName.val()}).then(i.bind((function(e){this._showSchoolRegion(e,!0)}),this)):c.getSearchSchool({kind:this.ui.bandType.filter(":checked").val(),query:this.ui.inputSchoolName.val()}).then(i.bind((function(e){this._showSchoolRegion(e)}),this)))},_showSchoolRegion:function(e,t){this.getRegion("schoolListRegion").show(s.build(e,t))},_validation:function(){var e=this.ui.inputSchoolName.val(),n=this.options.creation_type===g,i=this.ui.schoolGrade.val(),a=this.ui.schoolClass.val(),s=this.ui.schoolClassInput.val().replace(/\s/g,"");return n&&s&&e&&this._schoolId||"0"===i&&e&&t.isNumeric(i)&&s&&this._schoolId||e&&t.isNumeric(i)&&t.isNumeric(a)&&this._schoolId?(this.ui.btnConfirm.attr("disabled",!1),!1):void this.ui.btnConfirm.attr("disabled",!0)},_createBand:function(){this.options.bandCreate?d.BAND_CREATE_SEARCH_SPECIAL_BAND.goDForced({creation_type:this.options.creation_type},this._getCreateBandParams()):d.DISCOVER_SEARCH_SPECIAL_BAND.goDForced({creation_type:this.options.creation_type},this._getCreateBandParams())},_getCreateBandParams:function(){return this.options.creation_type===g?{type:this.ui.bandType.filter(":checked").val(),school_id:this._schoolId,clazz:this.ui.schoolClassInput.val()}:"0"===this.ui.schoolGrade.val()?this._getBandForKidsEnabled()?{school_id:this._schoolId,grade:this.ui.schoolGrade.val(),clazz:this.ui.schoolClassInput.val(),band_for_kids_enabled:!0}:{school_id:this._schoolId,grade:this.ui.schoolGrade.val(),clazz:this.ui.schoolClassInput.val()}:this._getBandForKidsEnabled()?{school_id:this._schoolId,grade:this.ui.schoolGrade.val(),clazz:this.ui.schoolClass.val(),band_for_kids_enabled:!0}:{school_id:this._schoolId,grade:this.ui.schoolGrade.val(),clazz:this.ui.schoolClass.val()}},_getBandForKidsEnabled:function(){var e=this.ui.bandType.filter(":checked").val(),t=this.options.creation_type===m,n=e===b,i=e===f&&"1"===this.ui.schoolGrade.val();return!!t&&!(!n&&!i)},_selectGradeOptionsRefresh:function(){var e,t=this.ui.schoolGrade;t.children().remove(),t.append(new Option(IM("special_band_create.schoolYear.label"))),e=this.ui.bandType.filter(":checked").val()===b?7:4;for(var n=1;n<e;n++)t.append(new Option(IM("special_band_create.schoolGrade.options",{schoolGrade:n}),n));t.append(new Option(IM("specialBand.create.option.schoolGrade.etc"),"0"))},_selectClassOptionsRefresh:function(){"0"===this.ui.schoolGrade.val()?(this.ui.classSelectArea.hide(),this.ui.classInputArea.show(),this.ui.schoolClass.prop("selectedIndex",0)):(this.ui.schoolClassInput.val(""),this.ui.classSelectArea.show(),this.ui.classInputArea.hide())}});return v.buildAsync=function(e){return c.getSpecialBandExposureInfo([e.type]).then((function(n){var i=n[0].data;return i.expose?new v({schoolYear:i.school_year,creation_type:e.type,bandCreate:e.bandCreate,queryString:e.queryString}):(d.GLOBAL_HOME.goDForced(),t.Deferred().reject())}))},v}.call(t,n,t,e))||(e.exports=i)},3153:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3154),o=a.View.extend({attributes:{"data-viewname":"DGroupBandCreateView"},tagName:"section",className:"",template:i.template(s),ui:{select:"._select"},events:{"click @ui.select":function(e){e.preventDefault();var n=t(e.currentTarget).find("._schoolName");this.trigger("select:schoolName",{schoolName:n.text(),school_id:n.attr("data-id")}),this.destroy()}},serializeData:function(){return{schoolInfoList:this.options.schoolInfoList,kidType:this.options.kidType}}});return o.build=function(e,t){return new o({schoolInfoList:e,kidType:t||!1})},o}.call(t,n,t,e))||(e.exports=i)},3154:function(e,t){e.exports='<div class="schoolResult _schoolSearchResult">\n\t<h1 class="gSrOnly"><%-IM("discover.search.label.title")%></h1>\n\t<% if(schoolInfoList.length > 0){ %>\n\t<div class="resultTableBox">\n\t\t<ul class="resultDataList">\n\t\t\t<% _.each(schoolInfoList, function(schoolInfo) { %>\n\t\t\t<li class="resultDataItem">\n\t\t\t\t<a href="#" class="resultDataLink _select">\n\t\t\t\t\t<em class="dataName _schoolName" data-id="<%- kidType ? schoolInfo.special_kid_id : schoolInfo.id%>"><%= kidType ? schoolInfo.name : schoolInfo.school_name%></em>\n\t\t\t\t\t<span class="dataText"><%=schoolInfo.address%></span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<%}); %>\n\t\t</ul>\n\t</div>\n\t<% } else { %>\n\t<div class="uEmpty">\n\t\t<strong class="uEmptyTitle gMat0 gFs16 gColorBk1"><%= IM("search_special_band.empty.msg") %></strong>\n\t\t<p class="uEmptyDesc gFs14 gColorBk4 gMat5"><%= IM("search_special_band.school.not_find.msg") %></p>\n\t\t<a href="https://band.us/cs/notice/4011" class="uButton -sizeL -confirm gMat21" target="_blank"><%= IM("search_special_band.help.label") %></a>\n\t</div>\n\t<% } %>\n</div>'},3155:function(e,t){e.exports='<div class="gradeSpotArea gPat27">\n\t<h2 class="gradeSpotTitle gPat27"><%= IM("special_band_create.parent.title") %></h2>\n\t<p class="gradeSpotDesc gMat8"><%= IM("special_band_create.parent.desc") %></p>\n\t<div class="gradeSpotImage gMat20">\n\t\t<img src="<%-resBaseUrl%>/images/template/img_parent.png" width="343" height="164" alt="<%= IM(\'special_band_create.parent.title\') %>">\n\t</div>\n</div>\n<span class="gSrOnly"><%= IM("web.bandlist.bandcreate") %></span>\n\n<div class="gradeTypeArea gMat22">\n\t<label for="cho" class="uCheck -radio">\n\t\t<input type="radio" id="cho" name="bandType" value="cho" class="checkInput" checked>\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.elementary_school.label") %></span>\n\t\t</span>\n\t</label>\n\n\t<label for="jung" class="uCheck -radio">\n\t\t<input type="radio" id="jung" name="bandType" value="jung" class="checkInput">\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.middle_school.label") %></span>\n\t\t</span>\n\t</label>\n\n\t<label for="go" class="uCheck -radio">\n\t\t<input type="radio" id="go" name="bandType" value="go" class="checkInput">\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.high_school.label") %></span>\n\t\t</span>\n\t</label>\n</div>\n\n<div class="schoolLookupArea gMat20 gPab50">\n\t<div class="schoolSelection">\n\t\t<div class="currentYear"><%- IM("search_special_band.year.label" , {year : year }) %></div>\n\t\t<div class="schoolSearchBox">\n\t\t\t<div class="uInputSearch">\n\t\t\t\t<label class="gSrOnly" for="input_search"><%= IM("special_band_create.school_name.input") %></label>\n\t\t\t\t<input type="text" id="input_search" class="_inputSchoolName" placeholder="<%= IM(\'special_band_create.school_name.input\') %>" value="">\n\t\t\t\t<button type="button" class="search _buttonSearch"><span class="gSrOnly"><%= IM("special_band_create.school_name.search") %></span></button>\n\t\t\t\t<span class="border"></span>\n\t\t\t</div>\n\n\t\t\t<div class="_schoolListRegion"></div>\n\t\t</div>\n\n\t\t<div class="uSelect">\n\t\t\t<select name="schoolGrade" style="width:100px">\n\t\t\t</select>\n\t\t</div>\n\n\t\t<div class="uSelect _classSelectArea">\n\t\t\t<select name="schoolClass" style="width:100px">\n\t\t\t\t<option><%= IM("special_band_create.schoolClass.label") %></option>\n\t\t\t\t<% for (var i = 1; i < 21; i++ ){ %>\n\t\t\t\t<option value="<%= i %>"><%= IM("special_band_create.schoolClass.option" , {schoolClass : i}) %></option>\n\t\t\t\t<% } %>\n\t\t\t</select>\n\t\t</div>\n\n\t\t<div class="classInputBox _classInputArea" style="display:none">\n\t\t\t<div class="uInput -noBorder" style="width: 179px">\n\t\t\t\t<label class="gSrOnly" for="schoolClass"><%= IM("special_band_create.schoolClass.input.label") %></label>\n\t\t\t\t<input type="text" id="schoolClass" class="_schoolClassInput" maxlength="10" placeholder="<%= IM(\'special_band_create.schoolClass.input.label\') %>">\n\t\t\t\t<span class="border"></span>\n\t\t\t</div>\n\t\t\t<span class="classText"><%= IM("special_band_create.schoolClass.label") %></span>\n\t\t</div>\n\t</div>\n\n    <div class="semesterGuideBox">\n        <ul class="semesterGuideList">\n            <li class="semesterGuideItem"><%= IM("special_band_create.guide.parent.description1") %></li>\n            <li class="semesterGuideItem"><%= IM("special_band_create.guide.common.description") %></li>\n        </ul>\n    </div>\n\n\t<button type="button" class="uButton -sizeXL gMat34 gMab13 _btnConfirm" disabled><%= IM("ui.label.next") %></button>\n</div>'},3156:function(e,t){e.exports='<div class="gradeSpotArea gPat27">\n\t<h2 class="gradeSpotTitle gPat27"><%= IM("special_band_create.student.title") %></h2>\n\t<p class="gradeSpotDesc gMat8"><%= IM("special_band_create.student.desc") %></p>\n\t<div class="gradeSpotImage gMat20">\n\t\t<img src="<%-resBaseUrl%>/images/template/img_myclass.png" width="343" height="165" alt="<%= IM(\'special_band_create.student.title\') %>">\n\t</div>\n</div>\n<span class="gSrOnly"><%= IM("web.bandlist.bandcreate") %></span>\n\n<div class="gradeTypeArea gMat22">\n\t<label for="cho" class="uCheck -radio">\n\t\t<input type="radio" id="cho" name="bandType" value="cho" class="checkInput" checked>\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.elementary_school.label") %></span>\n\t\t</span>\n\t</label>\n\n\t<label for="jung" class="uCheck -radio">\n\t\t<input type="radio" id="jung" name="bandType" value="jung" class="checkInput">\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.middle_school.label") %></span>\n\t\t</span>\n\t</label>\n\n\t<label for="go" class="uCheck -radio">\n\t\t<input type="radio" id="go" name="bandType" value="go" class="checkInput">\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.high_school.label") %></span>\n\t\t</span>\n\t</label>\n</div>\n\n<div class="schoolLookupArea gMat20 gPab50">\n\t<div class="schoolSelection">\n\t\t<div class="currentYear"><%- IM("search_special_band.year.label" , {year : year }) %></div>\n\t\t<div class="schoolSearchBox">\n\t\t\t<div class="uInputSearch">\n\t\t\t\t<label class="gSrOnly" for="input_search"><%= IM("special_band_create.school_name.input") %></label>\n\t\t\t\t<input type="text" id="input_search" class="_inputSchoolName" placeholder="<%= IM(\'special_band_create.school_name.input\') %>" value="">\n\t\t\t\t<button type="button" class="search _buttonSearch"><span class="gSrOnly"><%= IM("special_band_create.school_name.search") %></span></button>\n\t\t\t\t<span class="border"></span>\n\t\t\t</div>\n\n\t\t\t<div class="_schoolListRegion"></div>\n\t\t</div>\n\n\t\t<div class="uSelect">\n\t\t\t<select name="schoolGrade" style="width:100px">\n\t\t\t</select>\n\t\t</div>\n\n\t\t<div class="uSelect _classSelectArea">\n\t\t\t<select name="schoolClass" style="width:100px">\n\t\t\t\t<option><%= IM("special_band_create.schoolClass.label") %></option>\n\t\t\t\t<% for (var i = 1; i < 21; i++ ){ %>\n\t\t\t\t<option value="<%= i %>"><%= IM("special_band_create.schoolClass.option" , {schoolClass : i}) %></option>\n\t\t\t\t<% } %>\n\t\t\t</select>\n\t\t</div>\n\n\t\t<div class="classInputBox _classInputArea" style="display:none">\n\t\t\t<div class="uInput -noBorder" style="width: 179px">\n\t\t\t\t<label class="gSrOnly" for="schoolClass"><%= IM("special_band_create.schoolClass.input.label") %></label>\n\t\t\t\t<input type="text" id="schoolClass" class="_schoolClassInput" maxlength="10" placeholder="<%= IM(\'special_band_create.schoolClass.input.label\') %>">\n\t\t\t\t<span class="border"></span>\n\t\t\t</div>\n\t\t\t<span class="classText"><%= IM("special_band_create.schoolClass.label") %></span>\n\t\t</div>\n\t</div>\n\n\t<div class="semesterGuideBox">\n\t\t<ul class="semesterGuideList">\n\t\t\t<li class="semesterGuideItem"><%= IM("special_band_create.guide.student.description1") %></li>\n\t\t\t<li class="semesterGuideItem"><%= IM("special_band_create.guide.student.description2") %><a href="<%= specialBandGuideDetailUrl %>" class="textLink" target="_blank"><%= IM("special_band_create.guide.details") %></a></li>\n\t\t\t<li class="semesterGuideItem"><%= IM("special_band_create.guide.common.description") %></li>\n\t\t</ul>\n\t</div>\n\n\t<button type="button" class="uButton -sizeXL gMat34 gMab13 _btnConfirm" disabled><%= IM("ui.label.next") %></button>\n</div>'},3157:function(e,t){e.exports='<div class="gradeSpotArea gPat27">\n\t<h2 class="gradeSpotTitle gPat27"><%= IM("special_band_create.kids.title") %></h2>\n\t<p class="gradeSpotDesc gMat8"><%= IM("special_band_create.kids.desc") %></p>\n\t<div class="gradeSpotImage gMat20">\n\t\t<img src="<%-resBaseUrl%>/images/template/img_kindergarten.png" width="343" height="165" alt="<%= IM(\'special_band_create.kids.title\') %>">\n\t</div>\n</div>\n\n<span class="gSrOnly"><%= IM("web.bandlist.bandcreate") %></span>\n\n<div class="gradeTypeArea gMat22">\n\t<label for="DayCareCenter" class="uCheck -radio">\n\t\t<input type="radio" id="DayCareCenter" value="daycare" name="bandType" class="checkInput" checked>\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.day_care_center.label") %></span>\n\t\t</span>\n\t</label>\n\n\t<label for="kindergarten" class="uCheck -radio">\n\t\t<input type="radio" id="kindergarten" value="preschool" name="bandType" class="checkInput">\n\t\t<span class="checkLabel">\n\t\t\t<span class="shape sf_afterBg"></span>\n\t\t\t<span class="text"><%= IM("special_band_create.kindergarten.label") %></span>\n\t\t</span>\n\t</label>\n</div>\n\n<div class="schoolLookupArea gMat20 gPab50">\n\t<div class="schoolSelection">\n\t\t<div class="currentYear"><%- IM("search_special_band.year.label" , {year : year }) %></div>\n\t\t<div class="schoolSearchBox">\n\t\t\t<div class="uInputSearch">\n\t\t\t\t<label class="gSrOnly" for="input_search"><%- IM("search_special_band.kid.title") %></label>\n\t\t\t\t<input type="text" id="input_search" class="_inputSchoolName" placeholder="<%- IM(\'search_special_band.kid.title\') %>" value="">\n\t\t\t\t<button type="button" class="search _buttonSearch"><span class="gSrOnly"><%- IM("special.band.search.for_kid") %></span></button>\n\t\t\t\t<span class="border"></span>\n\t\t\t</div>\n\t\t\t<div class="_schoolListRegion"></div>\n\t\t</div>\n\t\t<div class="classInputBox">\n\t\t\t<div class="uInput -noBorder" style="width: 179px">\n\t\t\t\t<label class="gSrOnly" for="schoolClass"><%= IM("special_band_create.schoolClass.input.label") %></label>\n\t\t\t\t<input type="text" id="schoolClass" class="_schoolClassInput" maxlength="10" placeholder="<%= IM(\'special_band_create.schoolClass.input.label\') %>">\n\t\t\t\t<span class="border"></span>\n\t\t\t</div>\n\t\t\t<span class="classText"><%= IM("special_band_create.schoolClass.label") %></span>\n\t\t</div>\n\t</div>\n\n\t<div class="semesterGuideBox">\n\t\t<ul class="semesterGuideList">\n\t\t\t<li class="semesterGuideItem"><%= IM("special_band_create.guide.kids.description1") %></li>\n\t\t\t<li class="semesterGuideItem"><%= IM("special_band_create.guide.common.description") %></li>\n\t\t</ul>\n\t</div>\n\n\t<button type="button" class="uButton -sizeXL gMat34 gMab13 _btnConfirm" disabled><%= IM("ui.label.next") %></button>\n</div>'},3158:function(e,t,n){var i=n(2089),a=n(3173),s=n(17);t.buildRecruitingBandCreateView=function(e){if("local"===e.recruiting_type){var t=s.queryStringToObject(location.search);return i.buildDLocalRecruitingBandCreateView({rcode:t.rcode,regionName:t.regionName,keyword:t.keyword,keywordGroup:t.keywordGroup})}return a.buildDMissionRecruitingBandCreateView()}},3159:function(e,t){e.exports='<div class="bandMakeBannerGuide">\n    <div class="bandMakeBannerGuideBox -smallGroup">\n        <h2 class="bannerGuideTitle"><%-IM("recruiting_band_create.local.banner.title")%></h2>\n        <p class="bannerGuideDesc"><%=nl2br(IM("recruiting_band_create.local.banner.description"))%></p>\n    </div>\n</div>\n\n<section class="bandMake gPat37">\n    <form action="" class="_form">\n        <fieldset>\n            <legend class="gSrOnly"><%= pageTitle %></legend>\n            <div class="detailSttingBox gBoxShadow gMat15">\n                <div class="inputForm -flexible">\n                    \x3c!-- 첨부 이전 .-default 추가 --\x3e\n                    \x3c!-- 커버 이미지 지정 --\x3e\n                    <div class="_bandCover"></div>\n                    \x3c!-- 밴드명 지정--\x3e\n                    <div class="uInput -simpleLine inputBand" data-status="on">\n                        <label class="gSrOnly" for="ex_name"><%= IM(\'bandcreate.txt.alert.no_band_name\') %></label>\n                        <input type="text" id="ex_name" class="_inputBandName" maxlength="<%-maxNameLength%>" placeholder="<%= IM(\'ui.label.title\') %>" value="<%-name%>">\n                    </div>\n                </div>\n                <div class="inputForm _description">\n                </div>\n                <div class="detailSttingItem -tagSection">\n                    <div>\n                        <em class="title"><%-IM(\'recruiting_band_create.local.keyword.label\')%></em>\n                        <button type="button" class="tag _btnKeyword"><%-keyword %></button>\n                    </div>\n                </div>\n                <div class="detailSttingItem -tagSection">\n                    <div>\n                        <em class="title"><%-IM(\'recruiting_band_create.local.region.label\')%></em>\n                        <button type="button" class="tag _btnRegion"><%-regionName %></button>\n                    </div>\n                </div>\n                <div class="detailSttingItem _joinConditionMenu"></div>\n            </div>\n\n            <div class="detailSttingArea gMat30">\n                <h2 class="detailSttingTitle"><%= IM("recruiting_band_create.local.member_capacity.desc") %></h2>\n                <div class="detailSttingBox gBoxShadow gMat15">\n                    <% // 최소 인원 설정 %>\n                    <div class="detailSttingItem _recruitingMemberCapacity"></div>\n\n                </div>\n            </div>\n\n            <div class="makeType">\n                <h2 class="title"><%= IM(\'band.recruiting.opentype.setting.label\') %></h2>\n                <div class="bandType _bandOpenType"></div>\n            </div>\n            <div class="btnFooter">\n                <button type="button" class="_btnCancel uButton -sizeXL -cancel"><%= IM("ui.label.cancel") %></button>\n                <button type="submit" class="_btnConfirm uButton -sizeXL -disabled"><%= IM("ui.label.complete") %></button>\n            </div>\n        </fieldset>\n    </form>\n</section>'},3163:function(e,t){e.exports='<button type="button" class="coverSet"><span class="gSrOnly"><%-IM("bandcreate.cover.settiong.label")%></span></button>\n<div class="lyMenu _selectCoverMenu" style="min-width:150px;display: none;">\n  <ul>\n    <li><a href="#" role="button" class="_btnSelectPreparedCover"><%-IM("band.create.select_defulat_cover")%></a></li>\n    <li><label class="_coverImageUploader "><%-IM("web.noui.bandcreate.title.select_image")%><input type="file" accept="image/*" name="attachment" title=" "></label></li>\n  </ul>\n</div>\n<img width="148" height="112" class="coverImg _selectedCover" alt="" style="display: none;">\n'},3164:function(e,t,n){var i=n(0),a=n(4),s=n(3165),o=n(83),r=n(486),l=n(82),c={COVER_SELECTED:"COVER_SELECTED"},d=a.View.extend({options:{selectedCoverUrl:void 0},tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DPreparedGroupBandCoverSelectLayerView"},initialize:function(){this._covers=[],this._currentSetIndex=0,this._selectedCoverUrl=this.options.selectedCoverUrl},template:i.template(s),templateContext:function(){return{covers:this._getCurrentPageCovers(),selectedCoverUrl:this._selectedCoverUrl,currentPage:this._currentSetIndex+1,maxPage:this._getMaxPageIndex()+1,getCoverThumbnail:l.makeMediumCoverUrl}},ui:{coverItem:"._coverItem",btnNext:"._btnNext",btnPrev:"._btnPrev",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel"},events:{"click @ui.btnPrev":function(){this._currentSetIndex--,this._currentSetIndex<0&&(this._currentSetIndex=this._getMaxPageIndex()),this.render()},"click @ui.btnNext":function(){this._currentSetIndex++,this._currentSetIndex>this._getMaxPageIndex()&&(this._currentSetIndex=0),this.render()},"click @ui.coverItem":function(e){e.preventDefault(),this.getUI("coverItem").removeClass("on");var t=this.$(e.target);t.addClass("on"),this._selectedCoverUrl=t.attr("data-cover"),this._validateConfirm()},"click @ui.btnConfirm":function(){this.trigger(c.COVER_SELECTED,this._selectedCoverUrl),this.destroy()},"click @ui.btnCancel":"destroy"},onRender:function(){this._validateConfirm()},onAttach:function(){this._loadCovers()},_validateConfirm:function(){this._selectedCoverUrl?this.getUI("btnConfirm").removeAttr("disabled"):this.getUI("btnConfirm").attr("disabled","disabled")},_getMaxPageIndex:function(){var e=Math.ceil(this._covers.length/6)-1;return Math.max(e,0)},_getCurrentPageCovers:function(){var e=6*this._currentSetIndex;return this._covers.slice(e,e+6)},_loadCovers:function(){return o.getBandCoverUrls().then(i.bind((function(e){this._covers=i.shuffle(e.cover_urls),this._selectedCoverUrl=this._covers[0],this.render()}),this))}});d.EVENT=c,d.openDPreparedGroupBandCoverSelectLayer=function(e){var t=new d({selectedCoverUrl:e});return r.openWithoutHiding(t),t},e.exports=d},3165:function(e,t){e.exports='<div class="lyContent -w440">\n  <header class="modalHeader">\n    <h1 class="title"><%-IM("band.create.select_defulat_cover")%></h1>\n  </header>\n  <div class="modalBody">\n    <div class="modalContentWrap">\n      <div class="defaultCoverSelectArea">\n        <div class="coverList">\n          <div class="head">\n            <h3><%-IM("bandcreate.cover.settiong.label")%></h3>\n            <div class="navi">\n              <span class="paging"><strong class=""><%-currentPage%></strong>/<%-maxPage%></span>\n              <span class="btnArea">\n                <button class="prev _btnPrev"></button>\n                <button class="next _btnNext"></button>\n              </span>\n            </div>\n          </div>\n          <ul class="list">\n            <% _.each(covers, function(cover) { %> %>\n            <li class="" style="display:inline-block">\n              <a href="#" data-cover="<%-cover %>" class=" cover _coverItem <% if (selectedCoverUrl === cover) { %>on<% } %>">\n                <img class="coverImg" src="<%-getCoverThumbnail(cover) %>" width="126" height="95" alt="">\n                <span class="mask"></span>\n              </a>\n            </li>\n            <% }) %> %>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <footer class="modalFooter">\n    <button type="button" class="uButton -cancel _btnCancel"><%-IM("ui.label.cancel") %></button>\n    <button type="button" class="uButton -confirm _btnConfirm" disabled><%-IM("ui.label.confirm")%></button>\n  </footer>\n</div>'},3166:function(e,t){e.exports='<div class="bandTypeListWrap gBoxShadow">\n  <ul class="typeList ">\n    <li class="typeListItem">\n      <label for="secret" class="uCheck -checkbox">\n        <input type="radio" value="secret" name="bandOpenType" id="secret" class="checkInput" <% if (recruitingOpenType === \'secret\') { %>checked<% } %>>\n        <span class="checkLabel">\n          <span class="shape"></span>\n          <span class="text">\n              <strong><%= IM(\'bandsetting.band_type_join_setting.txt.secret_band\') %></strong>\n              <span class="msg"><%= IM("bandsetting.band_type_join_setting.txt.secret_band.description") %></span>\n          </span>\n        </span>\n\n      </label>\n    </li>\n    <li class="typeListItem">\n      <label for="closed" class="uCheck -checkbox">\n        <input type="radio" value="closed" name="bandOpenType" id="closed" class="checkInput" <% if (recruitingOpenType === \'closed\') { %>checked<% } %>>\n        <span class="checkLabel">\n          <span class="shape"></span>\n          <span class="text">\n              <strong><%= IM("bandsetting.band_type_join_setting.txt.closed_band") %></strong>\n              <span class="msg"><%= IM("bandsetting.band_type_join_setting.txt.closed_band.description") %></span>\n          </span>\n        </span>\n      </label>\n    </li>\n    <li class="typeListItem">\n      <label for="public" class="uCheck -checkbox">\n        <input type="radio" value="public" name="bandOpenType" id="public" class="checkInput" <% if (recruitingOpenType === \'public\') { %>checked<% } %>>\n        <span class="checkLabel">\n          <span class="shape"></span>\n          <span class="text">\n              <strong><%= IM("bandsetting.band_type_join_setting.txt.public_band") %></strong>\n              <span class="msg"><%= IM("bandsetting.band_type_join_setting.txt.public_band.description") %></span>\n          </span>\n        </span>\n      </label>\n    </li>\n  </ul>\n</div>'},3167:function(e,t){e.exports='<div class="detailSttingDesc">\n  <em class="title"><%= IM("recruiting_band_create.join_condition.title")%></em>\n  <p class="desc"><%= allowedGenderMessage%>, <%= allowedYearOfBirthMessage%></p>\n</div>\n<button class="uButton -sizeS -confirm2 _joinConditionBtn"><%= IM("web.postwrite.form_billsplit.btn.change_price")%></button>\n'},3168:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),a=n(4),s=n(543),o=n(3169),r=n(486),l=a.View.extend({attributes:{"data-viewname":"DBandJoinConditionView"},tagName:"section",className:"lyWrap",template:t.template(o),ui:{selectGender:"._selectGender",selectMinYear:"._selectMinYear",selectMaxYear:"._selectMaxYear",btnConfirmJoinType:"._btnConfirmJoinType",btnClose:"._btnClose"},events:{"click @ui.btnConfirmJoinType":"_updateJoinType","click @ui.btnClose":"destroy"},initialize:function(e){this.bandCore=e.bandCore,this._bandOptionModel=null},serializeData:function(){return{maxYearForAge:s.BAND_JOIN_CONDITION.MAX_YEAR_FOR_AGE,minYearForAge:s.BAND_JOIN_CONDITION.MIN_YEAR_FOR_AGE,allowedGender:this.options.allowedGender,minBirthYear:this.options.minBirthYear,maxBirthYear:this.options.maxBirthYear}},_updateJoinType:function(){var e=this.ui.selectGender.find("option:selected").val(),t=this.ui.selectMinYear.find("option:selected").val(),n=this.ui.selectMaxYear.find("option:selected").val();if(i.toNumber(n)<i.toNumber(t)){var a=n;n=t,t=a}this.trigger("selectJoinType",{allowedGender:e,minBirthYear:t,maxBirthYear:n}),this.destroy()}});return l.openDBandJoinConditionLayerView=function(e){var t=new l(e);return r.openWithoutHiding(t),t},l}.call(t,n,t,e))||(e.exports=i)},3169:function(e,t){e.exports='<div class="lyContent -w380">\n\x3c!-- 타이틀: 가입 조건 설정--\x3e\n<header class="header">\n    <h1 class="title"><%= IM("bandsetting.band_join_condition.title") %></h1>\n</header>\n\n<div class="modalBody">\n    <div class="modalContentWrap">\n<ul class="listLine">\n    <% // 성별 %>\n    <li class="flexList -tbSpace15 tLine">\n        <label for="gender" class="text gFs14"><%= IM("bandsetting.band_type_join_setting.txt.join_condition_gender") %></label>\n        <div class="etc">\n            <div class="uSelect" style="min-width:105px">\n                <select id="gender" class="_selectGender">\n                    <option value="none" <% if (allowedGender && allowedGender == "none") { %> selected<% } %>><%= IM("bandsetting.band_type_join_setting.txt.no_limit") %></option>\n                    <option value="male" <% if (allowedGender && allowedGender == "male") { %> selected<% } %>><%= IM("bandsetting.band_type_join_setting.txt.join_condition_male") %></option>\n                    <option value="female" <% if (allowedGender && allowedGender == "female") { %> selected<% } %>><%= IM("bandsetting.band_type_join_setting.txt.join_condition_female") %></option>\n                </select>\n            </div>\n        </div>\n    </li>\n    <% // 나이 %>\n    <li class="flexList -tbSpace15 tLine ageItem">\n        <label for="age" class="text gFs14"><%= IM("bandsetting.band_type_join_setting.txt.join_condition_age") %></label>\n        <div class="etc">\n            <div class="selectBox">\n                <span class="selectLabel"><%= IM("bandsetting.band_type_join_setting.txt.join_condition_min_age") %></span>\n                <div class="uSelect" style="min-width:87px">\n                    <select id="maxAge" class="_selectMaxYear">\n                        <option value="none" <% if (maxBirthYear && maxBirthYear == "none") { %>selected<% } %>><%= IM("bandsetting.band_type_join_setting.txt.no_limit") %></option>\n                        <% for (var i = maxYearForAge; i >= minYearForAge; i--) { %>\n                        <option value="<%= i %>" <% if (maxBirthYear && maxBirthYear == i) { %>selected<% } %>><%= IM(\'bandsetting.band_join_condition.age.birth_year\', {birthYear: i}) %></option>\n                        <% } %>\n                    </select>\n                </div>\n            </div>\n\n            <div class="selectBox gMat10">\n                <span class="selectLabel"><%= IM("bandsetting.band_type_join_setting.txt.join_condition_max_age") %></span>\n                <div class="uSelect" style="min-width:87px">\n                    <select id="minAge" class="_selectMinYear">\n                        <option value="none" <% if (minBirthYear && minBirthYear == "none") { %>selected<% } %>><%= IM("bandsetting.band_type_join_setting.txt.no_limit") %></option>\n                        <% for (var i = maxYearForAge; i >= minYearForAge; i--) { %>\n                        <option value="<%= i %>" <% if (minBirthYear && minBirthYear == i) { %>selected<% } %>><%= IM(\'bandsetting.band_join_condition.age.birth_year\', {birthYear: i}) %></option>\n                        <% } %>\n                    </select>\n                </div>\n            </div>\n        </div>\n    </li>\n    <% // 멤버 가입 승인 %>\n</ul>\n    </div>\n</div>\n\n<% // 저장 버튼 %>\n    <footer class="modalFooter -tLine">\n        <button type="button" class="uButton -sizeL -confirm _btnConfirmJoinType"><%= IM("ui.label.confirm") %></button>\n        <button type="button" class="btnLyClose uButton -iconClose _btnClose"><span class="gSrOnly"><%= IM("ui.label.cancel") %></span></button>\n    </footer>\n</div>'},3170:function(e,t){e.exports='<div class="detailSttingDesc">\n  <em class="title"><%= IM("ui.label.band.member_count.setting") %></em>\n</div>\n<div class="uSelect -sizeS">\n  <label for="memberCount" class="gSrOnly"><%= IM("ui.label.band.member_count") %></label>\n  <select id="memberCount" class="" name="recruitingMemberCapacity">\n  </select>\n</div>'},3171:function(e,t,n){var i=n(0),a=n(4),s=n(3172),o=n(1169),r=a.View.extend({attributes:{"data-viewname":"DInputRecruitingBandDescriptionItemView"},className:"inputForm",template:i.template(s),templateContext:function(){return{maxLength:500}},ui:{description:"._description"},events:{"input @ui.description":function(){this.trigger(o.EVENT.CHANGE,this.getValues())}},onAttach:function(){this.getUI("description").elastic()},focus:function(){this.getUI("description").focus()},setValues:function(e){this.getUI("description").val(e.description)},getValues:function(){return{description:this.getUI("description").val()}}});e.exports=r},3172:function(e,t){e.exports='<div class="uTextarea gMat20">\n  <label class="gSrOnly" for="introduction"><%-IM("recruiting_band_create.local.description.label")%></label>\n  <textarea placeholder="<%-IM(\'recruiting_band_create.local.description.placeholder\')%>" id="introduction" class="_description" maxlength="<%-maxLength%>"></textarea>\n  <span class="border"></span>\n</div>'},3173:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(10),s=(n(4),n(544)),o=n(82),r=n(600),l=n(537),c=n(3174),d=n(507),u=n(17),h=n(165),p=n(554),_=n(739),m=n(495),g=n(487),b=n(935),f=n(1233),v=n(782),C=n(177),y=n(1524),I=n(52),w=n(2091),E=n(2092),L=n(2093),M=n(2094),B=n(3175),T=n(1523),N=n(1169),S=n(22),A=n(590);n(936),n(2095);var k=p.MISSION_FREQUENCY_ITEM.WEEKDAY,x=N.extend({behaviors:[{behaviorClass:m,sceneId:m.SCENE.PC_BAND_CREATE_SETTING},g],attributes:{"data-viewname":"DMissionRecruitingBandCreateView"},template:i.template(c),templateContext:function(){return{maxNameLength:f.MAX_NAME_LENGTH,ThumbnailUtil:o}},ui:{inputBandName:"._inputBandName",missionDescription:"._missionDescription",goodMissionExUploader:"._goodMissionExUploader",badMissionExUploader:"._badMissionExUploader",goodMissionExFakeUploader:"._goodMissionExFakeUploader",badMissionExFakeUploader:"._badMissionExFakeUploader",goodMissionExAttacheMediaRegion:"._goodMissionExAttacheMediaRegion",badMissionExAttacheMediaRegion:"._badMissionExAttacheMediaRegion",goodUploadArea:"._goodUploadArea",badUploadArea:"._badUploadArea",goodMissionExContents:"._goodMissionExContents",badMissionExContents:"._badMissionExContents",missionDurationSelect:"select[name=missionDuration]",missionFrequencySelect:"select[name=missionFrequency]",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",form:"._form"},events:{"input @ui.inputBandName":"_toggleConfirmButton","input @ui.missionDescription":"_toggleConfirmButton","click @ui.btnConfirm":function(e){return e.preventDefault(),A.isContentCreationPunished()||this._createBand(),!1},"click @ui.btnCancel":function(){window.history.back()},"submit @ui.form":function(){return!1},"click @ui.goodMissionExFakeUploader":function(){A.isContentCreationPunished()||this.getUI("goodMissionExUploader").find('input[type="file"]').click()},"click @ui.badMissionExFakeUploader":function(){A.isContentCreationPunished()||this.getUI("badMissionExUploader").find('input[type="file"]').click()},"change @ui.missionDurationSelect":function(){if(this.getUI("missionDurationSelect").children("option:selected").text()===this.getUI("missionDurationSelect").children().last().text()){var e=b.openDPromptModalView({title:IM("setting.direct_period_setting"),desc:IM("mission_setting.direct_period_setting.guide_desc").replace("<br>"," "),maxlength:p.MISSION_SETTING.DIRECT_PERIOD_MAX_LENGTH,validation:function(e){if(t.isNumeric(e)){var n=parseInt(e.replace(/^0+/,""));return n>0&&n<366}return!1}});this.listenTo(e,"modal:confirm",(function(e){var t=parseInt(e.replace(/^0+/,""));this.getUI("missionDurationSelect").children().last().remove(),this.getUI("missionDurationSelect").append(new Option(IM("setting.direct_period_setting.count",{day:t}),864e5*t)),this.getUI("missionDurationSelect").children().last().attr("selected",!0)}))}this.getUI("missionDurationSelect").children().last().remove(),this.getUI("missionDurationSelect").append(new Option(IM("setting.direct_period_setting")))}},regions:{bandCover:{el:"._bandCover",replaceElement:!0},missionDescription:{el:"._missionDescription",replaceElement:!0},bandOpenType:"._bandOpenType",joinConditionMenu:{el:"._joinConditionMenu",replaceElement:!0},recruitingMemberCapacity:{el:"._recruitingMemberCapacity",replaceElement:!0},goodMissionExAttacheMediaRegion:{el:"@ui.goodMissionExAttacheMediaRegion",replaceElement:!0},badMissionExAttacheMediaRegion:{el:"@ui.badMissionExAttacheMediaRegion",replaceElement:!0}},initialize:function(){this._itemSet={},this._waitingRequest=!1,this._currentJoinType={allowedGender:"none",minBirthYear:"none",maxBirthYear:"none"},this._missionModel=new v,this.listenTo(this._missionModel,"remove:good:example:media",(function(){this.getChildView("goodMissionExAttacheMediaRegion").render(),this._renderGoodUploader()})),this.listenTo(this._missionModel,"remove:bad:example:media",(function(){this.getChildView("badMissionExAttacheMediaRegion").render(),this._renderBadUploader()}))},serializeData:function(){return{pageTitle:IM("web.noui.bandcreate.title.band_create")}},onRender:function(){this._initGoodMissionExUploader(),this._initBadMissionExUploader(),this._initExMediaList(),this.showFormItem("bandCover",w,{cover:this.options.profileImageUrl}),this.showFormItem("missionDescription",B,{missionDescription:this.options.missionDescription}),this.showFormItem("joinConditionMenu",L,this._currentJoinType);var e=u.queryStringToObject(location.search);this.showFormItem("bandOpenType",E,{recruitingOpenType:this.options.recruitingOpenType||e.openType||S.OPEN_TYPE.PUBLIC}),this.showFormItem("recruitingMemberCapacity",M,{recruitingMemberCapacity:this.options.recruitingMemberCapacity||f.MIN_MEMBER_CAPACITY}),this.getUI("inputBandName").focus(),this.getUI("missionDurationSelect").setSelectOptions(i.map(p.MISSION_DURATIONS,(function(e){return{value:e,label:_.getBandMissionDurationText(e)}}))),this._directCertificationDurationSetting(),this.getUI("missionFrequencySelect").setSelectOptions(i.map(p.MISSION_FREQUENCY,(function(e){return{value:e,label:_.getBandMissionConfirmFrequencyText(e),selected:e===k}})))},onAttach:function(){this.getUI("missionDescription").elastic(),this.getUI("goodMissionExContents").elastic(),this.getUI("badMissionExContents").elastic(),this._toggleConfirmButton()},_directCertificationDurationSetting:function(){this.getUI("missionDurationSelect").val(p.MISSION_DURATIONS[2]).attr("selected","selected"),this.getUI("missionDurationSelect").append(new Option(IM("setting.direct_period_setting")))},_initGoodMissionExUploader:function(){this._destroyGoodMissionExUploader(),this._goodMissionExUploader=r.createPhotoOrVideoUploader(this.getUI("goodMissionExUploader"),{showProgress:!0,duplicate:!0,autoUpload:!0,data:{maxRunningSecs:C.VIDEO.MAX_RUNNING_SECS.BAND_MISSION}}),this.listenTo(this._goodMissionExUploader,d.BEFORE_VALIDATE,i.bind((function(){var e={mediaCount:this._missionModel.getMissionGoodExamplePhotoOrVideo().length,maxMediaCount:3};this._goodMissionExUploader.setValidators([i.partial(l.MISSION_PHOTO_OR_VIDEO_VALIDATOR,i,e)])}),this)),this.listenTo(this._goodMissionExUploader,d.UPLOAD_COMPLETE,i.bind((function(e){e.cancelled||(this._missionModel.setMissionGoodExamplePhotoOrVideo(e.resultList),this._renderGoodUploader())}),this))},_destroyGoodMissionExUploader:function(){this._goodMissionExUploader&&(this._goodMissionExUploader.destroy(),this._goodMissionExUploader=null)},_renderGoodUploader:function(){this.getChildView("goodMissionExAttacheMediaRegion").render(),this._missionModel.getMissionGoodExamplePhotoOrVideo().length>=3?(this.getUI("goodMissionExFakeUploader").parent(".iconBtn").addClass("-disabled"),this.getUI("goodMissionExFakeUploader").attr("disabled",!0),this.getUI("goodMissionExUploader").css("display","none")):0===this._missionModel.getMissionGoodExamplePhotoOrVideo().length?(this.getUI("goodMissionExFakeUploader").parent(".iconBtn").removeClass("-disabled"),this.getUI("goodMissionExFakeUploader").attr("disabled",!1),this.getUI("goodMissionExUploader").css("display","none")):(this.getUI("goodMissionExFakeUploader").parent(".iconBtn").removeClass("-disabled"),this.getUI("goodMissionExFakeUploader").attr("disabled",!1),this.getUI("goodMissionExUploader").css("display","")),this.getUI("goodUploadArea").toggleClass("-on",this._missionModel.hasGoodExample())},_initBadMissionExUploader:function(){this._destroyBadMissionExUploader(),this._badMissionExUploader=r.createPhotoOrVideoUploader(this.getUI("badMissionExUploader"),{showProgress:!0,duplicate:!0,autoUpload:!0,data:{maxRunningSecs:C.VIDEO.MAX_RUNNING_SECS.BAND_MISSION}}),this.listenTo(this._badMissionExUploader,d.BEFORE_VALIDATE,i.bind((function(){var e={mediaCount:this._missionModel.getMissionBadExamplePhotoOrVideo().length,maxMediaCount:3};this._badMissionExUploader.setValidators([i.partial(l.MISSION_PHOTO_OR_VIDEO_VALIDATOR,i,e)])}),this)),this.listenTo(this._badMissionExUploader,d.UPLOAD_COMPLETE,i.bind((function(e){e.cancelled||(this._missionModel.setMissionBadExamplePhotoOrVideo(e.resultList),this._renderBadUploader())}),this))},_destroyBadMissionExUploader:function(){this._badMissionExUploader&&(this._badMissionExUploader.destroy(),this._badMissionExUploader=null)},_renderBadUploader:function(){this.getChildView("badMissionExAttacheMediaRegion").render(),this._missionModel.getMissionBadExamplePhotoOrVideo().length>=3?(this.getUI("badMissionExFakeUploader").parent(".iconBtn").addClass("-disabled"),this.getUI("badMissionExFakeUploader").attr("disabled",!0),this.getUI("badMissionExUploader").css("display","none")):0===this._missionModel.getMissionBadExamplePhotoOrVideo().length?(this.getUI("badMissionExFakeUploader").parent(".iconBtn").removeClass("-disabled"),this.getUI("badMissionExFakeUploader").attr("disabled",!1),this.getUI("badMissionExUploader").css("display","none")):(this.getUI("badMissionExFakeUploader").parent(".iconBtn").removeClass("-disabled"),this.getUI("badMissionExFakeUploader").attr("disabled",!1),this.getUI("badMissionExUploader").css("display","")),this.getUI("badUploadArea").toggleClass("-on",this._missionModel.hasBadExample())},_initExMediaList:function(){this.getRegion("goodMissionExAttacheMediaRegion").show(new y({bandMissionModel:this._missionModel,exType:"good"})),this.getRegion("badMissionExAttacheMediaRegion").show(new y({bandMissionModel:this._missionModel,exType:"bad"})),this._renderGoodUploader(),this._renderBadUploader()},onBeforeDetach:function(){this._destroyBadMissionExUploader(),this._destroyGoodMissionExUploader()},onFormValuesChange:function(e){("missionDescription"in e||"recruitingOpenType"in e)&&this._toggleConfirmButton()},_getAllValues:function(){return i.extend({name:a.trim(this.ui.inputBandName.val()).substr(0,f.MAX_NAME_LENGTH)},this.getFormValues())},_toggleConfirmButton:function(){this._getAllValues().recruitingOpenType?(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm"),this.ui.btnConfirm.removeAttr("disabled")):(this.ui.btnConfirm.removeClass("-confirm"),this.ui.btnConfirm.addClass("-disabled"),this.ui.btnConfirm.attr("disabled","disabled"))},_createBand:function(){this.jplClick(g.CLASSIFIER.BAND_CREATE_SETTING_CONFIRM);var e=this._getAllValues();if(!this._validateName(e.name))return!1;if(!this._validateDescription(e.missionDescription))return!1;var t={title:e.name,time_zone_id:h.getCurrentTimezoneId(),duration:this.getUI("missionDurationSelect").val(),confirm_frequency:this.getUI("missionFrequencySelect").val(),description:e.missionDescription,good_example:{content:this.getUI("goodMissionExContents").val(),photo_or_video:I.decamelizeKeys(this._missionModel.getMissionGoodExamplePhotoOrVideo())},bad_example:{content:this.getUI("badMissionExContents").val(),photo_or_video:I.decamelizeKeys(this._missionModel.getMissionBadExamplePhotoOrVideo())}};if(!0===this._waitingRequest)return!1;this._waitingRequest=!0,T.createRecruitingBand(e,"create_mission",t).then(i.bind((function(e){this.jplOccur(g.CLASSIFIER.BAND_CREATE_COMPLETE,{band_no:e.band_no}),s.LFG_BAND_HOME.goDForced({band_no:e.band_no})}),this)).fail(i.bind((function(){this._waitingRequest=!1}),this))},_validateName:function(e){var t=f.validateName(e);return t===f.NameValidationResult.TOO_SHORT?(alert(IM("recruiting_band_create.mission.alert.too_short_name_or_description",{minName:f.MIN_NAME_LENGTH,minDescription:f.MIN_MISSION_DESCRIPTION_LENGTH})),this.ui.inputBandName.focus(),!1):t!==f.NameValidationResult.HAS_INVALID_CHAR||(alert(IM("bandcreate.validation.emoji.msg")),this.ui.inputBandName.focus(),!1)},_validateDescription:function(e){return!(e.length<f.MIN_DESCRIPTION_LENGTH)||(alert(IM("recruiting_band_create.mission.alert.too_short_name_or_description",{minName:f.MIN_NAME_LENGTH,minDescription:f.MIN_MISSION_DESCRIPTION_LENGTH})),this.focusFormValue("missionDescription"),!1)}});return x.buildDMissionRecruitingBandCreateView=function(){return new x},x}.call(t,n,t,e))||(e.exports=i)},3174:function(e,t){e.exports='<div class="bandMakeBannerGuide">\n    <div class="bandMakeBannerGuideBox -mission">\n        <h2 class="bannerGuideTitle"><%- IM("mission.band.achieve.title") %></h2>\n        <p class="bannerGuideDesc"><%= IM("mission.band.achieve.guide_text") %><a href="https://band.us/cs/notice/3940" class="textLink" target="_blank"><%- IM("ui.label.learn_more") %></a></p>\n    </div>\n</div>\n\n<section class="bandMake gPat37">\n    <form action="" class="_form">\n        <fieldset>\n            <legend class="gSrOnly"><%= pageTitle %></legend>\n            <div class="detailSttingBox gBoxShadow gMat15">\n                <div class="inputForm -flexible">\n                    \x3c!-- 커버 이미지 지정 --\x3e\n                    <div class="_bandCover"></div>\n                    \x3c!-- 밴드명 지정--\x3e\n                    <div class="uInput -simpleLine inputBand" data-status="on">\n                        <label class="gSrOnly" for="ex_name"><%- IM("mission.band.mission_name") %></label>\n                        <input type="text" id="ex_name" class="_inputBandName" maxlength="<%-maxNameLength%>" placeholder="<%- IM(\'mission.band.mission_name\') %>">\n                    </div>\n                </div>\n                <div class="inputForm _missionDescription"></div>\n                <div class="inputForm">\n                    <div class="labelTitle -goodCase"><label for="goodCase"><%- IM("band_mission.setting.good_case.title") %></label></div>\n                    <div class="uTextarea gMat10">\n                        <textarea placeholder="<%- IM(\'band_mission.setting.good_case.placeholder\') %> <%-IM(\'form.input.optional\')%>" id="goodCase" class="_goodMissionExContents" maxlength="500"></textarea>\n                        <span class="border"></span>\n                        <div class="btnUploadWrap">\n                            <span class="iconBtn image"><button type="button" class="_goodMissionExFakeUploader" style="position:absolute;left:0;width:100%;height:100%;"></button></span>\n                        </div>\n                    </div>\n                    <div class="uploadArea -on _goodUploadArea">\n                        <div class="multiMediaArea" style="display:block">\n                            <div class="_goodMissionExAttacheMediaRegion"></div>\n                            <span class="btnAttachPhoto _goodMissionExUploader"><input type="file" class="" /><span class="gSrOnly"><%- IM("web.btn.attach") %></span></span>\n                        </div>\n                    </div>\n                </div>\n                <div class="inputForm">\n                    <div class="labelTitle -badCase"><label for="badCase"><%- IM("band_mission.setting.bad_case.title") %></label></div>\n                    <div class="uTextarea gMat10">\n                        <textarea placeholder="<%- IM(\'band_mission.setting.bad_case.placeholder\') %> <%-IM(\'form.input.optional\')%>"  id="badCase" class="_badMissionExContents" maxlength="500" ></textarea>\n                        <span class="border"></span>\n                        <div class="btnUploadWrap">\n                            <span class="iconBtn image -disabled"><button type="button" class="_badMissionExFakeUploader" style="position:absolute;left:0;width:100%;height:100%;"></span>\n                        </div>\n                    </div>\n                    <div class="uploadArea -on _badUploadArea">\n                        <div class="multiMediaArea" style="display:block">\n                            <div class="_badMissionExAttacheMediaRegion"></div>\n                            <span class="btnAttachPhoto _badMissionExUploader"><input type="file" class="" /><span class="gSrOnly"><%- IM("web.btn.attach") %></span></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="detailSttingArea gMat30">\n                <h2 class="detailSttingTitle"><%= IM("mission.band.day.setting.title") %></h2>\n                <div class="detailSttingBox gBoxShadow gMat15">\n                    <% // 인증 기간 %>\n                    <div class="detailSttingItem">\n                        <div class="detailSttingDesc">\n                            <em class="title"><%= IM("band_mission.setting.duration") %></em>\n                            <p class="desc"><%= IM("mission.band.certification_period.desc") %></p>\n                        </div>\n                        <div class="uSelect -sizeS">\n                            <label for="certification" class="gSrOnly"><%= IM("band_mission.setting.duration") %></label>\n                            <select id="certification" class="" name="missionDuration"></select>\n                        </div>\n                    </div>\n\n                    <% // 인증 빈도 %>\n                    <div class="detailSttingItem">\n                        <div class="detailSttingDesc">\n                            <em class="title"><%= IM("band_mission.setting.frequency") %></em>\n                        </div>\n                        <div class="uSelect -sizeS">\n                            <label for="sort" class="gSrOnly"><%= IM("band_mission.setting.frequency") %></label>\n                            <select id="sort" class="" name="missionFrequency"></select>\n                        </div>\n                    </div>\n\n                    <% // 가입 조건 설정 %>\n                    <div class="detailSttingItem _joinConditionMenu"></div>\n                </div>\n            </div>\n\n            <div class="detailSttingArea gMat30">\n                <h2 class="detailSttingTitle"><%= IM("recruiting_band_create.mission.member_capacity.desc") %></h2>\n                <div class="detailSttingBox gBoxShadow gMat15">\n                    <% // 최소 인원 설정 %>\n                    <div class="detailSttingItem _recruitingMemberCapacity"></div>\n                </div>\n            </div>\n\n            <div class="makeType">\n                <h2 class="title"><%= IM(\'band.recruiting.opentype.setting.label\') %></h2>\n                <div class="bandType _bandOpenType"></div>\n            </div>\n            <div class="btnFooter">\n                <button type="button" class="_btnCancel uButton -sizeXL -cancel"><%= IM("ui.label.cancel") %></button>\n                <button type="submit" class="_btnConfirm uButton -sizeXL -disabled"><%= IM("ui.label.complete") %></button>\n            </div>\n        </fieldset>\n    </form>\n</section>'},3175:function(e,t,n){var i=n(0),a=n(4),s=n(3176),o=n(1169),r=n(1233),l=a.View.extend({attributes:{"data-viewname":"DInputRecruitingBandMissionDescriptionItemView"},className:"inputForm",template:i.template(s),templateContext:function(){return{minLength:r.MIN_MISSION_DESCRIPTION_LENGTH,maxLength:500}},ui:{missionDescription:"._missionDescription"},events:{"input @ui.missionDescription":function(){this.trigger(o.EVENT.CHANGE,this.getValues())}},onAttach:function(){this.getUI("missionDescription").elastic()},focus:function(){this.getUI("missionDescription").focus()},setValues:function(e){this.getUI("missionDescription").val(e.missionDescription)},getValues:function(){return{missionDescription:this.getUI("missionDescription").val()}}});e.exports=l},3176:function(e,t){e.exports='<div class="labelTitle"><label for="rule"><%- IM("band_mission.setting.rule") %></label></div>\n<div class="uTextarea gMat10">\n    <textarea placeholder="<%- IM(\'band_mission.setting.description.placeholder\') %> <%-IM(\'form.input.min_length\', {min_length: minLength})%>" id="rule" class="_missionDescription" maxlength="<%-maxLength%>"></textarea>\n    <span class="border"></span>\n</div>'},3177:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(10),s=n(4),o=n(544),r=n(82),l=n(600),c=n(83),d=n(3178),u=n(171),h=n(543),p=n(562),_=n(507),m=n(1101),g=n(1233),b=n(1002),f=n(540);n(936);var v=s.View.extend({attributes:{"data-viewname":"DRecruitingBandNameCoverUpdateView"},template:i.template(d),templateContext:function(){return{ThumbnailUtil:r,maxNameLength:g.MAX_NAME_LENGTH}},ui:{inputBandName:"._inputBandName",defaultCovers:"._defaultCovers",selectedCover:"._selectedCover",defaultCoversPanelNavPrev:"._defaultCoversPanelNavPrev",defaultCoversPanelNavNext:"._defaultCoversPanelNavNext",defaultCoversPanelCurrentNum:"._defaultCoversPanelCurrentNum",coverImageUploader:"._coverImageUploader",btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",form:"._form"},events:{"click @ui.defaultCovers":function(e){this.ui.defaultCovers.removeClass("on"),this.ui.selectedCover.data("cover",t(e.currentTarget).data("cover")),this.ui.selectedCover.attr("src",t("img",e.currentTarget).attr("src")),t(e.currentTarget).addClass("on")},"click @ui.defaultCoversPanelNavPrev":function(e){this.ui.defaultCoversPanelCurrentNum.text(this.defualtCoversPanel.goPrev())},"click @ui.defaultCoversPanelNavNext":function(e){this.ui.defaultCoversPanelCurrentNum.text(this.defualtCoversPanel.goNext())},"input @ui.inputBandName":function(){if(this.bandInfo.memberCount>=h.COMMON.BASE_MEMBER_COUNT_FOR_CHANGE)return this.ui.inputBandName.val(this.bandInfo.name),void p.openLayer({bodyTitle:IM("bandsetting.txt.restrict_change.band_name"),withoutHiding:!0});t.trim(this.ui.inputBandName.val()).length>0?this.ui.btnConfirm.hasClass("-disabled")&&(this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm")):this.ui.btnConfirm.hasClass("-confirm")&&(this.ui.btnConfirm.removeClass("-confirm"),this.ui.btnConfirm.addClass("-disabled"))},"click @ui.btnConfirm":function(e){return e.preventDefault(),this._updateBand(),!1},"click @ui.btnCancel":function(){window.history.back()},"submit @ui.form":function(){return!1}},initialize:function(e){this._waitingRequest=!1,this._bandNo=e.bandNo,this._connectingPageBandNo=e.connectingPageBandNo,this._currentJoinType={allowedGender:"none",minBirthYear:"none",maxBirthYear:"none"},this._initDefualtCoversPanel(),this._initBandInfomation()},serializeData:function(){return{pageTitle:IM("bandsetting.member_permission.txt.level_edit_name_cover"),coverSet:this.defualtCoversPanel.coverSet,bandInfo:this.bandInfo,themeSet:u.getValues()}},_initDefualtCoversPanel:function(){this.defualtCoversPanel={coverSet:[],panelsCnt:0,currentPanel:0,goPrev:function(){return t("._coverSet_"+this.currentPanel).hide(),0==this.currentPanel?this.currentPanel=this.panelsCnt-1:this.currentPanel--,t("._coverSet_"+this.currentPanel).show(),this.currentPanel+1},goNext:function(){return t("._coverSet_"+this.currentPanel).hide(),this.currentPanel>=this.panelsCnt-1?this.currentPanel=0:this.currentPanel++,t("._coverSet_"+this.currentPanel).show(),this.currentPanel+1}}},_initBandInfomation:function(){this.bandInfo={name:null,coverUrl:null,themeVal:null,themeId:null,memberCount:0,isWarringForNameChangeable:function(){return this.memberCount>=h.COMMON.BASE_MEMBER_COUNT_FOR_DESCRIPTION},getMessageForNameChangeable:function(){return this.isWarringForNameChangeable()?IM("bandcreate.txt.notice.restrict_change"):IM("bandcreate.txt.notice.restrict_change.band_name")}}},onRender:function(){this._initImageUploader(),this.ui.btnConfirm.removeClass("-disabled"),this.ui.btnConfirm.addClass("-confirm")},onAttach:function(){var e=[];e.push(this._setupDefualtCoversPanel()),e.push(this._setupBandInfomation()),t.when.apply(t,e).then(i.bind((function(){this.render()}),this))},_setupBandInfomation:function(){return c.getBandInformation({band_no:this._bandNo}).then(i.bind((function(e){var t=e.band;this.bandInfo.name=t.name,this.bandInfo.themeVal=u.findVal(t.theme_color),this.bandInfo.themeId=t.theme_color,this.bandInfo.coverUrl=t.cover,this.bandInfo.memberCount=t.member_count}),this))},_setupDefualtCoversPanel:function(){return c.getBandCoverUrls().then(i.bind((function(e){var t=i.shuffle(e.cover_urls);this.defualtCoversPanel.coverSet=i.map(t,(function(e,n){if(n%7==0){var i=t.slice(n,n+7),a=7-i.length;if(a>0)for(;a>0;)i.push(""),a--;return i}})).filter((function(e){return e})),this.defualtCoversPanel.panelsCnt=this.defualtCoversPanel.coverSet.length}),this))},onBeforeDetach:function(){this._bandCreateUploader&&this._bandCreateUploader.destroy()},_initImageUploader:function(){this._bandCreateUploader&&this._bandCreateUploader.destroy(),this._bandCreateUploader=l.createBandCoverImageUploader(this.ui.coverImageUploader,{skinColor:this.bandInfo?this.bandInfo.themeVal:null}),this.listenTo(this._bandCreateUploader,_.SELECT_FILES,(function(e){this._bandCreateUploader.loadFileReaderResize(e.files[0]).then(i.bind((function(e){var t={title:IM("web.upload.title.band_cover_image"),cropOptions:{aspectRatio:640/480}},n=b.build(e,t);this.listenTo(n,"crop:complete",(function(e){n.destroy(),f.uploadDataUriImage(e).then(i.bind((function(e){if(i.isEmpty(e))return!1;this._setCoverImage(e)}),this))})),this.listenTo(n,"crop:cancel",(function(){n.destroy()}),this)}),this))}))},_setCoverImage:function(e){if(e.url){var t=e.url;this.ui.defaultCovers.removeClass("on"),this.ui.selectedCover.data("cover",t),this.ui.selectedCover.attr("src",r.makeCoverUrl(t))}},_confirmBandNameValidation:function(e){return a.isBlank(e)?(alert(IM("web.bandcreate.input.message")),this.ui.inputBandName.focus(),!1):!this._hasEmojiValidation(e)||(alert(IM("bandcreate.validation.emoji.msg")),this.ui.inputBandName.focus(),!1)},_updateBand:function(){var e=t.trim(this.ui.inputBandName.val());if(!this._confirmBandNameValidation(e))return!1;var n={bandNo:this._bandNo,name:e,coverUrl:this.ui.selectedCover.data("cover")};if(!0===this._waitingRequest)return!1;this._waitingRequest=!0,c.setBandInfo(n).then(i.bind((function(){o.LFG_BAND_SETTING.goDForced({band_no:this._bandNo})}),this)).fail(i.bind((function(){this._waitingRequest=!1}),this))},_hasEmojiValidation:function(e){return i.some(e,(function(t,n){return!m.isCharacterInBMP(e,n)}))}});return v.buildDRecruitingBandNameCoverUpdateView=function(e){return new v({bandNo:e})},v}.call(t,n,t,e))||(e.exports=i)},3178:function(e,t){e.exports='<section class="bandMake gPat37">\n    <form action="" class="_form">\n        <fieldset>\n            <legend class="gSrOnly"><%= pageTitle %></legend>\n            <div class="makeCover">\n                <h2 class="title"><%= IM(\'bandcreate.txt.input_band_name\') %></h2>\n                <div class="uInput -simpleLine inputBand">\n                    <label class="gSrOnly" for="ex_name"><%= IM(\'bandcreate.txt.alert.no_band_name\') %></label>\n                    <input value="<%- bandInfo.name %>" type="text" class="_inputBandName" id="ex_name" maxlength="<%-maxNameLength%>" placeholder="<%= IM(\'bandcreate.txt.alert.no_band_name\') %>">\n                </div>\n                <div class="desc">\n                    <p><%= bandInfo.getMessageForNameChangeable() %> <% if(bandInfo.isWarringForNameChangeable()) { %><a href="/cs/help/detail/643"><%= IM("bandsetting.txt.restrict_change.more_info") %></a><% } %></p>\n                </div>\n\n                <div class="coverSelect">\n                    <div class="mainCover">\n                        <span class="cover">\n                            <% if(bandInfo.coverUrl) { %>\n                            <img data-cover="<%- bandInfo.coverUrl %>" src="<%- ThumbnailUtil.makeCoverUrl(bandInfo.coverUrl) %>" class="_selectedCover coverImg" width="300" height="225" alt="">\n                            <% } %>\n                        </span>\n                    </div>\n                    <div class="coverList">\n                        <div class="head">\n                            <h3><%= IM(\'bandcreate.cover.settiong.label\') %></h3>\n                            <div class="navi">\n                                <span class="paging"><strong class="_defaultCoversPanelCurrentNum">1</strong>/<%= coverSet.length %></span>\n                                <span class="btnArea">\n                                    <button class="prev _defaultCoversPanelNavPrev"></button>\n                                    <button class="next _defaultCoversPanelNavNext"></button>\n                                </span>\n                            </div>\n                        </div>\n\n                        <ul class="list">\n                            <li>\n                                <span class="changeCover _coverImageUploader">\n                                    <span><%= IM(\'photo.add_photo\') %></span>\n                                    <input type="file" class="imageUpload">\n                                </span>\n                            </li>\n                            <% _.each(coverSet, function(covers, idx) {\n                                   var display = (idx == 0)? "":"display:none";\n                            %>\n                            <% _.each(covers, function(cover) {\n                                   var selected = (bandInfo.coverUrl === cover)? \'on\' : \'\';\n                            %>\n                            <li class="_coverSet_<%= idx %>" style="<%= display %>">\n                                <% if(cover) { %>\n                                <a href="#" data-cover="<%- cover %>" class="_defaultCovers cover <%= selected %>">\n                                    <img class="coverImg" src="<%- ThumbnailUtil.makeMediumCoverUrl(cover) %>" width="120" height="90" alt="">\n                                    <span class="mask"></span>\n                                </a>\n                                <% } else { %>\n                                <span class="cover"></span>\n                                <% } %>\n                            </li>\n                                <% }); %>\n                            <% }); %>\n                        </ul>\n                    </div>\n                </div>\n                <div class="makeNoticeArea">\n                    <p class="makeNoticeText"><%- IM(\'bandcreate.notice.message\') %></p>\n                </div>\n            </div>\n            <div class="btnFooter">\n                <button type="button" class="_btnCancel uButton -sizeXL -cancel"><%= IM("ui.label.cancel") %></button>\n                <button type="submit" class="_btnConfirm uButton -sizeXL -disabled"><%= IM("ui.label.complete") %></button>\n            </div>\n        </fieldset>\n    </form>\n</section>'},3179:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(157),s=n(3180),o=n(3181),r=n(1107),l=n(13),c=n(54),d=n(186),u=n(2074),h=n(801),p=n(3185),_=n(567),m=n(498),g=n(499),b=n(488),f=n(154),v=n(1003),C=n(9),y=i.View.extend({options:{detail:""},tagName:"section",addClass:"myInfo",attributes:{"data-viewname":"DSettingHomeItemView"},getTemplate:function(){return this._dataFetched?t.template(s):t.template(m)},templateContext:function(){return this._dataFetched?{supportLanguages:this._supportLanguages(),dayOfWeekList:this._makeDayOfWeekList(),currentLanguage:l.getUserData().getPcWebLanguage(),settingTranslationUrl:a.GLOBAL_SETTING_TRANSLATION.makeUrl(),myGuardianshipUrl:a.GLOBAL_MY_GUARDIANSHIP.makeUrl(),loginAuthenticationAndBlockingUrl:a.GLOBAL_SETTING_LOGIN_VERIFICATION.makeUrl(),connectedInfoUrl:a.GLOBAL_SETTING_CONNECTED_DEVICE.makeUrl(),prohibitChattingUrl:a.GLOBAL_SETTING_PROHIBIT_CHATTING.makeUrl(),mutedMemberListUrl:a.GLOBAL_SETTING_MUTED_MEMBER_LIST.makeUrl(),loginHistoryUrl:a.GLOBAL_SETTING_LOGIN_HISTORY.makeUrl(),linkFeedSettingUrl:a.GLOBAL_SETTING_FEED.makeUrl(),serviceUseAgreementUrl:a.GLOBAL_SETTING_SERVICE_USE_AGREEMENT.makeUrl(),isNotKid:l.isNotKid(),isUS:C.isUSACountryCode()}:{_loading_size:g.Size.MEDIUM,middleClass:b.ELEMENT.AREA_VERTICAL_MIDDLE}},ui:{btnWithdrawal:"._btnWithdrawal",btnSaveLanguage:"._btnSaveLanguage",selectLanguage:"._selectLanguage",messageSendKeySetting:"._btnMessageSendKeySetting",btnVideoPlaySetting:"._btnVideoPlaySetting",btnSaveStartDayOfWeek:"._btnSaveStartDayOfWeek",selectStartDayOfWeek:"._selectStartDayOfWeek"},events:{"click @ui.btnWithdrawal":function(e){e.preventDefault(),o.buildAsLayer()},"click @ui.btnSaveLanguage":function(){this._saveLanguage()},"click @ui.messageSendKeySetting":function(){u.openAsLayer(h.MESSAGE_SEND_KEY.VIEW_TYPE.SETTING_HOME)},"click @ui.btnVideoPlaySetting":function(){p.openDSettingVideoPlayModalView()},"click @ui.btnSaveStartDayOfWeek":function(){this._saveStartDayOfWeek()}},onDomRefresh:function(){this._dataFetched&&"video_play"===this.options.detail&&p.openDSettingVideoPlayModalView()},onAttach:function(){f.wrapActivePromise(v.getCachedStartDayOfWeek(),this).then(t.bind((function(e){this._startDayOfWeek=e,this._dataFetched=!0,this.render()}),this))},_supportLanguages:function(){return t.map(r.BAND_LANGUAGE)},_makeDayOfWeekList:function(){return t.chain(t.values(_.getAllDaysOfWeek())).map((function(e){return{text:e.getLocalizedText(),apiValue:e.getApiValue(),selected:this._startDayOfWeek==e}}),this).value()},_saveLanguage:function(){var e=this.ui.selectLanguage.val();c.setPcwebLanguage(e).then(t.bind((function(){d.setLanguage(e),window.location.reload()}),this))},_saveStartDayOfWeek:function(){v.changeStartDayOfWeek(this.ui.selectStartDayOfWeek.val()).then((function(){a.GLOBAL_SETTING.goDForced()}))}});return y.build=function(e){return new y(e)},y}.call(t,n,t,e))||(e.exports=i)},3180:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM("web.more.menu.settings") %></h1>\n\n    <div class="sectionBox mySettingBox">\n        <% // 일반 %>\n        <div class="uTableList infoTable">\n            <div class="row">\n                <h2 class="cell groupLabel"><%- IM("web.setting.home.txt.general") %></h2>\n                <div class="cell">\n                    <% if(isNotKid) { %>\n                    <div class="uTableList -topAlign">\n                        <div class="row no-border">\n                            <span class="cell label"><%- IM("feed.setting.title") %></span>\n                            <span class="cell btn"><a href="<%- linkFeedSettingUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </div>\n                    </div>\n                    <% } %>\n                    <div class="uTableList -topAlign">\n                        <div class="row no-border">\n                            <span class="cell label"><%- IM(\'setting.translation.title\') %></span>\n                            <span class="cell btn"><a href="<%- settingTranslationUrl %>" class="uButton -sizeS -confirm2"><%- IM(\'ui.label.view\') %></a></span>\n                        </div>\n                    </div>\n                    <div class="uTableList -topAlign">\n                        <div class="row no-border">\n                            <span class="cell label"><%- IM("setting.video_play.title") %></span>\n                            <span class="cell btn"><button type="button" class="uButton -sizeS -confirm2 _btnVideoPlaySetting"><%- IM("ui.label.view") %></button></span>\n                        </div>\n                    </div>\n                    <div class="uTableList -topAlign">\n                        <div class="row no-border">\n                            <div class="cell label" style="width: auto">\n                                <span class="labelNameAdd gMat7 gMar21"><%- IM("calendar.start_day_of_week") %></span>\n                                <span class="uSelect -bg">\n                                    <select class="_selectStartDayOfWeek" title="<%- IM("calendar.start_day_of_week") %>" style="width:148px;">\n                                    <% _.each(dayOfWeekList, function(eachDayOfWeek) { %>\n                                    <option value="<%- eachDayOfWeek.apiValue %>"<% if(eachDayOfWeek.selected) { %> selected="selected"<% } %>><%- eachDayOfWeek.text %></option>\n                                    <% }); %>\n                                    </select>\n                                </span>\n                            </div>\n\n                            <span class="cell btn"><button class="uButton -sizeS -confirm2 _btnSaveStartDayOfWeek"><%- IM(\'web.setting.language.btn.accept_language\') %></button></span>\n                        </div>\n                    </div>\n                    <div class="uTableList -topAlign">\n                        <div class="row no-border">\n                            <span class="cell label"><%- IM("setting.home.message_send_key.title") %></span>\n                            <span class="cell btn"><button type="button" class="uButton -sizeS -confirm2 _btnMessageSendKeySetting"><%- IM("ui.label.change") %></button></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <% // 프라이버시 %>\n        <div class="uTableList infoTable">\n            <div class="row">\n                <h2 class="cell groupLabel"><%- IM("web.setting.home.txt.privacy") %></h2>\n                <div class="cell">\n                    <ul class="uTableList -topAlign">\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("setting.connected_info") %></span>\n                            <span class="cell btn"><a href="<%- connectedInfoUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("setting.login_verification") %></span>\n                            <span class="cell btn"><a href="<%- loginAuthenticationAndBlockingUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("web.setting.home.btn.prohibit_chatting") %></span>\n                            <span class="cell btn"><a href="<%- prohibitChattingUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label"><%= IM(\'web.setting.muted_member_list.title\') %></span>\n                            <span class="cell btn"><a href="<%- mutedMemberListUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        \x3c!--보호 관계 설정--\x3e\n        <div class="uTableList infoTable">\n            <div class="row">\n                <h2 class="cell groupLabel"><%- IM("my_page.guardianship.title") %></h2>\n                <div class="cell">\n                    <ul class="uTableList -topAlign">\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("my_page.guardianship.title") %></span>\n                            <span class="cell btn"><a href="<%- myGuardianshipUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        <% // 고객지원 %>\n        <div class="uTableList infoTable">\n            <div class="row">\n                <h2 class="cell groupLabel"><%- IM("web.setting.home.txt.customer_support") %></h2>\n                <div class="cell">\n                    <ul class="uTableList -topAlign">\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("web.setting.home.btn.terms_of_service") %></span>\n                            <span class="cell btn"><a href="/policy/terms" class="uButton -sizeS -confirm2" target="_blank"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("web.setting.home.btn.privacy_notice") %></span>\n                            <%  if(!isNotKid && isUS) { %>\n                            <span class="cell btn"><a href="/policy/coppa-privacy" class="uButton -sizeS -confirm2" target="_blank"><%- IM("ui.label.view") %></a></span>\n                            <% } else { %>\n                            <span class="cell btn"><a href="/policy/privacy" class="uButton -sizeS -confirm2" target="_blank"><%- IM("ui.label.view") %></a></span>\n                            <% } %>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("setting.service_use_agreement.title") %></span>\n                            <span class="cell btn"><a href="<%- serviceUseAgreementUrl %>" class="uButton -sizeS -confirm2"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM("web.setting.home.btn.help") %></span>\n                            <span class="cell btn"><a href="/cs/help" class="uButton -sizeS -confirm2" target="_blank"><%- IM("ui.label.view") %></a></span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        <% // 언어 설정 %>\n        <div class="uTableList infoTable">\n            <div class="row">\n                <span class="cell groupLabel">&nbsp;</span>\n                <div class="cell">\n                    <ul class="uTableList -topAlign">\n                        <li class="row no-border">\n                            <span class="cell label"><%- IM(\'web.setting.home.btn.language\') %></span>\n                            <div class="cell content">\n                                <div class="uSelect -bg">\n                                    <select class="_selectLanguage" title="<%- IM(\'web.setting.home.btn.language\') %>" style="width:148px;">\n                                        <% _.each(supportLanguages, function(language) { %>\n                                        <option value="<%- language.VALUE %>"<% if(language.VALUE == currentLanguage) { %> selected="selected"<% } %>><%- language.LABEL %></option>\n                                        <% }); %>\n                                    </select>\n                                </div>\n                            </div>\n                            <span class="cell btn"><a href="#" class="uButton -sizeS -confirm2 _btnSaveLanguage"><%- IM(\'web.setting.language.btn.accept_language\') %></a></span>\n                        </li>\n                        <li class="row no-border">\n                            <span class="cell label gWsNr"><%- IM("web.setting.home.btn.withdraw") %></span>\n                            <span class="cell content"></span>\n                            <span class="cell btn"><button type="button" class="uButton -sizeS -confirm2 _btnWithdrawal"><%- IM("setting.withdrawal.release.label") %></button></span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>'},3181:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=(n(186),n(54)),s=n(3182),o=n(486),r=n(170),l=n(3183),c=i.View.extend({attributes:{"data-viewname":"DWithdrawalItemView"},template:t.template(s),ui:{btnCancel:"._btnCancel",checkBandAccountDel:"._checkBandAccountDel",btnWithdrawal:"._btnWithdrawal"},events:{"click @ui.btnCancel":"destroy","click @ui.btnWithdrawal":function(){this._withdrawal()},"change @ui.checkBandAccountDel":function(){var e=this.ui.checkBandAccountDel.prop("checked");this.ui.btnWithdrawal.toggleClass("uButtonPoint3",e).toggleClass("-cancel",!e).attr("disabled",!1)}},_withdrawal:function(){return this.ui.checkBandAccountDel.is(":checked")?!!confirm(IM("web.noui.confirm.last_withdrawal_message"))&&(a.deleteUser().then((function(){r.goLogoutPage()})).fail((function(e){1001===e.result_code&&l.buildAsLayer()})),!1):(alert(IM("web.noui.alert.withdrawal_agreement")),!1)}});return c.buildAsLayer=function(){o.open(new c)},c}.call(t,n,t,e))||(e.exports=i)},3182:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("web.setting.withdrawal.btn.withdraw_service") %></h1>\n        </header>\n        <div class="main">\n            <p class="p point"><strong><%= IM("withdrawal_guide.desc.text01") %></strong></p>\n            <div class="p -fs13">\n                <p class="p"><%= IM("withdrawal_guide.desc.text02_1") %></p>\n                <p class="p"><%= IM("withdrawal_guide.desc.text03") %></p>\n            </div>\n            <dl class="p -fs13 -tSpace">\n                <dt><strong><%= IM("withdrawal_guide.desc.text04") %></strong></dt>\n                <dd><%= IM("withdrawal_guide.desc.text05") %></dd>\n                \x3c!--<dd>탈퇴하고 싶은 밴드로 먼저 들어가셔서<br>--\x3e\n                    \x3c!--<span class="underline">[설정 &gt; 나가기 &gt; 밴드탈퇴]</span> 를 선택하세요.--\x3e\n                \x3c!--</dd>--\x3e\n            </dl>\n            <div class="selectArea">\n                <label for="desc1" class="uCheck -checkbox ">\n                    <input type="checkbox" id="desc1" class="checkInput _checkBandAccountDel">\n                    <span class="checkLabel">\n                        <span class="shape"></span>\n                        <span class="text"><%= IM("web.setting.withdrawal.txt.withdrawal_agree_confirm") %></span>\n                    </span>\n                </label>\n            </div>\n        </div>\n        <footer class="footer">\n            <button type="button" class="uButton -cancel _btnCancel"><%= IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -alert _btnWithdrawal"><%= IM("web.setting.withdrawal.btn.withdraw_service") %></button>\n        </footer>\n    </div>\n</section>'},3183:function(e,t,n){var i,a;i=[n(2),n(4),n(3184),n(54),n(170),n(486)],void 0===(a=function(e,t,n,i,a,s){var o=t.View.extend({template:_.template(n),templateContext:{},attributes:{"data-viewname":"DWithdrawalMootView"},ui:{btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",checkInput:"._checkInput"},events:{"click @ui.btnConfirm":"_doDeny","click @ui.btnCancel":"destroy","change @ui.checkInput":"_toggleEnabled"},_toggleEnabled:function(){this.ui.checkInput.is(":checked")?this.ui.btnConfirm.removeAttr("disabled"):this.ui.btnConfirm.attr("disabled",!0)},_doDeny:function(){if(this.ui.checkInput.is(":checked")){i.deleteUser({force:!0}).then((function(){a.goLogoutPage()}))}}});return o.buildAsLayer=function(){s.open(new o)},o}.apply(t,i))||(e.exports=a)},3184:function(e,t){e.exports='<section class="lyWrap">\n\t<div class="lyContent">\n\t\t<header class="header -noTitlebar">\n\t\t\t<h1 class="title"><%= IM("leave_band_service.label") %></h1>\n\t\t</header>\n\t\t<div class="main">\n\t\t\t<p class="p"><%= IM("delete_account_with_moot.description") %></p>\n\t\t\t<div class="selectArea">\n\t\t\t\t<label for="checkbox" class="uCheck -checkbox">\n\t\t\t\t\t<input type="checkbox" id="checkbox" class="checkInput _checkInput">\n\t\t\t\t\t<span class="checkLabel">\n                        <span class="shape "></span>\n                        <span class="text"><%= IM("deny_invitation.label.checked") %></span>\n                    </span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t\t<footer class="footer">\n\t\t\t<button type="button" class="uButton -cancel _btnCancel"><%= IM("ui.label.cancel") %></button>\n\t\t\t<button type="button" class="uButton -confirm _btnConfirm" disabled><%= IM("ui.label.delete") %></button>\n\t\t</footer>\n\t</div>\n</section>'},3185:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3186),s=n(486),o=n(13),r=n(209),l=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DSettingVideoPlayModalView"},template:t.template(a),ui:{btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",videoAutoplay:"#videoAutoplay"},events:{"click @ui.btnConfirm":"_onClickBtnConfirm","click @ui.btnCancel":"_onClickCancel"},serializeData:function(){return{videoAutoplay:this.model.isVideoAutoPlay()}},_onClickCancel:function(){this.destroy()},_onClickBtnConfirm:function(){var e={};e[r.Configs.VIDEO_AUTOPLAY]=this.getUI("videoAutoplay").val(),this.model.saveUserConfigs(e),this.destroy()}});return l.openDSettingVideoPlayModalView=function(){var e=new l({model:o.getUserConfig()});return s.open(e),e},l}.call(t,n,t,e))||(e.exports=i)},3186:function(e,t){e.exports='<div class="lyContent -w340">\n    <header class="header">\n        <h1 class="title"><%- IM("setting.video_play.title") %></h1>\n    </header>\n    <div class="main -tSpaceNone">\n        <ul class="listLine">\n            \x3c!--<li class="flexList -tbSpace15 tLine">--\x3e\n            \x3c!--<label for="memberContact" class="text">화질 설정</label>--\x3e\n            \x3c!--<div class="etc">--\x3e\n            \x3c!--<div class="uSelect" style="min-width:122px">--\x3e\n            \x3c!--<select id="memberContact">--\x3e\n            \x3c!--<option>표준품질</option>--\x3e\n            \x3c!--<option>고품질</option>--\x3e\n            \x3c!--</select>--\x3e\n            \x3c!--</div>--\x3e\n            \x3c!--</div>--\x3e\n            \x3c!--</li>--\x3e\n            <li class="flexList -tbSpace15 tLine">\n                <label for="videoAutoPlay" class="text"><%- IM(\'setting.video_play.autoplay.label\') %></label>\n                <div class="etc">\n                    <div class="uSelect" style="min-width:122px">\n                        <select id="videoAutoplay" name="videoAutoplay">\n                            <option class="checkInput _checkInput" value="true" <% if(videoAutoplay) { %>selected<% } %>><%- IM("setting.select.use") %></option>\n                            <option value="false" <% if(!videoAutoplay) { %>selected<% } %>><%- IM("setting.select.unuse") %></option>\n                        </select>\n                    </div>\n                </div>\n            </li>\n        </ul>\n        <p class="sDesc gPat12 -tLine"><%-IM(\'setting.video_play.desc.setting_coverage\') %></p>\n\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton -cancel _btnCancel"><%- IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _btnConfirm"><%- IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3187:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3188),s=n(157),o=n(535),r=n(1157),l=n(13),c=n(187),d=i.View.extend({tagName:"div",attributes:{"data-viewname":"DSettingLeftMenuView"},ui:{profileLink:"._profileLink",noticeLink:"._noticeLink",helpLink:"._helpLink",cookieLink:"._cookieLink",csHelpUrl:"._noticeLink",emailAlarmLink:"._emailAlarmLink",settingLink:"._settingLink",findingInvitationLink:"._findingInvitationLink",bandLabLink:"._bandLabLink"},template:t.template(a),templateContext:{aboutBandUrl:"https://"+window.aboutDomain,learningCenterUrl:"https://"+window.aboutDomain+"/learning",canShowAboutMenu:c.canShowAboutMenuInSettingLnb()},serializeData:function(){var e=l.isKid();return{isLogin:l.isLogedIn(),csNoticeUrl:s.GLOBAL_NOTICE.makeUrl(),csHelpUrl:s.GLOBAL_HELP.makeUrl(),cookiePreferenceUrl:s.GLOBAL_COOKIE_PREFERENCE.makeUrl(),settingUrl:s.GLOBAL_SETTING.makeUrl(),emailAlarmUrl:s.GLOBAL_EMAIL_ALARM.makeUrl(),findingInvitationUrl:s.GLOBAL_FINDING_INVITATION.makeUrl(),bandLabUrl:window.isInHouseNetwork?s.GLOBAL_SETTING_LAB.makeUrl():null,facebookUrl:r.makeLink("FACEBOOK")||r.LINKS.FACEBOOK.en,blogUrl:r.makeLink("BLOG")||r.LINKS.BLOG.en,itunesLink:o.makeMarketUrl(e,o.MARKET_TYPE.IOS),googlePlayStoreLink:o.makeMarketUrl(e,o.MARKET_TYPE.ANDROID)}},initialize:function(e){this.activeMenuName=e.activeMenuName},onAttach:function(){this.ui[this.activeMenuName+"Link"].parent().toggleClass("-active")}});return d.build=function(e){return new d({activeMenuName:e})},d}.call(t,n,t,e))||(e.exports=i)},3188:function(e,t){e.exports='    <nav class="sideNav gContentCardShadow" data-uiselector="leftMenuNavigation">\n        <ul>\n            <li><a href="<%- csNoticeUrl %>" class="_noticeLink"><span><%- IM("ui.label.notice.title.plural") %></span></a></li>\n            <li><a href="<%- csHelpUrl %>" class="_helpLink"><span><%- IM("cs.help.title") %></span></a></li>\n            <li><a href="<%- cookiePreferenceUrl %>" class="_cookieLink"><span><%= IM("cookie.preference.title") %></span></a></li>\n            <% if(isLogin){ %>\n            <li><a href="<%- settingUrl %>" class="_settingLink"><span><%- IM("web.more.menu.settings") %></span></a></li>\n            <li><a href="<%- emailAlarmUrl %>" class="_emailAlarmLink"><span><%- IM("alarm.email.setting") %></span></a></li>\n            <li><a href="<%- findingInvitationUrl %>" class="_findingInvitationLink"><span><%- IM("more.menu.input_invitation_code") %></span></a></li>\n            <% if (!!bandLabUrl) { %>\n            <li><a href="<%- bandLabUrl %>" class="_bandLabLink"><span>실험실</span></a></li>\n            <% } %>\n            <% } %>\n            <% if (canShowAboutMenu) { %>\n            <li><a href="<%- aboutBandUrl %>" target="_blank"><span><%- IM("web.about.band.menu.aboutband") %></span></a></li>\n            <li><a href="<%- learningCenterUrl %>" target="_blank"><%- IM("web.about.band.menu.learningcenter") %></a></li>\n            <% } %>\n        </ul>\n    </nav>\n\n    <ul class="app">\n        <li>\n            <a href="<%- itunesLink %>" target="_blank" class="appStore">App store</a>\n        </li>\n        <li>\n            <a href="<%- googlePlayStoreLink %>" target="_blank" class="googlePlay">Google Play</a>\n        </li>\n    </ul>'},3189:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1584),s=n(3190),o=n(2096),r=n(3192),l=n(13),c=n(1759),d=n(1526),u=n(157),h=i.View.extend({attributes:{"data-viewname":"DConnectedDeviceSettingLayoutView"},template:t.template(r),templateContext:{connectedDeviceInfoUrl:u.GLOBAL_SETTING_CONNECTED_DEVICE.makeUrl(),loginHistoryUrl:u.GLOBAL_SETTING_LOGIN_HISTORY.makeUrl()},ui:{deviceListContainer:"[data-uiselector=deviceListContainer]",currentDeviceContainer:"[data-uiselector=currentDeviceContainer]",emptyMsg:"[data-uiselector=emptyMsg]",passwordResetInfo:"._passwordResetInfo"},events:{"click @ui.passwordResetInfo":"_passwordReset"},regions:{deviceListContainer:{el:"@ui.deviceListContainer",replaceElement:!0},currentDeviceContainer:"@ui.currentDeviceContainer"},collectionEvents:{reset:"_showMessageIfEmpty"},onAttach:function(){this.getUI("emptyMsg").hide(),this.collection.fetchLoggedInDevices().then(t.bind((function(){this.collection.size()>0&&this.showChildView("deviceListContainer",new s({collection:this.collection})),this.showChildView("currentDeviceContainer",new o({model:this.collection.currentDevice}))}),this))},_showMessageIfEmpty:function(){this.getUI("emptyMsg").toggle(0===this.collection.size())},_passwordReset:function(e){e.preventDefault(),l.getUserData().isPasswordExist()?c.buildAsLayer():d.buildAsLayer()}});return h.build=function(){return new h({collection:new a})},h}.call(t,n,t,e))||(e.exports=i)},3190:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1584),s=n(2096),o=n(510),r=n(13),l=n(158),c=n(157),d=i.CollectionView.extend({tagName:"ul",className:"deviceList",attributes:{"data-viewname":"DConnectedOtherDeviceSettingListView"},childView:s,childViewEvents:{"disconnect:device":function(e){var n=IM("web.setting.connecteddevice.btn.disconnect"),i="[ "+e.getDeviceDetail()+" ]<br><br>"+IM("web.noui.confirm.disconnect_device"),a=1===this.collection.size()&&this._hasNotAnotherAuthMethod();a&&(n=IM("web.setting.disconnectdevice.txt.email_registration_title"),i=IM("web.setting.disconnectdevice.txt.disconnect_device_guide")),o.openLayer({headerTitle:n,bodyDesc:i}).once(o.EVENTS.CONFIRM,t.bind((function(){a?c.GLOBAL_MY_PROFILE.goDForced():this.collection.removeLoggedInDevice(e)}),this))}},_hasNotAnotherAuthMethod:function(){var e=r.getUserData();return!(!l.isEmpty(e.getNaverId())||!l.isEmpty(e.getFacebookUserId())||!l.isEmpty(e.getEmail())&&e.isEmailVerified())}});return d.build=function(){return new d({collection:new a})},d}.call(t,n,t,e))||(e.exports=i)},3191:function(e,t){e.exports='<span class="cell content">\n    <strong class="deviceName">[<%- loginDeviceCategory.toUpperCase() %>] <%- deviceDetail %></strong>\n    <% if (isTrustedDevice) { %>\n    <span class="authDesc"><%= IM(\'setting.connecteddevice.txt.auth2faDesc\') %></span>\n    <% } %>\n    <em class="connectInfo"><%= IM("web.setting.connecteddevice.txt.recent_access_date") %> : <%= updatedAt %><br>\n    <%= IM("web.setting.connecteddevice.txt.registered_date") %> : <%= createdAt %></em>\n</span>\n\n<% if (!isCurrentDevice) { %>\n<span class="cell btn">\n    <button type="button" class="uButton -sizeS -confirm3" data-uiselector="btnDisconnect"><%= IM("web.setting.connecteddevice.btn.disconnect") %></button>\n</span>\n<% } else { %>\n<span class="cell btn"></span>\n<% } %>\n'},3192:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%= IM(\'setting.connected_info\') %></h1>\n\n    <ul class="uTabNav">\n        <a href="<%- connectedDeviceInfoUrl %>" class="btn -settings -on"><%- IM(\'web.setting.home.btn.connected_device\') %></a>\n        <a href="<%- loginHistoryUrl %>" class="btn -settings"><%- IM(\'web.setting.home.btn.login_history\') %></a>\n    </ul>\n\n    <p class="topDesc">\n        <%- IM("web.setting.device_info.other_connected_device.rest_password_desc") %><br>\n        <a href="#" role="button" class="_passwordResetInfo"><%- IM("web.setting.device_info.other_connected_device.rest_password_text") %></a>\n    </p>\n\n    <div class="sectionBox">\n        <div class="uTableList infoTable">\n            <div class="row">\n                <h2 class="cell groupLabel"><%= IM("web.setting.device_info.active_connected_device") %></h2>\n                <div class="cell">\n                    <ul class="deviceList" data-uiselector="currentDeviceContainer"></ul>\n                </div>\n            </div>\n        </div>\n\n        <div class="uTableList infoTable">\n            <div class="row">\n                <h2 class="cell groupLabel"><%= IM("web.setting.device_info.other_connected_device") %></h2>\n                <div class="cell">\n                    <div class="deviceList" data-uiselector="deviceListContainer"></div>\n                </div>\n            </div>\n        </div>\n\n        <p data-uiselector="emptyMsg" class="uEmpty"><span><%= IM("web.setting.connecteddevice.empty.msg") %></span></p>\n    </div>\n</section>'},3193:function(e,t){e.exports='<% // 태그 라인 변경하지 말아주세요. CSS에서 뷰 스타일링에 사용합니다. %>\n<aside id="asideWrap" data-uiselector="regionLeftAsideContent"></aside>\n<main id="content" data-uiselector="regionContent" role="main"></main>'},3194:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3195),s=n(3197),o=n(3198),r=i.CompositeView.extend({attributes:{"data-viewname":"DProhibitChattingCompositeView"},template:t.template(s),ui:{emptyMsg:"[data-uiselector=emptyMsg]",prohibitChattingListContainer:"[data-uiselector=prohibitChattingListContainer]"},childView:o,childViewContainer:"@ui.prohibitChattingListContainer",childViewEvents:{"unblock:member":function(e){var n=e.model;this.collection.unblockMember(n).then(t.bind((function(){alert(IM("setting.prohibit_chatting.release.success")),this._showMessageIfEmpty()}),this))}},events:{},initialize:function(){},onAttach:function(){this.ui.emptyMsg.hide(),this.collection.fetchProhibitChattingMembers().then(t.bind(this._showMessageIfEmpty,this))},_showMessageIfEmpty:function(){0===this.collection.size()&&this.ui.emptyMsg.show()}});return r.build=function(){return new r({collection:new a([])})},r}.call(t,n,t,e))||(e.exports=i)},3195:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(6),a=n(54),s=n(519),o=n(3196);return i.Collection.extend({model:function(e,t){return new o(e,{parse:!0})},initialize:function(){},fetchProhibitChattingMembers:function(){return a.getProhibitChattingMembers().then(t.bind((function(e){this.reset(e)}),this))},unblockMember:function(e){var n={band_no:e.get("band_no"),blocked_user_no:e.get("user_no")};return s.SettingApi.unblock(n).then(t.bind((function(){this.remove(e)}),this))}})}.call(t,n,t,e))||(e.exports=i)},3196:function(e,t,n){var i;void 0===(i=function(e){var t=n(6),i=n(82);return t.Model.extend({idAttribute:"user_no",parse:function(e,t){if(_.isEmpty(e))return e;var n={};return n.thumbnailProfileImage=i.makeProfileThumbnailUrl(e.profile_image_url),n.profileInnerClass=i.makeProfileInnerClass(n.thumbnailProfileImage),_.extend(e,n)},initialize:function(){}})}.call(t,n,t,e))||(e.exports=i)},3197:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%= IM(\'web.setting.home.btn.prohibit_chatting\') %></h1>\n\n    <div class="sectionBox">\n        <ul data-uiselector="prohibitChattingListContainer" class="cMemberList" data-type="type3"></ul>\n\n        <p data-uiselector="emptyMsg" class="uEmpty"><span><%= IM(\'setting.prohibit_chatting.data.empty.msg\') %></span></p>\n    </div>\n</section>'},3198:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3199);return i.View.extend({attributes:{"data-viewname":"DProhibitChattingItemView"},tagName:"li",className:"uFlexItem",template:t.template(a),ui:{btnUnblock:"[data-uiselector=btnUnblock]",emptyMsg:"[data-uiselector=emptyMsg]"},events:{"click @ui.btnUnblock":function(e){e.stopPropagation(),this._unblock(e)}},_unblock:function(e){this.triggerMethod("unblock:member",this)}})}.call(t,n,t,e))||(e.exports=i)},3199:function(e,t){e.exports='<a href="#" role="button" class="uProfile -size40 -border">\n    <span class="profileInner <%- profileInnerClass %>">\n        <img src="<%- thumbnailProfileImage %>" alt="<%- name %>">\n    </span>\n</a>\n<span class="body">\n    <span class="flex">\n        <span class="text -ellipsis"><%- name %></span>\n    </span>\n    <span class="subText -ellipsis"><%- band_name %></span>\n</span>\n<span class="etc">\n    <button data-uiselector="btnUnblock" type="button" class="uButton -sizeS -confirm2" data-width="xSmall" data-height="middle"><%= IM("setting.prohibit_chatting.release.label") %></button>\n</span>'},3200:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(4),s=n(16),o=n(9),r=n(499),l=n(498),c=n(157),d=n(521),u=n(1716),h=n(510),p=n(562),_=n(3201),m=n(1555),g=n(13),b=a.View.extend({attributes:{"data-viewname":"DServiceUseAgreementView"},getTemplate:function(){return this._loading?t.template(_):t.template(l)},ui:{btnUseLocation:"._btnUseLocation",btnUseProfile:"._btnUseProfile",btnUseContacts:"._btnUseContacts",btnAgreeAdEmail:"._btnAgreeAdEmail"},events:{"click @ui.btnUseLocation":"_updateLocationAgreementState","click @ui.btnUseProfile":"_updateProfileAgreementState","click @ui.btnUseContacts":"_updateContactsAgreementState","click @ui.btnAgreeAdEmail":"_updateEmailNotificationState"},initialize:function(){this._loading=!1},serializeData:function(){return this._loading?{isUseLocation:this.personalInfoAgreementData.isLocationCollectable(),isUseProfile:this.personalInfoAgreementData.isGenderCollectable()||this.personalInfoAgreementData.isProfileImageCollectable(),isUseContacts:this.personalInfoAgreementData.isContactsCollectable(),isAgreedAdEmail:this.serviceUseNoticeModel.isAgreedAdEmail(),ccpaUrl:c.GLOBAL_SETTING_SERVICE_USE_AGREEMENT_CCPA.makeUrl(),isNotKid:g.isNotKid()}:{_loading_size:r.Size.MEDIUM}},onAttach:function(){var e=d.buildPersonalInfoAgreementData(),n=new u;return i.when(e.fetchAgreementData(),n.fetchServiceNoticeReceiving()).then(t.bind((function(e,t){this._loading=!0,this.personalInfoAgreementData=e,this.serviceUseNoticeModel=t,this.render()}),this))},_updateLocationAgreementState:function(){var e=this.personalInfoAgreementData.isLocationCollectable(),t={agreeTargets:[d.AGREE_TARGET.LOCATION],isCurrentlyUsed:e,noticeText:IM("setting.service_use_agreement.location.notice_text"),agreeAlarm:IM("setting.service_use_agreement.location.agree_alarm"),denyAlarm:IM("setting.service_use_agreement.location.deny_alarm"),fnAdaptUI:function(){this.getUI("btnUseLocation").prop("checked",e)}};this._updateAgreementStates(t)},_updateProfileAgreementState:function(){var e=this.personalInfoAgreementData.isGenderCollectable()||this.personalInfoAgreementData.isProfileImageCollectable(),t={agreeTargets:[d.AGREE_TARGET.PROFILE_IMAGE,d.AGREE_TARGET.GENDER],isCurrentlyUsed:e,noticeText:IM("setting.service_use_agreement.profile.notice_text"),agreeAlarm:IM("setting.service_use_agreement.profile.agree_alarm"),denyAlarm:IM("setting.service_use_agreement.profile.deny_alarm"),fnAdaptUI:function(){this.getUI("btnUseProfile").prop("checked",e)}};this._updateAgreementStates(t)},_updateContactsAgreementState:function(){var e=this.personalInfoAgreementData.isContactsCollectable(),t={agreeTargets:[d.AGREE_TARGET.CONTACTS],isCurrentlyUsed:e,noticeText:IM("setting.service_use_agreement.contacts.notice_text"),agreeAlarm:IM("setting.service_use_agreement.contacts.agree_alarm"),denyAlarm:IM("setting.service_use_agreement.contacts.deny_alarm"),fnAdaptUI:function(){this.getUI("btnUseContacts").prop("checked",e)}};this._updateAgreementStates(t)},_updateAgreementStates:function(e){var n=e.agreeTargets,i=e.isCurrentlyUsed,a=e.noticeText,s=e.agreeAlarm,o=e.denyAlarm,r=e.fnAdaptUI,l=!0;if(n&&!t.isEmpty(n)&&t.some(n,(function(e){return e!=d.AGREE_TARGET.LOCATION&&e!=d.AGREE_TARGET.CONTACTS||(l=!1),t.contains(t.values(d.AGREE_TARGET),e)})))if(i){var u=t.bind((function(e){this.personalInfoAgreementData.cancelPersonalInfoAgreements(n.join(","),e).then((function(){alert(o),window.location.reload()}),t.bind((function(e){if(e&&1003===e.result_code&&e.result_data&&e.result_data.message){var t=h.openLayer({bodyDesc:e.result_data.message,confirm:IM("ui.label.confirm"),cancel:IM("ui.label.cancel")});return this.listenTo(t,h.EVENTS.CONFIRM,(function(){u(!1)})),void this.listenTo(t,h.EVENTS.CANCEL,(function(){r.call(this)}))}e&&e.result_data&&e.result_data.message?alert(e.result_data.message):alert(IM("error.wrong_request")),r.call(this)}),this))}),this),p=h.openLayer({bodyDesc:a,confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")});p.once(h.EVENTS.CONFIRM,u),p.once(h.EVENTS.CANCEL,t.bind(r,this))}else if(l)this.personalInfoAgreementData.setPersonalInfoAgreements(n.join(",")).then(t.bind((function(){h.openLayer({bodyDesc:IM("setting.service_use_agreement.profile.description"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(h.EVENTS.CONFIRM,t.bind((function(){c.GLOBAL_MY_PROFILE.goDForced({})}),this))}),this));else{var _=n.join(",");this.personalInfoAgreementData.setPersonalInfoAgreements(_).then(t.bind((function(){alert(s),this.render()}),this),t.bind((function(n){r.call(this);var i=n.result_code,a=d.AGREE_TARGET.LOCATION;if(_===a||1002===i){var s=t.propertyOf(n.result_data)("message"),o=g.getUserData().getBirthDate();this._openGuardianAgreementConfirmView(s,a,o,this._updateAgreementStates,e)}}),this))}},_openGuardianAgreementConfirmView:function(e,n,i,a,s){m.openAsLayer({noticeMessage:e,type:n,birthday:i,onAfterGuardianAgreementCompleted:t.bind(a,this,s)})},_updateEmailNotificationState:function(){var e=u.Configs.EMAIL,t=this.getUI("btnAgreeAdEmail").is(":checked");this.serviceUseNoticeModel.setServiceNoticeReceiving(e,t).then((function(){var e=o.format.date(s(),"year_month_day"),n=t?IM("setting.service_use_agreement.email_notification.agree_alarm",{currentTime:e}):IM("setting.service_use_agreement.email_notification.deny_alarm",{currentTime:e});p.openLayer({bodyDesc:n})}))}});return b.build=function(){return new b},b}.call(t,n,t,e))||(e.exports=i)},3201:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM("setting.service_use_agreement.title") %></h1>\n    <div class="sectionBox useAgreement">\n        <div class="uTableList infoTable">\n            <div class="cell">\n                <ul class="uTableList -topAlign gMat-13 gMab-18">\n                <% // 위치 정보 동의 %>\n                    <% if (isNotKid) { %>\n                    <li class="row">\n                        <div class="cell content -first -top">\n                            <dl class="descInfo gMat2 gMab7">\n                                <dt class="descInfoTit gMat4"><%- IM("setting.service_use_agreement.title.location") %></dt>\n                                <dd class="descInfoTxt">\n                                <% if (isUseLocation) { %>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.location.agree_description") %></div>\n                                    <div class="descInfosTxt"><a href="/policy/privacy" target="_blank" class="descInfoLink"><%- IM("setting.service_use_agreement.link.privacy_policy") %></a></div>\n                                <% } else { %>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.location.deny_description") %></div>\n                                <% } %>\n                                </dd>\n                            </dl>\n                        </div>\n                        <div class="cell btn gPat24">\n                            <span class="uCheck -switch -noLabel">\n                                <input type="checkbox" class="checkInput _btnUseLocation" <% if (isUseLocation) { %> checked<% } %>>\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </div>\n                    </li>\n                    <% } %>\n                <% // 프로필 정보 동의 %>\n                    <li class="row">\n                        <div class="cell content -first -top">\n                            <dl class="descInfo gMat3 gMab8">\n                                <dt class="descInfoTit gMat4"><%- IM("setting.service_use_agreement.title.profile") %></dt>\n                                <dd class="descInfoTxt">\n                                <% if (isUseProfile) { %>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.profile.agree_description") %></div>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.keeping_info_description") %></div>\n                                <% } else { %>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.profile.deny_description") %></div>\n                                <% } %>\n                                </dd>\n                            </dl>\n                        </div>\n                        <div class="cell btn gPat24">\n                            <span class="uCheck -switch -noLabel">\n                                <input type="checkbox" class="checkInput _btnUseProfile" <% if (isUseProfile) { %> checked<% } %>>\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </div>\n                    </li>\n                <% // 초대한 친구의 연락처 %>\n                    <% if (isNotKid) { %>\n                    <li class="row">\n                        <div class="cell content -first -top">\n                            <dl class="descInfo gMat3 gMab5">\n                                <dt class="descInfoTit gMat5"><%- IM("setting.service_use_agreement.title.contacts") %></dt>\n                                <dd class="descInfoTxt gMat-1 gMab1">\n                                <% if (isUseContacts) { %>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.contacts.agree_description") %></div>\n                                <% } else { %>\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.contacts.deny_description") %></div>\n                                <% } %>\n                                </dd>\n                            </dl>\n                        </div>\n                        <div class="cell btn gPat24">\n                            <span class="uCheck -switch -noLabel">\n                                <input type="checkbox" class="checkInput _btnUseContacts" <% if (isUseContacts) { %> checked<% } %>>\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </div>\n                    </li>\n                    <% } %>\n                <% // 이벤트, 광고성 정보 알림 %>\n                    <li class="row">\n                        <div class="cell content -first -top">\n                            <dl class="descInfo gMat3 gMab5">\n                                <dt class="descInfoTit gMat5"><%- IM("setting.service_use_agreement.title.commercial_info_notification") %></dt>\n                                <dd class="descInfoTxt gMat-1 gMab1">\n                                    <div class="descInfosTxt"><%= IM("setting.service_use_agreement.email_notification.description") %></div>\n                                </dd>\n                            </dl>\n                        </div>\n                        <div class="cell btn gPat24">\n                            <span class="uCheck -switch -noLabel">\n                                <input type="checkbox" class="checkInput _btnAgreeAdEmail" <% if (isAgreedAdEmail) { %> checked<% } %>>\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </div>\n                    </li>\n                    <% // CCPA %>\n                    <% if (isNotKid) { %>\n                    <li class="row">\n                        <div class="cell content -first -top">\n                            <dl class="descInfo gMat3 gMab5">\n                                <dt class="descInfoTit gMat5"><%- IM("web.footer.label.ccpa") %></dt>\n                                <dd class="descInfoTxt gMat-1 gMab1"></dd>\n                            </dl>\n                        </div>\n                        <div class="cell btn gPat24">\n                            <a href="<%= ccpaUrl %>" class="uButton -sizeS -confirm2"><%- IM(\'ui.label.view\') %></a>\n                        </div>\n                    </li>\n                    <% } %>\n                </ul>\n            </div>\n        </div>\n    </div>\n</section>'},3202:function(e,t,n){var i=n(0),a=n(2),s=n(4),o=n(157),r=n(1090),l=n(3203),c=n(3207),d=n(3209),u=n(499),h=n(498),p=n(488),_=n(154),m=n(187),g=n(3210),b=n(495),f=n(487),v=n(2099),C=n(1702),y=n(3213),I=n(3217),w=n(2100),E=n(3223),L=n(13),M=s.View.extend({tagName:"div",className:"bandFindWrap",attributes:{"data-viewname":"DDiscoverHomeView","aria-live":"polite"},getTemplate:function(){return this._dataFetched?i.template(d):i.template(h)},ui:{keywordGroup:"._keywordGroup",localBand:"._localBand",bandMission:"._bandMission",beginBand:"._beginBand",locationBandLink:"._locationBandLink",recommendedPage:"._recommendedPage",recommendedPageLink:"._recommendedPageLink",recommendBand:"._recommendBand"},regions:{keywordGroup:{el:"@ui.keywordGroup",replaceElement:!1},localBand:{el:"@ui.localBand",replaceElement:!0},bandMission:{el:"@ui.bandMission",replaceElement:!0},beginBand:{el:"@ui.beginBand",replaceElement:!1},recommendedPage:{el:"@ui.recommendedPage",replaceElement:!0},recommendBand:{el:"@ui.recommendBand",replaceElement:!1}},events:{"click @ui.recommendedPageLink":function(){this.jplClick(f.CLASSIFIER.RECOMMEND_PAGE_MORE)},"click @ui.locationBandLink":function(){_.wrapActivePromise(E.fetch(),this).then((function(e){e.go()}))}},behaviors:[{behaviorClass:b,sceneId:b.SCENE.DISCOVER_BAND},{behaviorClass:f}],initialize:function(e){this._dataFetched=!1,this.model=e.model,this._homeModel=C.build()},serializeData:function(){return this._dataFetched?{showLocationBand:this._canShowLocationBand(),showRecommendedPage:this._canShowRecommendedPage(),recommendedPageUrl:o.GLOBAL_RECOMMENDED_PAGE_BAND.makeUrl()}:{dataFetched:!1,_loading_size:u.Size.MEDIUM,middleClass:p.ELEMENT.SCREEN_VERTICAL_MIDDLE}},onRender:function(){this._dataFetched&&(this._showKeywordGroup(),this._showLocalBand(),this._showBandMission(),this._showBeginBand(),this._showRecommendedPage(),this._showRecommendBand())},onAttach:function(){_.wrapActivePromise(a.when(this.model.fetchFindBandsData(),this._fetchDiscoverHome()),this).then(i.bind((function(){this._dataFetched=!0,this.render()}),this)),this.jplSceneEnter(f.CLASSIFIER.DISCOVER_BAND)},_canShowKeywordGroup:function(){return!i.isEmpty(this.model.getKeywordGroups())&&!o.GLOBAL_KEYWORD_GROUP.isAccessRestricted()},_canShowLocalBand:function(){return this._homeModel.hasLocalBandData()&&!o.GLOBAL_LOCAL_BAND.isAccessRestricted()},_canShowBandMission:function(){return this._homeModel.hasBandMission()&&!o.GLOBAL_RECOMMENDED_BAND_MISSION.isAccessRestricted()},_canShowBeginBand:function(){return!i.isEmpty(this.model.getBeginBands())&&!o.GLOBAL_DISCOVER_NEW_BANDS.isAccessRestricted()},_canShowLocationBand:function(){return this.model.canShowLocationBand()&&!o.GLOBAL_DISCOVER_LOCATION.isAccessRestricted()},_canShowRecommendedPage:function(){return!i.isEmpty(this.model.getDiscoverRecommendedPageBandList())&&!o.GLOBAL_RECOMMENDED_PAGE_BAND.isAccessRestricted()},_canShowRecommendBand:function(){return!(!L.canAccessBandSearchForGuardianship()||!L.canSearchQualificationByAge())&&(!i.isEmpty(this.model.getRecommendBands())&&m.canShowRecommendBand())},_showKeywordGroup:function(){if(this._canShowKeywordGroup()){var e=g.buildDKeywordGroupListView({keywordGroups:this.model.getKeywordGroups()});this.ui.keywordGroup.css("display",""),this.showChildView("keywordGroup",e)}},_showLocalBand:function(){if(this._canShowLocalBand()){var e=this.getRegion("localBand");if(this._homeModel.hasLocalBand()){this._homeModel.setLocalBandRcmdCardIndex(0);var t=I.build(this._homeModel);this.listenToOnce(t,t.EVENT.REFRESH,this._showLocalBand),e.show(t)}else e.show(w.buildDiscoverHomeBanner())}},_showBandMission:function(){if(!this._canShowBandMission())return!1;var e=this._homeModel.getMissionCollection(),t=this._canShowLocalBand()?1:0;e.setRcmdCardIndex(t);var n=y.buildDDiscoverHomeBandMissionListView(e);this.showChildView("bandMission",n)},_showBeginBand:function(){if(this._canShowBeginBand()){var e=l.build({sectionTitle:IM("discover.begin_bands.label"),bands:this.model.getBeginBands().slice(0,5),moreLink:o.GLOBAL_DISCOVER_NEW_BANDS.makeUrl()});this.ui.beginBand.css("display",""),this.showChildView("beginBand",e)}},_showRecommendedPage:function(){if(this._canShowRecommendedPage()){var e=i.first(this.model.getDiscoverRecommendedPageBandList(),4),t=v.buildLargeTypeView(e);this.listenTo(t,"clickLog",this._sendRecommendedPageClickLog),this.showChildView("recommendedPage",t)}},_showRecommendBand:function(){if(this._canShowRecommendBand()){var e=c.build({sectionTitle:IM("discover.recommend_bands.label"),bands:this.model.getRecommendBands()});this.ui.recommendBand.css("display",""),this.showChildView("recommendBand",e)}},_sendRecommendedPageClickLog:function(e){var t=e.bandCore.bandNo;e.joining?this.jplClick(f.CLASSIFIER.JOIN_PAGE,{band_no:t,container_classifier:f.CLASSIFIER.RECOMMEND_PAGE}):this.jplClick(f.CLASSIFIER.RECOMMEND_PAGE,{band_no:t},t)},_fetchDiscoverHome:function(){var e=[!o.GLOBAL_LOCAL_BAND.isAccessRestricted(),!o.GLOBAL_RECOMMENDED_BAND_MISSION.isAccessRestricted()],t=a.Deferred();return i.contains(e,!0)?this._homeModel.fetchDiscoverHome().always((function(){t.resolve()})):t.resolve(),t.promise()}});M.build=function(){var e=new r;return new M({model:e})},e.exports=M},3203:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1011),s=n(2097),o=n(3206),r=i.View.extend({attributes:{"data-viewname":"DDiscoverCoverTypeSectionView"},template:t.template(o),templateContext:function(){return{sectionTitle:this.sectionTitle,moreLink:this.moreLink}},regions:{coverBandsContainer:{el:"._coverBandsContainer",replaceElement:!0}},initialize:function(e){this.sectionTitle=e.sectionTitle,this.moreLink=e.moreLink},onAttach:function(){this.showChildView("coverBandsContainer",new l({collection:this.collection}))}}),l=i.CollectionView.extend({tagName:"ul",className:"bandList",attributes:{"data-viewname":"DDiscoverCoverTypeSectionCollectionView"},childView:s,childViewOptions:function(){return{viewType:s.VIEW_TYPE.MAIN_PAGE,itemExposureObserver:this._itemExposureObserver}},initialize:function(e){this._itemExposureObserver=new IntersectionObserver((function(e){t.each(e,(function(e){$(e.target).trigger("intersect",e)}))}),{rootMargin:"-50px 0px 0px 0px",threshold:[0,1]})}});return r.build=function(e){return new r({sectionTitle:e.sectionTitle,moreLink:e.moreLink,collection:new a(e.bands)})},r}.call(t,n,t,e))||(e.exports=i)},3204:function(e,t){e.exports='<div class="uCover gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="<%- bandUrl %>" class="bandCover _goBand">\n            <div class="cover">\n                <div class="uCoverImage -border -w186">\n                    <span class="coverInner">\n                        <img src="<%- thumbnailCoverImage %>" width="" height="" class="coverImg" alt="<%- bandName %>">\n                    </span>\n                </div>\n            </div>\n            <div class="bandName">\n                <p class="uriText"><%- bandName %></p>\n            </div>\n        </a>\n    </div>\n</div>'},3205:function(e,t){e.exports='<div class="uCover gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="<%- bandUrl %>" class="bandCover _goBand">\n            <div class="cover">\n                <div class="uCoverImage -border -w186">\n                    <span class="coverInner">\n                        <img src="<%- thumbnailCoverImage %>" width="" height="" class="coverImg" alt="<%- bandName %>">\n                    </span>\n                </div>\n            </div>\n            <div class="bandName">\n                <p class="uriText"><%- bandName %></p>\n            </div>\n        </a>\n    </div>\n</div>'},3206:function(e,t){e.exports='<h1 class="sectionTitle"><%- sectionTitle %>\n</h1>\n<div class="_coverBandsContainer"></div>\n<a href="<%- moreLink %>" class="more"><%= IM("ui.label.view_all") %></a>'},3207:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1011),s=n(1240),o=n(3208),r=i.View.extend({tagName:"div",className:"",attributes:{"data-viewname":"DDiscoverListTypeSectionView"},template:t.template(o),templateContext:function(){return{sectionTitle:this.sectionTitle}},ui:{bandsContainer:"._bandsContainer"},regions:{bandsContainer:{el:"@ui.bandsContainer",replaceElement:!0}},initialize:function(e){this.sectionTitle=e.sectionTitle,this.collection=e.collection},onAttach:function(){this.showChildView("bandsContainer",new l({collection:this.collection}))}}),l=i.CollectionView.extend({tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DDiscoverListTypeSectionCollectionView"},childView:s,childViewOptions:function(){return{bandCoverClass:s.BAND_COVER_CLASS.W93,showBandMemberInfo:!0,itemExposureObserver:this._itemExposureObserver}},initialize:function(e){this._itemExposureObserver=new IntersectionObserver((function(e){t.each(e,(function(e){$(e.target).trigger("intersect",e)}))}),{rootMargin:"-50px 0px 0px 0px",threshold:[0,1]})}});return r.build=function(e){return new r({sectionTitle:e.sectionTitle,collection:new a(e.bands)})},r}.call(t,n,t,e))||(e.exports=i)},3208:function(e,t){e.exports='<h1 class="sectionTitle"><%- sectionTitle %></h1>\n<div class="_bandsContainer"></div>'},3209:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'discover.title1\') %></h1>\n<div class="keywordBandWrap fullWide _keywordGroup" style="display:none"></div>\n\n<div class="wide">\n    <% // 지역 소모임 목록 또는 배너 %>\n    <div class="_localBand" style="display:none"></div>\n\n    <% // 추천 밴드 미션 %>\n    <div class="_bandMission" style="display:none"></div>\n\n    <% // 우리 밴드 시작했어요 (시작 밴드) %>\n    <section class="newStartBand gMat10 _beginBand" style="display:none"></section>\n\n    <% // 지역별 찾기 - Browse by Location %>\n    <% if (showLocationBand) { %>\n    <div class="topGuideBanner -transparentBanner gMat20 gMab20">\n        <a href="#" class="topGuideBannerLink gPa0 _locationBandLink">\n            <div class="guideTextBox -justifyLeft">\n                <span class="iconImg -iconCircleFillLocation"></span>\n                <p class="guideText -arrowText"><%- IM(\'location_band.title\') %></p>\n            </div>\n        </a>\n    </div>\n    <% } %>\n\n    <% // 추천 페이지 %>\n    <% if (showRecommendedPage) { %>\n    <section class="invitePage pageBandCover">\n        <h1 class="sectionTitle"><%- IM(\'recommended_page_band.title\') %></h1>\n        <div class="_recommendedPage" style="display:none"></div>\n        <a href="<%- recommendedPageUrl %>" class="more _recommendedPageLink"><%- IM(\'ui.label.view_all\') %></a>\n    </section>\n    <% } %>\n\n    <% // 이런 밴드 어때요 (추천 밴드) %>\n    <section class="howBand _recommendBand" style="display:none"></section>\n</div>'},3210:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=(n(6),n(3211)),s=n(909),o=(n(488),n(2098)),r=i.View.extend({attributes:{"data-viewname":"DKeywordGroupListView"},tagName:"section",className:"keywordBand",template:t.template(a),templateContext:function(){var e=this._keywordGroups;return{makeKeywordGroupList:function(){return o.makeGroupTemplate(e)}}},ui:{keywordGroupContainer:"._keywordGroupContainer",groupWidthTarget:"._groupWidthTarget",eachKeywordGroup:"._eachKeywordGroup",prevButton:"._prevButton",nextButton:"._nextButton"},initialize:function(e){this._keywordGroups=e.keywordGroups},onAttach:function(){this._swiper=new s(this.ui.keywordGroupContainer,{slidesPerView:10,spaceBetween:21,slidesPerGroup:10,loop:!1,autoplay:{delay:6e3},navigation:{nextEl:this.getUI("nextButton"),prevEl:this.getUI("prevButton"),disabledClass:"-disable"}})},onBeforeDetach:function(){this._swiper&&(this._swiper.destroy(),this._swiper=null)}});return r.buildDKeywordGroupListView=function(e){return new r({keywordGroups:e.keywordGroups})},r}.call(t,n,t,e))||(e.exports=i)},3211:function(e,t){e.exports='<h1 class="sectionTitle"><%- IM(\'discover.keyword_group.title\') %></h1>\n<div class="keywordWrap">\n    <div class="uKeywordWrap _keywordGroupContainer" style="overflow-x:hidden;">\n    <%= makeKeywordGroupList() %>\n    </div>\n</div>'},3212:function(e,t){e.exports='<ul class="uKeywordList _groupWidthTarget swiper-wrapper">\n<%\n_.each(keywordGroups, function(eachKeywordGroup, index) {\n%>\n    <li class="uKeywordItem _eachKeywordGroup swiper-slide">\n        <a href="<%- makeKeywordTargetUrl(eachKeywordGroup.name) %>" class="inner">\n            <span class="pic"><img src="<%- makeCoverUrl(eachKeywordGroup.cover) %>" alt="<%- eachKeywordGroup.name %>" ></span>\n            <strong class="name"><%= makeNameSlice(eachKeywordGroup.name) %></strong>\n        </a>\n    </li>\n<%\n});\n%>\n</ul>\n\n\x3c!-- 상세페이지 에서는 display:none --\x3e\n<button type="button" class="prev _prevButton"><%- IM(\'ui.label.prev\') %></button>\n<button type="button" class="next _nextButton"><%- IM(\'ui.label.next\') %></button>\n'},3213:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3214),s=n(3215),o=n(157),r=n(487),l=n(1009),c=i.CollectionView.extend({tagName:"ul",className:"bandList gMat19",childView:s,childViewOptions:function(){return{collection:this.collection}}}),d=i.View.extend({tagName:"section",className:"missionBand",attributes:{"data-viewname":"DDiscoverHomeBandMissionListView"},template:t.template(a),ui:{bandMissions:"._bandMissions",moreLink:"._moreLink"},events:{"click @ui.moreLink":"_sendMoreLinkClickLog"},regions:{bandMissions:{el:"@ui.bandMissions",replaceElement:!0}},behaviors:function(){return[{behaviorClass:r},{behaviorClass:l,exposureCallback:t.bind(this._sendExposureLog,this)}]},initialize:function(e){},serializeData:function(){return{title:this.collection.getRecommendedBandMissionSectionTitle(),moreUrl:o.GLOBAL_RECOMMENDED_BAND_MISSION.makeUrl({})}},onRender:function(){this._renderBandMissions()},_renderBandMissions:function(){this.showChildView("bandMissions",new c({collection:this.collection}))},_sendMoreLinkClickLog:function(){this.jplClick(r.CLASSIFIER.RCMD_CARD_MORE,this.collection.getMoreLinkContentLineage())},_sendExposureLog:function(e){this.jplExposure(r.CLASSIFIER.RCMD_CARD,t.extend({exposure_ms:e},this.collection.getRecommendedBandMissionContentLineage()))}});return d.buildDDiscoverHomeBandMissionListView=function(e){return new d({collection:e})},d}.call(t,n,t,e))||(e.exports=i)},3214:function(e,t){e.exports='<h1 class="sectionTitle gMat37"><%- title %></h1>\n<div class="_bandMissions"></div>\n<a href="<%- moreUrl %>" class="more _moreLink"><%- IM(\'ui.label.view_all\') %></a>'},3215:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3216),s=n(82),o=n(487),r=n(1009);return i.View.extend({tagName:"li",className:"bandListItem",attributes:{"data-viewname":"DDiscoverHomeBandMissionItemView"},template:t.template(a),ui:{bandLink:"._bandLink"},events:{"click @ui.bandLink":function(){this._sendClickLog()}},behaviors:function(){return[{behaviorClass:o},{behaviorClass:r,exposureCallback:t.bind(this._sendExposureLog,this)}]},initialize:function(e){},serializeData:function(){return{cover:s.makeMediumCoverUrl(this.model.getRecommendedBandMissionBandCoverUrl()),title:this.model.getRecommendedBandMissionTitle(),frequencyText:this.model.getRecommendedBandMissionFrequencyText(),periodText:this.model.getRecommendedBandMissionPeriodText(),guideText:this.model.getRecommendedBandMissionGuideText(),bandUrl:this.model.getRecommendedBandMissionUrl(),participate:this.model.getRecommendedBandMissionParticipateButtonText()}},_sendExposureLog:function(e){this.jplExposure(o.CLASSIFIER.RCMD_CARD_ITEM,t.extend({exposure_ms:e},this.model.getRecommendedBandMissionContentLineage()))},_sendClickLog:function(){this.jplClick(o.CLASSIFIER.RCMD_CARD_ITEM,this.model.getRecommendedBandMissionContentLineage(),this.model.getRecommendedBandMissionBandNo()),this.jplClick(o.CLASSIFIER.RCMD_CARD,this.collection.getRecommendedBandMissionContentLineage())}})}.call(t,n,t,e))||(e.exports=i)},3216:function(e,t){e.exports='<div class="uCover gThumbnailCardShadow gThumbnailCardHoverShadow">\n    <div class="bandInner">\n        <a href="<%- bandUrl %>" class="bandCover _bandLink" target="_blank">\n            <div class="cover">\n                <div class="uCoverImage -w186 -border">\n                    <span class="coverInner">\n                        <img src="<%- cover %>" class="coverImg" alt="<%- IM(\'pageband.create.label.show_cover_image\') %>">\n                    </span>\n                </div>\n                <div class="missionInfo">\n                    <div class="missionName gMat17"><%- title %></div>\n                    <div class="missionTerm"><%- frequencyText %><span class="iconDot"></span><%- periodText %></div>\n                </div>\n            </div>\n            <div class="missionJoin">\n                <% // guideText : 이스케이프 처리하고, 숫자 영역을 태그로 감싼다. %>\n                <div class="missionDesc"><p class="statusText"><%= _.escape(guideText).replace(/([0-9]+(?:,[0-9]{3})*)/, \'<span class="statusNumber">$1</span>\') %></p></div>\n                <span class="buttonLink gMat6"><%- participate %></span>\n            </div>\n        </a>\n    </div>\n</div>'},3217:function(e,t,n){var i=n(0),a=n(10),s=n(4),o=n(3218),r=n(1764),l=n(487),c=n(1009),d=n(1277),u=n(663),h=n(668),p=n(154),_=s.View.extend({EVENT:{REFRESH:"REFRESH"},tagName:"section",className:"localMeetupBand",attributes:{"data-viewname":"DDiscoverHomeLocalBandView"},template:i.template(o),ui:{locationBtn:"._locationBtn",bandList:"._bandList",footerBtn:"._footerBtn",moreLink:"._moreLink"},regions:{bandList:{el:"@ui.bandList",replaceElement:!0}},events:{"click @ui.locationBtn":"_onClickLocationBtn","click @ui.footerBtn":"_onClickFooterBtn","click @ui.moreLink":"_onClickMoreLink"},behaviors:function(){return[{behaviorClass:l},{behaviorClass:c,exposureCallback:i.bind(this._sendExposureLog,this)}]},initialize:function(e){this._homeModel=e.homeModel,this._currentRegion=null},serializeData:function(){return{title:u.replaceTag(this._homeModel.getLocalBandTitle(),"span","-localName"),showLocationBtn:this._homeModel.canRefreshByRcode(),moreUrl:this._homeModel.getLocalBandMoreUrl(),moreText:this._homeModel.getLocalBandMoreText(),footerText:this._homeModel.getLocalBandFooterText()}},onRender:function(){this._showBandList()},_showBandList:function(){this.showChildView("bandList",r.buildDiscoverHome(this._homeModel))},_onClickLocationBtn:function(){if(!this._onRefresh){this._onRefresh=!0;var e=d.fetchDiscoverHomeLocalBand(this,this._homeModel);p.wrapActivePromise(e,this).then(i.bind(this._triggerRefresh,this)).always(i.bind((function(){this._onRefresh=!1}),this))}},_onClickFooterBtn:function(){if(!this._onRefresh){this._onRefresh=!0;var e=this._homeModel.refreshLocalBand();p.wrapActivePromise(e,this).then(i.bind(this._triggerRefresh,this),i.bind((function(e){this._alert(e.message)}),this)).always(i.bind((function(){this._onRefresh=!1}),this))}},_onClickMoreLink:function(){this._sendRcmdCardMoreClickLog()},_triggerRefresh:function(){this.trigger(this.EVENT.REFRESH)},_alert:function(e){a.isBlank(e)||h.openSimpleAlert(e)},_sendExposureLog:function(e){var t=JSON.parse(this._homeModel.getLocalBandContentLineage());t.rcmd_card_index=this._homeModel.getLocalBandRcmdCardIndex(),t.exposure_ms=e,this.jplExposure(l.CLASSIFIER.RCMD_CARD,t)},_sendRcmdCardMoreClickLog:function(){var e=JSON.parse(this._homeModel.getLocalBandMoreContentLineage());e.rcmd_card_index=this._homeModel.getLocalBandRcmdCardIndex(),this.jplClick(l.CLASSIFIER.RCMD_CARD_MORE,e)}});_.build=function(e){return new _({homeModel:e})},e.exports=_},3218:function(e,t){e.exports='<h1 class="sectionTitle gMat38"><%= title %><% if (showLocationBtn) { %> <button class="btnThisPlace _locationBtn"></button><% } %></h1>\n<div class="_bandList" style="display:none"></div>\n<% if (footerText) { %>\n<div class="localMeetupSettingBox gMat6 gMab-5">\n  <button class="btnLocalMeetupResetting _footerBtn"><%- footerText %> <span class="-iconFaceBad"></span></button>\n</div>\n<% } %>\n<a href="<%- moreUrl %>" class="more _moreLink"><%- moreText %></a>'},3219:function(e,t,n){var i=n(0),a=n(4),s=n(3220),o=n(1437),r=n(487),l=n(1009),c=n(13),d=n(514),u=n(82),h=n(663),p=n(9),_=n(506),m=n(84),g=a.View.extend({tagName:"div",className:"localMeetupCard gContentLocalMeetupCardShadow",attributes:{"data-viewname":"DLocalBandItemView"},template:i.template(s),ui:{itemBandLink:"._itemBandLink",itemRegionBtn:"._itemRegionBtn",itemKeywordBtn:"._itemKeywordBtn",itemReportBtn:"._itemReportBtn"},events:{"click @ui.itemBandLink":"_onClickBandLink","click @ui.itemRegionBtn":"_onClickRegionBtn","click @ui.itemKeywordBtn":"_onClickKeywordBtn","click @ui.itemReportBtn":"_onClickReportBtn"},behaviors:function(){return[{behaviorClass:r},{behaviorClass:l,exposureCallback:i.bind(this._sendExposureLog,this)}]},initialize:function(e){this._viewType=e.viewType,this._homeModel=e.homeModel},serializeData:function(){var e=this.model.attributes,t=_.get(e,"latestMeetupSchedule.startAt"),n={name:e.name,description:e.description,region:e.region,keyword:e.keyword,cover:u.makeMediumCoverUrl(e.coverUrl),schedule:null,showCond:!1,recruitingConditionLabel:e.recruitingConditionLabel,recruitingConditionList:e.recruitingConditionList,rcmdReason:h.replaceTag(e.rcmdReason,"span","-emphasis"),rcmdReason2:null,reportBtn:!1};switch(this._viewType){case o.LOCAL_BAND:case o.LFG_RESULT:n.schedule=p.format.date(t,"month_day_weekday_time"),n.showCond=!i.isEmpty(e.recruitingConditionList),n.reportBtn=!c.isMe(e.leaderNo);break;default:t&&(n.rcmdReason2=e.rcmdReason2)}return n},_onClickBandLink:function(){this._sendClickLog(!0),m.go(this.model.getBandUrl())},_onClickRegionBtn:function(){this._sendClickLog(!1),m.go(this.model.getRegionOnClick())},_onClickKeywordBtn:function(){this._sendClickLog(!1),m.go(this.model.getKeywordOnClick())},_onClickReportBtn:function(){d.openBandReportPopup(this.model.getBandNo())},_sendExposureLog:function(e){switch(this._viewType){case o.DISCOVER_HOME:this._sendDiscoverHomeExposureLog(e);break;case o.LOCAL_BAND:case o.LFG_RESULT:this._sendLocalBandExposureLog(e)}},_sendClickLog:function(e){var t=e?this.model.getBandNo():null;switch(this._viewType){case o.DISCOVER_HOME:this._sendDiscoverHomeClickLog(),this._sendDiscoverHomeItemClickLog(t);break;case o.LOCAL_BAND:case o.LFG_RESULT:this._sendLocalBandClickLog(t)}},_sendDiscoverHomeExposureLog:function(e){var t=JSON.parse(this.model.getContentLineage());t.index=this.model.getIndex(),t.exposure_ms=e,this.jplExposure(r.CLASSIFIER.RCMD_CARD_ITEM,t)},_sendLocalBandExposureLog:function(e){var t=JSON.parse(this.model.getCardContentLineage());t.rcmd_card_index=this.model.getIndex(),t.exposure_ms=e,this.jplExposure(r.CLASSIFIER.RCMD_CARD,t)},_sendDiscoverHomeClickLog:function(){var e=JSON.parse(this._homeModel.getLocalBandContentLineage());e.rcmd_card_index=this._homeModel.getLocalBandRcmdCardIndex(),this.jplClick(r.CLASSIFIER.RCMD_CARD,e)},_sendDiscoverHomeItemClickLog:function(e){var t=JSON.parse(this.model.getContentLineage());t.index=this.model.getIndex(),this.jplClick(r.CLASSIFIER.RCMD_CARD_ITEM,t,e)},_sendLocalBandClickLog:function(e){var t=JSON.parse(this.model.getContentLineage());t.rcmd_card_index=this.model.getIndex(),this.jplClick(r.CLASSIFIER.RCMD_CARD,t,e)}});e.exports=g},3220:function(e,t){e.exports='<div class="localMeetupContent">\n    <div class="localMeetupContentBox">\n        <h3 class="localMeetupContTitle"><%- name %></h3>\n        <div class="localMeetupContDesc gMat6"><%- description %></div>\n        <div class="localMeetupContTagBox gMat10">\n            <button class="tagItem -local _itemRegionBtn"><%- region %></button><button class="tagItem _itemKeywordBtn"><%- keyword %></button>\n        </div>\n    </div>\n    <div class="localMeetupContentThumb gMat3"><img src="<%- cover %>" alt="<%- IM(\'ui.label.band_cover\') %>"></div>\n    <a href="#" class="localMeetupContentLink _itemBandLink"></a>\n</div>\n<div class="localMeetupInfoWrap">\n    <div class="localMeetupInfoBox gMal-1">\n        <% if (schedule) { %>\n        <div class="localMeetupSchedule gMat-4"><%- IM(\'discover.meetup_schedule\', {schedule: schedule}) %></div>\n        <% } %>\n        <% if (showCond) { %>\n        <div class="localMeetupCondition">\n            <span class="title"><%- recruitingConditionLabel %></span><% _.each(recruitingConditionList, function(item) { %><span class="item"><%- item %></span><% }); %>\n        </div>\n        <% } %>\n        <div class="localMeetupTogether"><%= rcmdReason %><% if (rcmdReason2) { %><span class="hasMeetupSchedule"><%- rcmdReason2 %></span><% } %></div>\n    </div>\n    <% if (reportBtn) { %>\n    <div class="localMeetupEtc">\n        <button class="btnReport _itemReportBtn"><%- IM(\'ui.label.report.short\') %></button>\n    </div>\n    <% } %>\n</div>'},3221:function(e,t){e.exports='<a href="#" class="topGuideBannerLink">\n  <div class="guideTextBox">\n    <span class="-iconLocation"></span>\n    <p class="guideText"><%= IM(\'local_band.recruit_banner\') %></p>\n  </div>\n  <button type="button" class="uButton -sizeS -confirm"><%- buttonText %></button>\n</a>'},3222:function(e,t){e.exports='<div class="lyContent">\n\t<header class="modalHeader">\n\t\t<h1 class="title"><%- IM(\'local_band_menu.title\') %></h1>\n\t</header>\n\t<div class="modalBody">\n\t\t<div class="modalContent gPat20 gPal20 gPar20">\n\t\t\t<p class="p gMat-5 gMab15"><%- IM(\'local_band_menu.desc\') %></p>\n\t\t\t<ul class="selectArea">\n\t\t\t\t<% _.each(menuList, function(menu, index) { %>\n\t\t\t\t<li>\n\t\t\t\t\t<label for="radio_<%- viewId %>_<%- index %>" class="uCheck -radio">\n\t\t\t\t\t\t<input type="radio" id="radio_<%- viewId %>_<%- index %>" name="radio_<%- viewId %>" class="checkInput _valueRadio" value="<%- menu.value %>">\n\t\t\t\t\t\t<span class="checkLabel">\n                        <span class="shape"></span>\n                        <span class="text"><%- menu.label %></span>\n                    </span>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t<% }) %>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n\t<footer class="modalFooter">\n\t\t<button type="button" class="uButton -cancel _cancelBtn"><%- IM(\'ui.label.cancel\') %></button>\n\t\t<button type="button" class="uButton -confirm _confirmBtn" disabled><%- IM(\'ui.label.confirm\') %></button>\n\t</footer>\n</div>'},3223:function(e,t,n){var i=n(1319),a=n(1267),s={fetch:function(){return i.requestCurrentPositionWithAgreement().then((function(e){return a.fetch(e)}),(function(){return a.fetch()}))}};e.exports=s},3224:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(512),s=n(157),o=n(13),r=n(2097),l=n(1011),c=n(3225),d=n(187),u=n(495),h=n(487),p=n(159),_=i.View.extend({className:"bandFindWrap -bg1",attributes:{"data-viewname":"DDiscoverNewBandsView"},behaviors:[p,{behaviorClass:u,sceneId:u.SCENE.NEW_BANDS},h],template:t.template(c),regions:{bandsContainer:{el:"._bandsContainer",replaceElement:!0}},initialize:function(){this.collection=new l([]),this.listenTo(a,"window:scroll:bottom",(function(){this.collection.fetchNewBands()}))},templateContext:function(){return{discoverManagedBandsUrl:s.GLOBAL_DISCOVER_MANAGED_BANDS.makeUrl(),banner:this._banner()}},onAttach:function(){this.jplSceneEnter(h.CLASSIFIER.NEW_BANDS),this.showChildView("bandsContainer",new m({collection:this.collection}))},_banner:function(){return o.isLogedIn()&&d.canRenderManagedBandsPage()}}),m=i.CollectionView.extend({tagName:"ul",className:"bandList",attributes:{"data-viewname":"DDiscoverNewBandsCollectionView"},childView:r,childViewOptions:function(){return{viewType:r.VIEW_TYPE.NEW_BAND_PAGE,itemExposureObserver:this._itemExposureObserver}},initialize:function(e){this._itemExposureObserver=new IntersectionObserver((function(e){t.each(e,(function(e){$(e.target).trigger("intersect",e)}))}),{rootMargin:"-50px 0px 0px 0px",threshold:[0,1]})},onAttach:function(){this.collection.fetchNewBands()}});return _.build=function(){return new _},_}.call(t,n,t,e))||(e.exports=i)},3225:function(e,t){e.exports='<div class="wide">\n    <section class="themeBand">\n        <% if (banner) { %>\n        <div class="topGuideBanner gContentCardShadow">\n            <a href="<%- discoverManagedBandsUrl %>" class="topGuideBannerLink">\n                <div class="guideTextBox">\n                    <span class="iconImg -iconNotice"></span>\n                    <p class="guideText gColorBk2"><%= IM(\'discover.begin_bands.banner.text1\') %> <em><%= IM(\'discover.begin_bands.banner.text2\') %></em></p>\n                </div>\n                <button type="button" class="uButton -sizeS -confirm"><%= IM(\'discover.managed_bands.title\') %></button>\n            </a>\n        </div>\n        <% } %>\n\n        <h1 class="sectionTitle gMat38"><%= IM(\'discover.begin_bands.label\') %></h1>\n\n        <div class="_bandsContainer"></div>\n    </section>\n</div>'},3226:function(e,t,n){var i=n(0),a=n(4),s=n(512),o=n(157),r=n(1011),l=n(2101),c=n(3229),d=a.View.extend({className:"bandFindWrap -bg1",attributes:{"data-viewname":"DDiscoverManagedBandsView"},template:i.template(c),ui:{noResultMsg:"._noResultMsg",bandsContainer:"._bandsContainer"},regions:{bandsContainerRegion:"@ui.bandsContainer"},serializeData:function(){return{bandCreateUrl:o.GLOBAL_BAND_CREATE.makeUrl()}},initialize:function(){this.collection=new r([]),this.listenTo(s,"window:scroll:bottom",(function(){this.collection.fetchManagedBands()}))},onRender:function(){var e=l.build({collection:this.collection});this.listenTo(e,e.EVENT.APPLY,(function(e){this.collection.applyNewBands(e)})),this.showChildView("bandsContainerRegion",e)},onAttach:function(){this.collection.fetchManagedBands().then(i.bind((function(){0==this.collection.size()&&(this.ui.bandsContainer.hide(),this.ui.noResultMsg.show())}),this))}});d.build=function(){return new d},e.exports=d},3227:function(e,t,n){var i=n(0),a=n(10),s=n(4),o=n(82),r=n(153),l=n(3228),c=s.View.extend({tagName:"li",className:"cCoverItem",attributes:{"data-viewname":"DManagedBandItemView"},template:i.template(l),ui:{applyBtn:"._applyBtn"},events:{"click @ui.applyBtn":function(){this.trigger("apply",this.model)}},serializeData:function(){return{thumbnailCoverImage:o.makeMediumSquareCoverUrl(this.model.get("cover")),formattedMemberCount:a.numberFormat(this.model.get("memberCount")||0),certified:this.model.isCertified(),name:this.model.getBandName(),skin:this.model.getBandSkin(),bandUrl:r.GROUP_BAND_HOME.makeUrl({band_no:this.model.getBandNo()})}}});e.exports=c},3228:function(e,t){e.exports='<div class="bandUri">\n    <div class="cover">\n        <div class="uCoverImage -w80 -border">\n            <span class="coverInner">\n                <img src="<%- thumbnailCoverImage %>" class="coverImg" alt="<%- name %>">\n            </span>\n        </div>\n    </div>\n    <div class="bandName">\n        <div class="name">\n            <a href="<%- bandUrl %>" class="text"><%- name %></a>\n        </div>\n        <p class="member"><%= IM(\'word_ordered_member.html_text\', {cnt: formattedMemberCount}) %></p>\n        <button type="button" class="btnRequest _applyBtn"><%- IM(\'setting.withdrawal.release.label\') %></button>\n    </div>\n</div>\n<a href="<%- bandUrl %>" class="bandLink"><span class="gSrOnly"><%- name %></span></a>'},3229:function(e,t){e.exports='<div class="wide">\n    <section class="myBand gContentCardShadow">\n        <h1 class="sectionTitle"><%= IM(\'groupband.pr_application_title\') %></h1>\n        <p class="desc"><%- IM(\'groupband.pr_application_subtitle\') %></p>\n        <div class="guide">\n            <ul>\n                <li><%- IM(\'promotion.band.guide1\') %></li>\n                <li><%- IM(\'promotion.band.guide2\') %></li>\n            </ul>\n        </div>\n\n        <div class="_bandsContainer"></div>\n\n        <div class="bandFindMake _noResultMsg" style="display: none;">\n            <a href="<%- bandCreateUrl %>" class="bandAdd">\n                <span class="iconAdd -add"></span>\n                <p class="none"><%= IM("discover.manage.txt.no_result") %></p>\n            </a>\n        </div>\n    </section>\n</div>'},3230:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3231),o=n(22),r=n(904),l=n(82),c=n(488),d=n(499),u=n(498),h=a.View.extend({attributes:{"data-viewname":"DFeedSettingView"},initialize:function(e){this.myBands=[],this.openBands=[]},template:i.template(s),templateContext:function(){return{}},ui:{btnUnhide:"._btnUnhide"},events:{"click @ui.btnUnhide":function(e){var n=t(e.currentTarget);return r.showBandFromFeed({band_no:n.data("bandNo")}).then(i.bind((function(){var e=n.data("hideType");"my"==e?this.myBands=this._a(this.myBands,n.data("bandNo")):"open"==e&&(this.openBands=this._a(this.openBands,n.data("bandNo"))),this.render()}),this)),!1}},_a:function(e,t){return i.without(e,i.findWhere(e,{band_no:t}))},onBeforeAttach:function(){var e=t(i.template(u)({_loading_size:d.Size.MEDIUM,middleClass:c.ELEMENT.SCREEN_VERTICAL_MIDDLE})).appendTo(this.$el);r.getHiddenBandsFromFeed().then(i.bind((function(t){function n(e){var t;return t=e.type==o.BAND_TYPE.PAGE?e.profile_image:e.cover,l.makeMediumSquareCoverUrl(t)}this.myBands=t.my_bands,this.openBands=t.open_bands,i.each(this.myBands,(function(e,t){e.coverImg=n(e)})),i.each(this.openBands,(function(e,t){e.coverImg=n(e)})),e.remove(),this.render()}),this))},serializeData:function(){return{myBands:this.myBands,openBands:this.openBands}}});return h.build=function(){return new h},h}.call(t,n,t,e))||(e.exports=i)},3231:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM("feed.setting.title") %></h1>\n\n    <% if (myBands.length > 0) { %>\n    <div class="uTableList infoTable">\n        <h2 class="cell groupLabel"><%- IM(\'feed.setting.hidden.in_my_feed\') %></h2>\n        <div class="cell">\n            <ul class="coverList">\n                <% _.each(myBands, function(band, index) { %>\n                <li class="item">\n                    <div class="cell cover">\n                        <div class="uCoverImage -w36 -border">\n                                <span class="coverInner">\n                                    <img src="<%- band.coverImg %>" class="coverImg" alt="<%- band.name %>">\n                                </span>\n                        </div>\n                    </div>\n                    <div class="cell name"><span><%- band.name %></span></div>\n                    <div class="cell btn">\n                        <button type="button" class="uButton -sizeS -confirm2 _btnUnhide" data-band-no="<%- band.band_no %>" data-hide-type="my"><%= IM(\'feed.setting.unhide\') %></button>\n                    </div>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n    <% } %>\n\n    <% if (openBands.length > 0) { %>\n    <div class="uTableList infoTable">\n        <h2 class="cell groupLabel"><%- IM(\'feed.setting.hidden.in_open_feed\') %></h2>\n        <div class="cell">\n            <div class="coverList">\n                <% _.each(openBands, function(band, index) { %>\n                <li class="item">\n                    <div class="cell cover">\n                        <div class="uCoverImage -w36 -border">\n                                <span class="coverInner">\n                                    <img src="<%- band.coverImg %>" class="coverImg" alt="<%- band.name %>">\n                                </span>\n                        </div>\n                    </div>\n                    <div class="cell name"><span><%- band.name %></span></div>\n                    <div class="cell btn">\n                        <button type="button" class="uButton -sizeS -confirm2 _btnUnhide" data-band-no="<%- band.band_no %>" data-hide-type="open"><%= IM(\'feed.setting.unhide\') %></button>\n                    </div>\n                </li>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n    <% } %>\n\n    <% if (myBands.length == 0 && openBands.length == 0) { %>\n    <p class="uEmpty"><span><%= IM(\'feed.setting.no_results\') %></span></p>\n    <% } %>\n</section>'},3232:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),a=n(4),s=n(3233),o=n(499),r=n(498),l=n(488),c=n(3234),d=n(3236),u=n(157),h=n(159),p=n(1439),_=n(26),m=n(2098),g=n(495),b=n(487),f=n(583),v=n(512),C=a.View.extend({attributes:{"data-viewname":"DKeywordGroupLayoutView","aria-live":"polite"},className:"bandFindWrap",behaviors:[{behaviorClass:h},{behaviorClass:g,sceneId:g.SCENE.KEYWORD_BAND_LIST},{behaviorClass:b}],templateContext:function(){var e=this._keywordGroups;return{makeKeywordGroupList:function(){return m.makeGroupTemplate(e)}}},ui:{keywordRegion:"._keywordRegion",bandList:"._bandList",showTotalGroupBtn:"._showTotalGroupBtn",totalGroupList:"._totalGroupList",dimmed:"._dimmed"},regions:{keywordRegion:{el:"@ui.keywordRegion",replaceElement:!1},bandList:{el:"@ui.bandList",replaceElement:!0}},events:{"click @ui.showTotalGroupBtn":function(){return this._toggleTotalGroupLayer(),!1},"click @ui.dimmed":function(){return this._toggleTotalGroupLayer(),!1}},onMessages:(t={},t[h.MSG.KEYWORD_LIST_KEYWORD_CLICK]="_changeKeyword",t),initialize:function(e){this._dataFetched=!1,this._groupName=e.groupName,this._keywordName=e.keywordName,this._totalGroupLayerOpened=!1,this.listenTo(_.getDGlobalChannel(),_.EVENT.HTML_CLICK,i.bind((function(){this._totalGroupLayerOpened&&this._toggleTotalGroupLayer()}),this))},getTemplate:function(){return this._dataFetched?i.template(s):i.template(r)},serializeData:function(){return this._dataFetched?{backUrl:u.GLOBAL_DISCOVER.makeUrl(),groupName:this._groupName,keywordGroups:this._keywordGroups,keywordName:this._keywordName}:{_loading_size:o.Size.MEDIUM,middleClass:l.ELEMENT.SCREEN_VERTICAL_MIDDLE}},onRender:function(){this._dataFetched&&(this._renderKeywords(),this._renderKeywordBands())},onAttach:function(){this._keywordName?this._fetchKeywordBandsWithGroup():this._fetchTotalGroupKeywordsPopularBands()},_fetchKeywordBandsWithGroup:function(){p.fetchKeywordBandsWithGroup(this._groupName,this._keywordName,this).then(i.bind((function(e){if(i.isEmpty(e.keywords))return alert(IM("error.wrong_request")),void u.GLOBAL_DISCOVER.goDForced();this._keywords=e.keywords,this._keywordGroups=e.keywordGroups,this._currentKeyword=i.find(this._keywords,i.bind((function(e){return i.isEqual(e.keyword,this._keywordName)}),this)),this._currentKeyword||(this._currentKeyword=this._keywords[0]),this._fetchKeywordBands(this._currentKeyword).then(i.bind((function(e){this._keywordBandData=e,this._dataFetched=!0,this.render()}),this))}),this),(function(){alert(IM("error.wrong_request")),u.GLOBAL_DISCOVER.goDForced()}))},_fetchTotalGroupKeywordsPopularBands:function(){p.fetchTotalGroupKeywordsPopularBands(this._groupName,this).then(i.bind((function(e){i.isEmpty(e.keywords)?u.GLOBAL_DISCOVER.goDForced():(this._keywords=e.keywords,this._keywordBandData=e.keywordBandData,this._keywordGroups=e.keywordGroups,this._currentKeyword=this._keywords[0],this._dataFetched=!0,this.render())}),this),(function(){alert(IM("error.wrong_request")),u.GLOBAL_DISCOVER.goDForced()}))},_toggleTotalGroupLayer:function(){if(this._totalGroupLayerOpened)return this.ui.showTotalGroupBtn.removeClass(l.ELEMENT.ACTIVE),this.ui.totalGroupList.hide(),void(this._totalGroupLayerOpened=!this._totalGroupLayerOpened);this.ui.showTotalGroupBtn.addClass(l.ELEMENT.ACTIVE),this.ui.totalGroupList.show(),this._totalGroupLayerOpened=!this._totalGroupLayerOpened},_changeKeyword:function(e){var t=this.getRegion("bandList");t.show(f.build()),v.scrollToWithoutEvent(0,0),this._currentKeyword=e,this._fetchKeywordBands(e).then(i.bind((function(t){this._currentKeyword==e&&(this._keywordBandData=t,this._renderKeywordBands())}),this),i.bind((function(){this._currentKeyword==e&&t.empty()}),this))},_renderKeywords:function(){this._keywordListView=c.buildDKeywordListView(this._groupName,this._keywords,this._keywordName),this.showChildView("keywordRegion",this._keywordListView)},_renderKeywordBands:function(){var e=this._currentKeyword.type,t=this._currentKeyword.keyword,n=e===p.KEYWORD_TYPE.REPRESENT,i=d.buildDKeywordBandListView(this._groupName,t,this._keywordBandData,n);this.jplSceneEnter(b.CLASSIFIER.KEYWORD_BAND_LIST,{keyword_group_id:this._groupName,keyword_id:n?null:t,top_yn:n?"Y":"N"}),this.showChildView("bandList",i)},_fetchKeywordBands:function(e){var t=e.type,n=e.keyword;return t==p.KEYWORD_TYPE.REPRESENT?p.fetchKeywordGroupPopularBands(this._groupName,this):t==p.KEYWORD_TYPE.PAGE?p.fetchKeywordGroupPageBands(this._groupName,this):p.fetchKeywordBands(n,this)}});return C.buildDKeywordGroupLayoutView=function(e){return new C({groupName:(e=e||{}).groupName,keywordName:e.keywordName})},C}.call(t,n,t,e))||(e.exports=i)},3233:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'discover.keyword_group.title\') %></h1>\n<div class="keywordPageHead fullWide">\n    <section class="keywordBand">\n        <h1 class="sectionTitle"><%- groupName %><button type="button" class="openKeyword _showTotalGroupBtn"><%- IM(\'keyword.total_keyword_group_open\') %></button></h1>\n        <div class="keywordMenu _keywordRegion"></div>\n    </section>\n    <div class="uKeywordWrap -subject _totalGroupList">\n        <div class="listWrap">\n            <%= makeKeywordGroupList() %>\n        </div>\n        <div class="dimmed _dimmed"></div>\n    </div>\n</div>\n\n<div class="wide">\n    <section class="bandListWrap keywordWrap">\n        <h1 class="gSrOnly"><%- IM(\'ui.label.list\') %></h1>\n        <div class="_bandList" style="display:none"></div>\n    </section>\n</div>'},3234:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(2),a=n(4),s=n(3235),o=n(488),r=n(159),l=n(157),c=n(195),d=a.View.extend({attributes:{"data-viewname":"DKeywordListView"},template:t.template(s),ui:{keywordName:"._keywordName",keywordContainer:"._keywordContainer",keywordWidthTarget:"._keywordWidthTarget",eachKeyword:"._eachKeyword",prevButton:"._prevButton",nextButton:"._nextButton",keywordNavigation:"._keywordNavigation"},events:{"click @ui.keywordName":function(e){var t=i(e.currentTarget),n=parseInt(t.width()),a=parseInt(t.offset().left),s=parseInt(this.getUI("keywordContainer").width()),o=parseInt(this.getUI("keywordContainer").offset().left);e.preventDefault(),t.hasClass("_active")||(a<o&&this._scrollPrev(),s+o<n+a&&this._scrollNext(),this.spawn(r.MSG.KEYWORD_LIST_KEYWORD_CLICK,this._keywords[t.data("keywordIndex")]),this._highLightItem(t))},"click @ui.prevButton":function(){this._scrollPrev()},"click @ui.nextButton":function(){this._scrollNext()}},behaviors:{CourierBehavior:""},initialize:function(e){this._groupName=e.groupName,this._keywords=e.keywords,this._keywordName=e.keywordName},serializeData:function(){return{keywords:this._keywords,keywordName:this._keywordName,targetUrl:l.GLOBAL_KEYWORD_GROUP.makeUrl({group:this._groupName,keyword:this._keywordName})}},onRender:function(){var e=this._findTargetKeyword();this._highLightItem(e)},_findTargetKeyword:function(){var e=t.findIndex(this._keywords,t.bind((function(e){return t.isEqual(e.keyword,this._keywordName)}),this)),n=t.find(this.getUI("keywordName"),t.bind((function(n,i){return t.isEqual(i,e)}),this));return n||this.getUI("keywordName")[0]},onAttach:function(){var e=this.getUI("keywordWidthTarget").width();if(this.getUI("keywordWidthTarget").width(e),e<=1e3)return this.getUI("keywordNavigation").hide(),void this.getUI("keywordContainer").addClass("gTaC");this._slideArea=new c(this.getUI("keywordContainer")[0],{scrollX:!0,scrollY:!1,eventPassthrough:!1,momentum:!0,snap:"._eachKeyword",snapSpeed:600,click:!0}),this._slideArea.on("scrollEnd",t.bind(this._checkButtonActivation,this)),this._checkButtonActivation()},onBeforeDetach:function(){this._slideArea&&(this._slideArea.destroy(),this._slideArea.off(),this._slideArea=null)},_highLightItem:function(e){this.getUI("keywordName").removeClass(o.ELEMENT.ACTIVE),this.getUI("keywordName").removeClass("_active");var t=i(e);t.addClass(o.ELEMENT.ACTIVE),t.addClass("_active")},_checkButtonActivation:function(){var e=this._slideArea.pages.length-1,t=this._slideArea.x==this._slideArea.pages[0][0].x,n=this._slideArea.x==this._slideArea.pages[e][0].x;this.getUI("prevButton").toggleClass(o.ELEMENT.DISABLE,t),this.getUI("nextButton").toggleClass(o.ELEMENT.DISABLE,n)},_scrollPrev:function(){this._slideArea&&this._slideArea.prev()},_scrollNext:function(){this._slideArea&&this._slideArea.next()}});return d.buildDKeywordListView=function(e,t,n){return new d({groupName:e,keywords:t,keywordName:n})},d}.call(t,n,t,e))||(e.exports=i)},3235:function(e,t){e.exports='<div class="keywordMenuWrap _keywordContainer" style="overflow-x:hidden;">\n    <ul class="_keywordWidthTarget">\n        <% _.each(keywords, function(item, index) { %>\n        <li class="_eachKeyword">\n            <a href="<%- targetUrl %>" class="_keywordName" data-keyword-index="<%- index %>"><%- item.keyword %></a>\n        </li>\n        <% }); %>\n    </ul>\n</div>\n<div class="navWrap _keywordNavigation">\n    <button type="button" class="prev _prevButton"><%- IM(\'ui.label.prev\') %></button>\n    <button type="button" class="next _nextButton"><%- IM(\'ui.label.next\') %></button>\n</div>'},3236:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(1708),s=n(1439),o=n(3237),r=n(512),l=i.CollectionView.extend({tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DKeywordBandListView"},childView:o,childViewOptions:function(e,t){return{model:e.get("searchPostsModel"),index:t,groupName:this._groupName,keyword:this._keyword,isRepresent:this._isRepresent}},initialize:function(e){this._groupName=e.groupName,this._keyword=e.keyword,this._isRepresent=e.isRepresent,this._paging=e.paging},onAttach:function(){this.listenTo(r,"window:scroll:bottom",this._fetchNextPage)},onBeforeDetach:function(){this.stopListening(r)},_fetchNextPage:function(){this._paging.next_params&&!this._fetchProgress&&(this._fetchProgress=!0,s.fetchKeywordBands(this._keyword,this,this._paging.next_params.after,this._paging.next_params.limit).then(t.bind((function(e){this._paging=e.paging,this.collection.addItems(e.items)}),this)).always(t.bind((function(){this._fetchProgress=!1}),this)))}});return l.buildDKeywordBandListView=function(e,t,n,i){return new l({groupName:e,keyword:t,collection:a.createKeywordBandCollection(n.items),paging:n.paging,isRepresent:i})},l}.call(t,n,t,e))||(e.exports=i)},3237:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),a=n(4),s=n(3238),o=n(82),r=n(164),l=n(553),c=n(487),d=n(798),u=new IntersectionObserver((function(e){t.each(e,(function(e){$(e.target).trigger("intersect",e)}))}),{rootMargin:"-180px 0px 0px 0px",threshold:[0,1]});return a.View.extend({tagName:"li",className:"cCoverItem",attributes:{"data-viewname":"DKeywordBandItemView"},template:t.template(s),ui:{bandLink:"._bandLink",subscribeBtn:"._subscribeBtn",subscriberCount:"._subscriberCount"},events:{"click @ui.bandLink":function(){this._sendClickLog()},"click @ui.subscribeBtn":function(){this._subscribePageBand()},intersect:function(e,t){this._handleIntersectEvent(t)}},behaviors:[{behaviorClass:c}],initialize:function(e){this._index=e.index,this._groupName=e.groupName,this._keyword=e.keyword,this._isRepresent=e.isRepresent,this._bandCore=this.model.getBandCore(),this._isPageStyle=this._bandCore.showBandTermAsPage(),this.isSubscribing=!1},serializeData:function(){return{enabled:{subscribeBtn:this._bandCore.isSubscribingAvailable()||this.isSubscribing},isPageStyle:this._isPageStyle,coverUrl:o.make(this._bandCore.getBandMainImageUrl(),r.s276),bandUrl:l.home(this._bandCore).url,isCertified:this._bandCore.certified,bandName:this._bandCore.name,bandDesc:this._getBandDesc(),subscriberCountText:this._getSubscriberCountText(),memberCountHtml:this._getMemberCountHtml()}},onRender:function(){this._toggleSubscribeBtn()},onAttach:function(){u.observe(this.el)},onBeforeDetach:function(){this._exposureLoggingTimer&&clearTimeout(this._exposureLoggingTimer),u.unobserve(this.el)},_toggleSubscribeBtn:function(){var e=IM("page_band.label.subscribe_short");this.isSubscribing&&(e=IM("page_band.label.is_subscribing")),this.ui.subscribeBtn.prop("disabled",this.isSubscribing).toggleClass("-disabled",this.isSubscribing).html(e),this.ui.subscriberCount.html(this._getSubscriberCountText())},_subscribePageBand:function(){d.build({onBandJoinCompleted:t.bind((function(e){e&&alert(e),this.isSubscribing=!0,this._toggleSubscribeBtn()}),this)}).startJoinFromBand(this._bandCore.bandNo),this._sendJoinPageLog()},_getBandDesc:function(){var e=this.model.getDescription()||"",t=this.model.getPostContent()||"";return this._isPageStyle&&t?e+" "+t:e},_getSubscriberCountText:function(){var e=this.model.getMemberCount();return this.isSubscribing&&(e+=1),IM("page_band.label.subscriber_count",{subscriberCount:i.numberFormat(e)})},_getMemberCountHtml:function(){return IM("word_ordered_member.html_text",{cnt:i.numberFormat(this.model.getMemberCount())})+" "+IM("word_ordered_leader.html_text",{name:t.escape(this.model.getLeaderName())})},_handleIntersectEvent:function(e){if(e.isIntersecting){if(e.intersectionRatio<1)return;this._exposureLoggingTimer=setTimeout(t.bind((function(){this._sendExposureLog(),this._exposureLoggingTimer=null}),this),500)}else this._exposureLoggingTimer&&clearTimeout(this._exposureLoggingTimer)},_createJplExtraParam:function(){var e=JSON.parse(this.model.get("contentLineage")||{}),n={keyword_group_id:this._groupName,keyword_id:this._isRepresent?null:this._keyword,top_yn:this._isRepresent?"Y":"N",global_card_offset:this._index};return t.extend(n,e)},_sendClickLog:function(){var e=this._createJplExtraParam();this.jplClick(c.CLASSIFIER.BAND_ITEM,e,this._bandCore.bandNo)},_sendExposureLog:function(){var e=this._createJplExtraParam();this.jplExposure(c.CLASSIFIER.BAND_ITEM,e)},_sendJoinPageLog:function(){var e={band_no:this._bandCore.bandNo,container_classifier:c.CLASSIFIER.BAND_ITEM};this.jplClick(c.CLASSIFIER.JOIN_PAGE,e)}})}.call(t,n,t,e))||(e.exports=i)},3238:function(e,t){e.exports='<div class="bandUri">\n    <div class="cover">\n        <div class="uCoverImage -w80 -border <%- isPageStyle ? \'pageCoverImage\' : \'\' %>">\n            <span class="coverInner"><% if (coverUrl) { %><img src="<%- coverUrl %>" class="coverImg _coverImg" alt=""><% } %></span>\n        </div>\n    </div>\n    <div class="bandName">\n        <div class="name">\n            <a href="<%- bandUrl %>" class="text _bandLink" target="_blank">\n                <% if (isCertified) { %><span class="uOfficialBand -sizeS"><%- isPageStyle ? IM(\'ui.label.official_page_band\') : IM(\'ui.official_band\') %></span> <% } %><%- bandName %>\n            </a>\n        </div>\n        <% if(bandDesc) { %>\n        <p class="pSubTxt -multiLine"><%- bandDesc %></p>\n        <% } %>\n\n        <% if (enabled.subscribeBtn) { %>\n        <button type="button" class="btnPageSubscription _subscribeBtn"><%- IM(\'page_band.label.subscribe_short\') %></button>\n        <% } %>\n        <% if (isPageStyle) { %>\n        <div class="readMember">\n            <span class="total _subscriberCount"><%- subscriberCountText %></span>\n        </div>\n        <% } else { %>\n        <p class="member"><%= memberCountHtml /* 태그 있음 */ %></p>\n        <% } %>\n    </div>\n</div>\n<a href="<%- bandUrl %>" class="bandLink _bandLink" target="_blank"><span class="gSrOnly"><%- isPageStyle ? IM(\'ui.label.go_to_this_page\') : IM(\'ui.label.go_to_this_band\') %></span></a>'},3239:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3240),s=n(3242),o=n(157),r=n(499),l=n(498),c=i.View.extend({attributes:{"data-viewname":"DLoginHistoryView"},template:t.template(s),getTemplate:function(){return this._loading?t.template(l):t.template(s)},templateContext:function(){return this._loading?{_loading_size:r.Size.MEDIUM}:{connectedDeviceInfoUrl:o.GLOBAL_SETTING_CONNECTED_DEVICE.makeUrl(),loginHistoryUrl:o.GLOBAL_SETTING_LOGIN_HISTORY.makeUrl(),loginBlockingUrl:o.GLOBAL_SETTING_LOGIN_VERIFICATION.makeUrl(),items:this.collection.models}},collectionEvents:{reset:function(){this._loading=!1,this.render()}},initialize:function(){this._loading=!0,this.collection.fetchLoginHistoryAnd2faSettings()}});return c.build=function(){return new c({collection:new a})},c}.call(t,n,t,e))||(e.exports=i)},3240:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(3241),s=n(54);return i.Collection.extend({model:a,fetchLoginHistoryAnd2faSettings:function(){s.getLoginHistory().then(t.bind((function(e){var t=e?e.items:void 0;this.reset(t||[],{parse:!0})}),this))}})}.call(t,n,t,e))||(e.exports=i)},3241:function(e,t,n){var i;void 0===(i=function(e){var t=n(16),i=(n(2),n(0),n(6)),a=n(9);return i.Model.extend({defaults:{ip:null,ipCountry:null,deviceCategory:null,deviceModel:null,createdAt:null,deviceNo:null,isTrustedDevice:null,isCurrentDevice:null},parse:function(e){return{ip:e.ip,ipCountry:a.getNationInfo(e.ip_country).nationName,deviceCategory:e.device_category,deviceModel:e.device_model,createdAt:t(e.created_at).format("YYYY.MM.DD HH:mm"),deviceNo:e.device_no,isTrustedDevice:e.is_trusted_device||!1,isCurrentDevice:e.is_current_device||!1}}})}.call(t,n,t,e))||(e.exports=i)},3242:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM(\'setting.connected_info\') %></h1>\n\n    <ul class="uTabNav">\n        <a href="<%- connectedDeviceInfoUrl %>" class="btn -settings"><%- IM(\'web.setting.home.btn.connected_device\') %></a>\n        <a href="<%- loginHistoryUrl %>" class="btn -settings -on"><%- IM(\'web.setting.home.btn.login_history\') %></a>\n    </ul>\n\n    <div class="topDesc -smallTxt -bLineNone gPab10">\n        <%= IM("setting.login_history.desc") %>\n    </div>\n\n    <div class="infoTable -lrSpace30 -bLine">\n        <div class="uTableList">\n            <div class="row -lineColorWt4">\n                <div class="cell content">\n                    <p class="titleNormal"><%- IM(\'setting.login_history.login_setting_title\') %></p>\n                </div>\n                <div class="cell btn gPar0">\n                    <a href="<%- loginBlockingUrl %>" role="button" class="uButton -sizeS -confirm2"><%- IM(\'ui.label.change\') %></a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="sectionBox gPal30 gPar30">\n        <div class="uTableList infoTable">\n            <% _.each(items, function(item) { %>\n            <div class="row -lineColorWt4">\n                <h2 class="cell groupLabel gPal0 gFw4"><%= item.get(\'createdAt\') %></h2>\n                <div class="cell">\n                    <div class="deviceList gPar0">\n                        <div class="item">\n                            <span class="cell content">\n                                <span class="loginInfo">\n                                    <%= (item.get(\'isTrustedDevice\')) ? \'<strong class="trusted">\' + IM(\'setting.login_history.login_txt_trusted\') + \'</strong><br>\' : \'\'%>\n                                    <%- IM(\'setting.login_history.login_txt_ip\') %> : <%- item.get(\'ip\') %><br>\n                                    <%- IM(\'setting.login_history.login_txt_country\') %> : <%- item.get(\'ipCountry\') %><br>\n                                    <%- IM(\'setting.login_history.login_txt_device\') %> : [<%- item.get(\'deviceCategory\') %>] <%= item.get(\'deviceModel\') %>\n                                </span>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <% }); %>\n        </div>\n    </div>\n</section>'},3243:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3244),s=n(54),o=n(13),r=n(534),l=n(3245),c=n(1767),d=n(1214),u=n(801),h=n(510),p=n(562),_=i.View.extend({attributes:{"data-viewname":"DLoginVerificationSettingView"},template:t.template(a),templateContext:function(){return{isAbroadLoginBlock:!!this._isAbroadLoginBlock,isTrustedDevice:!!this._isTrustedDevice,btnSmsAuthLabel:this._isPhoneNumber2faOn?IM("ui.label.unlock"):IM("ui.label.settings"),smsAuthDesc:this._hasPhoneNumber()&&this._isPhoneNumber2faOn?r.transformInternationalPhoneNumber(this._userData.getPhoneNumber().formatInternational):IM("setting.login_verification.sms_auth.desc"),btnExternalAuthLabel:this._isTotp2faOn?IM("ui.label.unlock"):IM("ui.label.settings")}},ui:{checkboxLoginBlock:"._checkboxLoginBlock",btnSMSAuth:"._btnSMSAuth",btnExternalAuth:"._btnExternalAuth"},events:{"click @ui.checkboxLoginBlock":"_onChangeLoginBlock","click @ui.btnExternalAuth":"_onClickBtnExternalAuth","click @ui.btnSMSAuth":"_onClickBtnSMSAuth"},initialize:function(){this._userData=o.getUserData()},onAttach:function(){this._renderAfterFetchUserSettingData()},_renderAfterFetchUserSettingData:function(){return $.when(s.getAbroadLoginBlock(),s.get2faSettings(),o.getUserData().fetchUserData()).then(t.bind((function(e,t,n){this._isAbroadLoginBlock=e,this._isTrustedDevice=t.is_trusted_device,this._isPhoneNumber2faOn=t.is_phone_number_2fa_on,this._isTotp2faOn=t.is_totp_2fa_on,this.render()}),this))},_hasPhoneNumber:function(){return this._userData.getPhoneNumber().isValidNumber},_onChangeLoginBlock:function(){s.setAbroadLoginBlock(!this._isAbroadLoginBlock).then(t.bind((function(){this._isAbroadLoginBlock=!this._isAbroadLoginBlock,this.getUI("checkboxLoginBlock").prop("checked",this._isAbroadLoginBlock)}),this))},_onClickBtnExternalAuth:function(){this._isTotp2faOn?this._openDisable2faConfirmView(u.LOGIN_FACTOR_2FA.TOTP):l.buildAsLayer().then(t.bind((function(e){this.listenTo(e,l.EVENT.AUTH_COMPLETE,(function(){this._renderAfterFetchUserSettingData()}))}),this))},_onClickBtnSMSAuth:function(){this._isPhoneNumber2faOn?this._openDisable2faConfirmView(u.LOGIN_FACTOR_2FA.PHONE_NUMBER):(this._profileSettingModel=new d.build,this._profileSettingModel.fetchUserProfile().then(t.bind((function(e){this._profileSettingModel=e,this.phoneController=c.buildController({profileSettingModel:this._profileSettingModel,authType:u.AUTH_TYPE_2FA}),this.listenTo(this.phoneController,u.SMS_AUTH_COMPLETE,(function(e){this._register2fa(u.LOGIN_FACTOR_2FA.PHONE_NUMBER,e)})),this._hasPhoneNumber()?this._hasPhoneNumber()&&!this._isPhoneNumber2faOn&&this._openPhoneVerifyView():this._openPhoneNumberInputView()}),this)))},_openDisable2faConfirmView:function(e){if(this._isTrustedDevice){var t=h.openLayer({bodyDesc:IM("setting.login_verification.disable_2fa_confirm"),confirm:IM("ui.label.confirm"),cancel:IM("ui.label.cancel")});this.listenTo(t,h.EVENTS.CONFIRM,(function(){this._setDisable2fa(e)}))}else p.openLayer({bodyDesc:IM("setting.login_verification.disable_2fa_error_alert")})},_setDisable2fa:function(e){s.disable2fa(e).then(t.bind((function(){this._renderAfterFetchUserSettingData()}),this))},_openPhoneNumberInputView:function(){this.phoneController.openPhoneNumberInputView()},_openPhoneVerifyView:function(){var e=this._profileSettingModel.getPhoneNumber().regionCode,t=""+this._profileSettingModel.getPhoneNumber().nationalNumber;this.phoneController.openPhoneView(e,t)},_register2fa:function(e,n){s.register2fa(e,n.token,n.secret).then(t.bind((function(){this._renderAfterFetchUserSettingData()}),this))}});return _.build=function(){return new _},_}.call(t,n,t,e))||(e.exports=i)},3244:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM(\'setting.login_verification\') %></h1>\n\n    <div class="sectionBox">\n        <div class="authAndBlockingDesc">\n            <h2 class="title"><%- IM(\'setting.login_verification.2fa_title\') %></h2>\n            <p class="desc"><%= IM(\'setting.login_verification.2fa_desc\') %></p>\n        </div>\n\n        <div class="infoTable -lrSpace30">\n            <ul class="uTableList">\n                <li class="row -lineColorWt4">\n                    <div class="cell content">\n                        <dl class="descInfo">\n                            <dt><%- IM(\'setting.login_verification.sms_auth.title\') %></dt>\n                            <dd class="gMat6"><%- smsAuthDesc %></dd>\n                        </dl>\n                    </div>\n                    <div class="cell btn gPar0">\n                        <button type="button" class="uButton -sizeS -confirm2 _btnSMSAuth"><%- btnSmsAuthLabel %></button>\n                    </div>\n                </li>\n                <% if(isTrustedDevice) { %>\n                <li class="row -lineColorWt4">\n                    <div class="cell content">\n                        <dl class="descInfo">\n                            <dt><%- IM(\'setting.login_verification.external_auth.title\') %></dt>\n                            <dd class="gMat6"><%- IM(\'setting.login_verification.external_auth.desc\') %></dd>\n                        </dl>\n                    </div>\n                    <div class="cell btn gPar0">\n                        <button type="button" class="uButton -sizeS -confirm2 _btnExternalAuth"><%- btnExternalAuthLabel %></button>\n                    </div>\n                </li>\n                <% } %>\n            </ul>\n        </div>\n\n        <h2 class="sectionSubTitle gPal30"><%- IM("web.setting.topbar.txt.login_blocking") %></h2>\n        <div class="infoTable gPa0">\n            <ul class="uTableList">\n                <li class="row">\n                    <div class="cell content -first">\n                        <dl class="descInfo">\n                            <dt><%= IM("web.setting.login_blocking.label") %></dt>\n                            <dd class="gColorGr2"><%= IM("web.setting.login_blocking.desc1") %><br><%-IM(\'web.setting.login_blocking.desc2\')%></dd>\n                        </dl>\n                    </div>\n                    <div class="cell btn -top">\n                        <span class="uCheck -switch -noLabel">\n                            <input type="checkbox" id="loginBlockingCheck" class="checkInput _checkboxLoginBlock"<%if(isAbroadLoginBlock){%> checked="checked"<%}%>>\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                    <label for="loginBlockingCheck" class="gSrOnly"><%-IM(\'web.setting.login_blocking.label\')%></label>\n                                </span>\n                        </span>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</section>'},3245:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3246),s=n(486),o=n(3247),r=n(54),l=n(3249),c=o.EVENT,d=i.View.extend({attributes:{"data-viewname":"DExternalAuthenticationStep1View"},template:t.template(a),templateContext:function(){return{textCode:this._makeTextCode(this._secret)}},ui:{btnCancel:"._btnCancel",btnNext:"._btnNext",qrCode:"._qrCode"},events:{"click @ui.btnCancel":"destroy","click @ui.btnNext":"_onClickBtnNext"},initialize:function(e){this._period=e.period,this._secret=e.secret,this._token=e.token,this._url=e.url},onAttach:function(){this._makeQrCode()},_makeQrCode:function(){var e=this.getUI("qrCode").get(0);new l(e,{text:this._url,width:110,height:110,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.CorrectLevel.H})},_makeTextCode:function(e){for(var t=e.length%4,n=e.length,i=e.substring(0,t);t<n;)""!=i&&(i+=" "),i+=e.substring(t,t+4),t+=4;return i},_onClickBtnNext:function(){var e=o.buildAsLayer(this._token);s.open(e),this.listenTo(e,c.AUTH_COMPLETE,(function(){this.trigger(c.AUTH_COMPLETE),this.destroy()}))}});return d.EVENT=c,d.buildAsLayer=function(){return r.greetTotp().then((function(e){var t=new d(e);return s.open(t),t}))},d}.call(t,n,t,e))||(e.exports=i)},3246:function(e,t){e.exports='<section class="lyWrap">\n    <div class="lyContent" style="width: 440px">\n        <header class="modalHeader">\n            <h1 class="title"><%- IM(\'setting.login_verification.external_auth.title\') %></h1>\n        </header>\n\n        <div class="modalBody">\n            <div class="modalContentWrap">\n                <p class="headingMsg gTaC gPat26"><%- IM(\'setting.login_verification.external_auth.step1_text1\') %></p>\n\n                <p class="pText -smallFont gTaC gMat8 gColorBk4"><%= IM(\'setting.login_verification.external_auth.step1_text2\') %></p>\n\n                <div class="codeViewBox">\n                    <p class="qrCode _qrCode"></p>\n                    <span class="bar"></span>\n                    <p class="textCode"><%- textCode %></p>\n                </div>\n\n                <p class="pText -smallFont gTaC gMat20 gColorBk4"><%= IM(\'setting.login_verification.external_auth.step1_text3\') %></p>\n            </div>\n        </div>\n\n        <footer class="modalFooter">\n            <button type="button" class="uButton -cancel _btnCancel"><%- IM(\'ui.label.cancel\') %></button>\n            <button type="button" class="uButton _btnNext"><%- IM(\'ui.label.next\') %></button>\n        </footer>\n    </div>\n</section>'},3247:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3248),s=n(486),o=n(801),r=n(54),l={AUTH_COMPLETE:"auth:complete"},c=i.View.extend({attributes:{"data-viewname":"DExternalAuthenticationStep2View"},template:t.template(a),ui:{btnPrev:"._btnPrev",btnConfirm:"._btnConfirm",inputExternalAuthAppCode:"._inputExternalAuthAppCode",inputError:"._inputError"},events:{"click @ui.btnPrev":"destroy","click @ui.btnConfirm":"_register2fa","input @ui.inputExternalAuthAppCode":"_changeViewElementState","keypress @ui.inputExternalAuthAppCode":"_onKeyPressInputAuthCode"},initialize:function(e){this._token=e.token},_changeViewElementState:function(){this.getUI("inputError").text("").hide(),this.getUI("btnConfirm").attr("disabled",""==this.getUI("inputExternalAuthAppCode").val())},_register2fa:function(){var e=this.getUI("inputExternalAuthAppCode").val();r.register2fa(o.LOGIN_FACTOR_2FA.TOTP,this._token,e).then(t.bind((function(){this.trigger(l.AUTH_COMPLETE),this.destroy()}),this),t.bind((function(e){var t=IM("web.setting.account.alert.temporary_error");e&&e.result_data&&e.result_data.message&&(t=e.result_data.message),this.getUI("inputError").text(t).show()}),this))},_onKeyPressInputAuthCode:function(e){13!==e.keyCode||this.getUI("btnConfirm").attr("disabled")||this._register2fa()}});return c.EVENT=l,c.buildAsLayer=function(e){var t=new c({token:e});return s.open(t),t},c}.call(t,n,t,e))||(e.exports=i)},3248:function(e,t){e.exports='<section class="lyWrap ">\n    <div class="lyContent" style="width: 380px">\n        <header class="modalHeader">\n            <h1 class="title"><%- IM(\'setting.login_verification.external_auth.title\') %></h1>\n        </header>\n\n        <div class="modalBody">\n            <div class="modalContentWrap">\n                <p class="headingMsg gTaC gPat35"><%- IM(\'setting.login_verification.external_auth.step2_text1\') %></p>\n\n                <div class="uInputWrap gTaC" style="height: 136px;">\n                    <div class="uInput -simpleLine -code -displayInline -borderColorGr4 gMat25" style="width: 300px;">\n                        <label class="gSrOnly" for="inputExternalAuthAppCode"><%- IM(\'setting.account.title.input_auth_code\') %></label>\n                        <input type="text" id="inputExternalAuthAppCode" class="_inputExternalAuthAppCode" autofocus>\n                        <span class="border"></span>\n                    </div>\n\n                    <p class="inputError gTaC gMat15 _inputError" style="display: none"></p>\n                </div>\n            </div>\n        </div>\n\n        <footer class="modalFooter">\n            <button type="button" class="uButton -cancel _btnPrev"><%- IM(\'ui.label.prev\') %></button>\n            <button type="button" class="uButton _btnConfirm" disabled><%- IM(\'ui.label.confirm\') %></button>\n        </footer>\n    </div>\n</section>'},3249:function(e,t){var n;!function(){function e(e){this.mode=i.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var a=[],s=this.data.charCodeAt(t);s>65536?(a[0]=240|(1835008&s)>>>18,a[1]=128|(258048&s)>>>12,a[2]=128|(4032&s)>>>6,a[3]=128|63&s):s>2048?(a[0]=224|(61440&s)>>>12,a[1]=128|(4032&s)>>>6,a[2]=128|63&s):s>128?(a[0]=192|(1984&s)>>>6,a[1]=128|63&s):a[0]=s,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[i][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=p.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var a=0;a<this.modules.length;a++)for(var s=1*a,o=0;o<this.modules[a].length;o++){var r=1*o;this.modules[a][o]&&(i.beginFill(0,100),i.moveTo(r,s),i.lineTo(r+1,s),i.lineTo(r+1,s+1),i.lineTo(r,s+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=p.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],a=e[n];if(null==this.modules[i][a])for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)this.modules[i+s][a+o]=-2==s||2==s||-2==o||2==o||0==s&&0==o}},setupTypeNumber:function(e){for(var t=p.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=p.getBCHTypeInfo(n),a=0;a<15;a++){var s=!e&&1==(i>>a&1);a<6?this.modules[a][8]=s:a<8?this.modules[a+1][8]=s:this.modules[this.moduleCount-15+a][8]=s}for(a=0;a<15;a++){s=!e&&1==(i>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=s:a<9?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,a=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var r=0;r<2;r++)if(null==this.modules[i][o-r]){var l=!1;s<e.length&&(l=1==(e[s]>>>a&1)),p.getMask(t,i,o-r)&&(l=!l),this.modules[i][o-r]=l,-1==--a&&(s++,a=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,i){for(var a=b.getRSBlocks(e,n),s=new f,o=0;o<i.length;o++){var r=i[o];s.put(r.mode,4),s.put(r.getLength(),p.getLengthInBits(r.mode,e)),r.write(s)}var l=0;for(o=0;o<a.length;o++)l+=a[o].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l||(s.put(t.PAD0,8),s.getLengthInBits()>=8*l));)s.put(t.PAD1,8);return t.createBytes(s,a)},t.createBytes=function(e,t){for(var n=0,i=0,a=0,s=new Array(t.length),o=new Array(t.length),r=0;r<t.length;r++){var l=t[r].dataCount,c=t[r].totalCount-l;i=Math.max(i,l),a=Math.max(a,c),s[r]=new Array(l);for(var d=0;d<s[r].length;d++)s[r][d]=255&e.buffer[d+n];n+=l;var u=p.getErrorCorrectPolynomial(c),h=new g(s[r],u.getLength()-1).mod(u);o[r]=new Array(u.getLength()-1);for(d=0;d<o[r].length;d++){var _=d+h.getLength()-o[r].length;o[r][d]=_>=0?h.get(_):0}}var m=0;for(d=0;d<t.length;d++)m+=t[d].totalCount;var b=new Array(m),f=0;for(d=0;d<i;d++)for(r=0;r<t.length;r++)d<s[r].length&&(b[f++]=s[r][d]);for(d=0;d<a;d++)for(r=0;r<t.length;r++)d<o[r].length&&(b[f++]=o[r][d]);return b};for(var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},s=0,o=1,r=2,l=3,c=4,d=5,u=6,h=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case s:return(t+n)%2==0;case o:return t%2==0;case r:return n%3==0;case l:return(t+n)%3==0;case c:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case u:return(t*n%2+t*n%3)%2==0;case h:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new g([1],0),n=0;n<e;n++)t=t.multiply(new g([1,_.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var s=0,o=e.isDark(i,a),r=-1;r<=1;r++)if(!(i+r<0||t<=i+r))for(var l=-1;l<=1;l++)a+l<0||t<=a+l||0==r&&0==l||o==e.isDark(i+r,a+l)&&s++;s>5&&(n+=3+s-5)}for(i=0;i<t-1;i++)for(a=0;a<t-1;a++){var c=0;e.isDark(i,a)&&c++,e.isDark(i+1,a)&&c++,e.isDark(i,a+1)&&c++,e.isDark(i+1,a+1)&&c++,0!=c&&4!=c||(n+=3)}for(i=0;i<t;i++)for(a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(n+=40);for(a=0;a<t;a++)for(i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(n+=40);var d=0;for(a=0;a<t;a++)for(i=0;i<t;i++)e.isDark(i,a)&&d++;return n+=10*(Math.abs(100*d/t/t-50)/5)}},_={glog:function(e){if(e<1)throw new Error("glog("+e+")");return _.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return _.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)_.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)_.EXP_TABLE[m]=_.EXP_TABLE[m-4]^_.EXP_TABLE[m-5]^_.EXP_TABLE[m-6]^_.EXP_TABLE[m-8];for(m=0;m<255;m++)_.LOG_TABLE[_.EXP_TABLE[m]]=m;function g(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function b(e,t){this.totalCount=e,this.dataCount=t}function f(){this.buffer=[],this.length=0}g.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=_.gexp(_.glog(this.get(n))+_.glog(e.get(i)));return new g(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=_.glog(this.get(0))-_.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=_.gexp(_.glog(e.get(i))+t);return new g(n,0).mod(e)}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(e,t){var n=b.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=[],s=0;s<i;s++)for(var o=n[3*s+0],r=n[3*s+1],l=n[3*s+2],c=0;c<o;c++)a.push(new b(r,l));return a},b.getRsBlockTable=function(e,t){switch(t){case a.L:return b.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return b.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return b.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return b.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},f.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var v=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function C(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}var y=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,n=this._el,i=e.getModuleCount();Math.floor(t.width/i),Math.floor(t.height/i);function a(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}this.clear();var s=a("svg",{viewBox:"0 0 "+String(i)+" "+String(i),width:"100%",height:"100%",fill:t.colorLight});s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(s),s.appendChild(a("rect",{fill:t.colorLight,width:"100%",height:"100%"})),s.appendChild(a("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var o=0;o<i;o++)for(var r=0;r<i;r++)if(e.isDark(o,r)){var l=a("use",{x:String(r),y:String(o)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),s.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),I="svg"===document.documentElement.tagName.toLowerCase()?y:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),a=Math.floor(t.width/i),s=Math.floor(t.height/i),o=['<table style="border:0;border-collapse:collapse;">'],r=0;r<i;r++){o.push("<tr>");for(var l=0;l<i;l++)o.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+a+"px;height:"+s+"px;background-color:"+(e.isDark(r,l)?t.colorDark:t.colorLight)+';"></td>');o.push("</tr>")}o.push("</table>"),n.innerHTML=o.join("");var c=n.childNodes[0],d=(t.width-c.offsetWidth)/2,u=(t.height-c.offsetHeight)/2;d>0&&u>0&&(c.style.margin=u+"px "+d+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,a,s,o,r,l,c,d){if("nodeName"in e&&/img/i.test(e.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*t;else void 0===c&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}function i(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),a=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=a,i.onerror=a,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var a=function(e,t){this._bIsPainted=!1,this._android=C(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return a.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,a=e.getModuleCount(),s=i.width/a,o=i.height/a,r=Math.round(s),l=Math.round(o);t.style.display="none",this.clear();for(var c=0;c<a;c++)for(var d=0;d<a;d++){var u=e.isDark(c,d),h=d*s,p=c*o;n.strokeStyle=u?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=u?i.colorDark:i.colorLight,n.fillRect(h,p,s,o),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,r,l),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,r,l)}this._bIsPainted=!0},a.prototype.makeImage=function(){this._bIsPainted&&i.call(this,e)},a.prototype.isPainted=function(){return this._bIsPainted},a.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},a.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},a}();function w(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),s=0,o=v.length;s<=o;s++){var r=0;switch(t){case a.L:r=v[s][0];break;case a.M:r=v[s][1];break;case a.Q:r=v[s][2];break;case a.H:r=v[s][3]}if(i<=r)break;n++}if(n>v.length)throw new Error("Too long data");return n}(n=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(I=y),this._android=C(),this._el=e,this._oQRCode=null,this._oDrawing=new I(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(w(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},n.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},n.prototype.clear=function(){this._oDrawing.clear()},n.CorrectLevel=a}(),e.exports=n},3250:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3251),s=n(1717),o=n(53),r=n(1012),l=n(82),c=n(157),d=n(1025),u=n(495),h=n(487),p=i.View.extend({tagName:"section",className:"sSettingBand gBoxShadow",attributes:{"data-viewname":"DEmailSubscriptionSettingView"},getTemplate:function(){return this._data?t.template(a):t.template(['<div style="height:189px;">',r.html(r.Size.MEDIUM,r.MiddleClass.AREA_VERTICAL_MIDDLE),"</div>"].join(""))},behaviors:[h,{behaviorClass:u,sceneId:u.SCENE.EMAIL_UNSUBSCRIBE}],serializeData:function(){var e={};return t.isEmpty(this._data)||(e={name:this._data.band.name,cover:l.makeMediumSquareCoverUrl(this._data.band.cover),state:this._data.member.receive_email_notification}),e},ui:{title:"._title",link:"._link"},events:{"click @ui.link":function(e){e.preventDefault(),this._busy||(this._done?c.GLOBAL_HOME.goDForced():(this._busy=!0,this._sendEmailNotificationClickLog(!this._data.member.receive_email_notification),s.setMemberReceivingEmailInfo({token:this._token,receive_email_notification:!this._data.member.receive_email_notification}).then(t.bind((function(){this._done=!0,this.ui.title.html(IM("email_subscription.done")),this.ui.link.html(IM("ui.label.confirm"))}),this)).always(t.bind((function(){this._busy=!1}),this))))}},initialize:function(e){this._data=null,this._done=!1,this._token=o.getCurrentRouteInfo().pathVariables.token,this._busy=!1,this._isAccessedByVirtualMember=!1},onAttach:function(){s.getMemberReceivingEmailInfo({token:this._token}).then(t.bind((function(e){this._data={band:{cover:e.band.cover,name:e.band.name,band_no:e.band.band_no},member:{user_no:e.member.user_no||null,email:e.member.email||null,receive_email_notification:e.member.receive_email_notification}},this._isAccessedByVirtualMember=!e.member.user_no,this.render(),this._sendEmailUnsubscribeSceneEnterLog()}),this))},_sendEmailUnsubscribeSceneEnterLog:function(){var e=d.extractEmailNotificationParamsFromQueryString();d.hasEmailNotificationParams(e)&&this.jplSceneEnter(h.CLASSIFIER.EMAIL_UNSUBSCRIBE,{notification_type:e.notificationType,notified_by:e.notifiedBy,task_id:e.taskId,band_no:this._data.band.band_no,user_identifier:this._data.member.user_no||this._data.member.email,is_virtual_member:this._isAccessedByVirtualMember?"Y":"N"})},_sendEmailNotificationClickLog:function(e){var t=d.extractEmailNotificationParamsFromQueryString();d.hasEmailNotificationParams(t)&&this.jplClick(h.CLASSIFIER.EMAIL_NOTIFICATION,{value:e?"on":"off",notification_type:t.notificationType,notified_by:t.notifiedBy,task_id:t.taskId,band_no:this._data.band.band_no,user_identifier:this._data.member.user_no||this._data.member.email,is_virtual_member:this._isAccessedByVirtualMember?"Y":"N"})}});return p.build=function(){return new p({})},p}.call(t,n,t,e))||(e.exports=i)},3251:function(e,t){e.exports='<h1 class="sectionTitle _title"><%= state ? IM(\'email_subscription.title\') : IM(\'email_subscription.done\') %></h1>\n<div class="subscribeManage">\n    <div class="uFlexItem">\n        <span class="thumb">\n            <div class="uCoverImage -w80 -border">\n                <span class="coverInner">\n                    <img src="<%- cover %>" class="coverImg" alt="<%- IM(\'web.noui.bandcreate.title.band_skin\') %>">\n                </span>\n            </div>\n        </span>\n        <span class="body">\n            <span class="text ellipsis"><%- name %></span>\n        </span>\n        <span class="etc">\n            <a href="#" class="uButton _link"><%= state ? IM(\'email_subscription.turn_off\') : IM(\'email_subscription.turn_on\') %></a>\n        </span>\n    </div>\n</div>'},3252:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3253),s=n(1012),o=n(579),r=n(157),l=i.View.extend({attributes:{"data-viewname":"DShareStickerView"},className:"shareStickerWrap",getTemplate:function(){return this._data?t.template(a):t.template(['<div style="height:189px;">',s.html(s.Size.MEDIUM,s.MiddleClass.AREA_VERTICAL_MIDDLE),"</div>"].join(""))},templateContext:function(){return{name:this.name,description:this.description,mainImage:this.mainImage}},initialize:function(e){this._data=null,this._packNo=e.stickerId},onAttach:function(){return o.getStickerInfo(this._packNo).then(t.bind((function(e){e=e.sticker,this.name=e.name,this.description=e.description,this.mainImage=e.main_image,this._data=!0,this.render()}),this)).fail(t.bind((function(){alert(IM("error.wrong_request")),r.GLOBAL_HOME.goDForced()}),this))}});return l.build=function(e){return new l(e)},l}.call(t,n,t,e))||(e.exports=i)},3253:function(e,t){e.exports='<p class="shareSticker">\n    <img src="<%- mainImage.url %>" width="240" alt="">\n    <strong><%- name %></strong>\n    <span><%= IM(\'share_sticker.desc\') %></span>\n</p>'},3254:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(3255),s=n(1056),o=n(3256),r=n(3258),l=i.View.extend({tagName:"section",className:"sMoreSetting gContentCardShadow",attributes:{"data-viewname":"DTranslationSettingView"},template:t.template(a),ui:{targetLanguageLink:"._targetLanguageLink",myLanguagesLink:"._myLanguagesLink"},events:{"click @ui.targetLanguageLink":function(e){e.preventDefault(),this._openTargetLanguageView()},"click @ui.myLanguagesLink":function(e){e.preventDefault(),this._openMyLanguagesView()}},initialize:function(e){this._targetLanguage=e.targetLanguage,this._myLanguages=e.myLanguages},serializeData:function(){return{targetLanguage:this._serializeSelectedLanguageName(this._targetLanguage)||IM("ui.label.no_selection"),myLanguages:this._serializeSelectedLanguageName(this._myLanguages)||IM("ui.label.no_selection")}},_serializeSelectedLanguageName:function(e){return t.chain(e.languages).filter((function(e){return t.has(this.codes,e.code)}),{codes:t.chain([e.selected]).flatten().compact().indexBy().value()}).pluck("name").value().join(", ")},_openTargetLanguageView:function(){var e=o.openAsLayer();this.listenToOnce(e,o.EVENT.CHANGED,(function(e){this._targetLanguage.selected=e,this.render()}))},_openMyLanguagesView:function(){var e=r.openAsLayer();this.listenToOnce(e,r.EVENT.CHANGED,(function(e){this._myLanguages.selected=e,this.render()}))}});return l.build=function(){return s.fetchTranslationSettings().then((function(e){return new l({targetLanguage:e.targetLanguage,myLanguages:e.myLanguages})}))},l}.call(t,n,t,e))||(e.exports=i)},3255:function(e,t){e.exports='<h1 class="sectionTitle"><%- IM(\'setting.translation.title\') %></h1>\n<div class="sectionBox">\n    <div class="uTableList infoTable">\n        <div class="cell">\n            <ul class="uTableList">\n                <li class="row">\n                    <div class="cell content -first">\n                        <div class="cellTitle"><%= IM(\'setting.translation_setting.my_languages.title\') %></div>\n                        <div class="cellInfoText"><%- myLanguages %></div>\n                        <div class="cellDesc"><%= IM(\'setting.translation_setting.my_languages.desc\') %></div>\n                    </div>\n                    <div class="cell btn"><button type="button" class="uButton -sizeS -confirm3 _myLanguagesLink"><%- IM(\'ui.label.change\') %></button></div>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div class="uTableList infoTable">\n        <div class="cell">\n            <ul class="uTableList">\n                <li class="row">\n                    <div class="cell content -first">\n                        <div class="cellTitle"><%= IM(\'setting.translation_setting.target_language.title\') %></div>\n                        <div class="cellInfoText"><%- targetLanguage %></div>\n                        <div class="cellDesc"><%= IM(\'setting.translation_setting.target_language.desc\') %></div>\n                    </div>\n                    <div class="cell btn"><button type="button" class="uButton -sizeS -confirm3 _targetLanguageLink"><%- IM(\'ui.label.change\') %></button></div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>'},3256:function(e,t,n){var i;void 0===(i=function(e){var t=n(2),i=n(0),a=n(4),s=n(3257),o=n(1056),r=n(486),l=n(154),c={CHANGED:"CHANGED"},d=a.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DTranslationTargetLanguageView"},template:i.template(s),ui:{language:"._language",translatable:"._translatable",radio:"._radio",cancelBtn:"._cancelBtn",confirmBtn:"._confirmBtn"},events:{"change @ui.radio":function(e){this._selectLanguage(e.target)},"click @ui.cancelBtn":"_closeSelf","click @ui.confirmBtn":"_setTargetLanguage",click:function(e){e.target==this.el&&this._closeSelf()}},initialize:function(e){var t=o.getTargetLanguage();this._languages=t.languages,this._selected=t.selected||"",this._changed=this._selected},serializeData:function(){return{cid:this.cid,languages:i.union([{code:"",name:IM("ui.label.no_selection")}],this._languages)}},onRender:function(){i.find(this.ui.radio,(function(e){return e.getAttributeNode("value").value==this._selected&&(this._selectLanguage(e),!0)}),this)},_selectLanguage:function(e){var n=t(e);this.ui.translatable.css("display","none"),n.prop("checked",!0).closest("._language").find("._translatable").css("display",""),this._changed=n.val(),this.ui.confirmBtn.prop("disabled",this._changed==this._selected)},_setTargetLanguage:function(){this._busy||(this._busy=!0,l.wrapActivePromise(o.setTargetLanguage(this._changed),this).then(i.bind((function(){this.trigger(c.CHANGED,this._changed),this._closeSelf()}),this),i.bind((function(){this._busy=!1}),this)))},_closeSelf:function(){r.closeTop()}});return d.EVENT=c,d.openAsLayer=function(){var e=new d({});return r.open(e),e},d}.call(t,n,t,e))||(e.exports=i)},3257:function(e,t){e.exports='<div class="lyContent -w360">\n    <header class="header">\n        <h1 class="title"><%- IM(\'setting.translation_setting.target_language.title\') %></h1>\n    </header>\n\n    <div class="main -spaceNone">\n        <div class="languageBox">\n            <p class="sDesc -bLine -tSpaceNone"><%- IM(\'setting.translation_setting.target_language.desc\') %></p>\n            <ul class="listLine rScroll -h320">\n                <% _.each(languages, function(language) { %>\n                <li class="tLine">\n                    <label class="flexList _language">\n                        <span class="text">\n                            <span class="ellipsis"><%- language.name %></span>\n                            <% if (language.translatable_languages) { %>\n                            <span class="sub _translatable">\n                                <%- IM(\'setting.translation.target_language.translatable\') %><br>\n                                <%- _.pluck(language.translatable_languages, \'name\').join(\', \') %>\n                            </span>\n                            <% } %>\n                        </span>\n                        <span class="etc -alignTop">\n                            <span class="uCheck -radio -noLabel">\n                                <input type="radio" name="target_language_<%- cid %>" class="checkInput _radio" value="<%- language.code %>">\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </span>\n                    </label>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n\n    <footer class="footer -tLine -lrSpaceNone">\n        <button type="button" class="uButton -cancel _cancelBtn"><%- IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _confirmBtn"><%- IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3258:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(3259),s=n(1056),o=n(486),r=n(154),l={CHANGED:"CHANGED"},c=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DTranslationMyLanguagesView"},template:t.template(a),ui:{checkboxNothing:"._checkboxNothing",checkbox:"._checkbox",cancelBtn:"._cancelBtn",confirmBtn:"._confirmBtn"},events:{"change @ui.checkboxNothing":function(){this.ui.checkbox.prop("checked",!1),this._toggleConfirmBtn()},"change @ui.checkbox":function(){this.ui.checkboxNothing.prop("checked",0==this.ui.checkbox.filter(":checked").length),this._toggleConfirmBtn()},"click @ui.cancelBtn":"_closeSelf","click @ui.confirmBtn":"_setMyLanguages",click:function(e){e.target==this.el&&this._closeSelf()}},initialize:function(e){var t=s.getMyLanguages();this._languages=t.languages,this._selected=t.selected},serializeData:function(){return{cid:this.cid,languages:t.union([{code:"",name:IM("ui.label.no_selection")}],this._languages)}},onRender:function(){var e=t.indexBy(this._selected);t.isEmpty(e)?this.ui.checkboxNothing.prop("checked",!0):t.each(this.ui.checkbox,(function(e){t.has(this.selected,e.getAttributeNode("value").value)&&(e.checked=!0)}),{selected:e}),this._toggleConfirmBtn()},_getCheckedLanguageCodes:function(){return t.map(this.ui.checkbox.filter(":checked"),(function(e){return e.getAttributeNode("value").value}))},_toggleConfirmBtn:function(){this.ui.confirmBtn.prop("disabled",t.isEqual(t.sortBy(this._getCheckedLanguageCodes()),t.sortBy(this._selected)))},_setMyLanguages:function(){var e=this._getCheckedLanguageCodes();this._busy||(this._busy=!0,r.wrapActivePromise(s.setMyLanguages(e),this).then(t.bind((function(){this.trigger(l.CHANGED,e),this._closeSelf()}),this),t.bind((function(){this._busy=!1}),this)))},_closeSelf:function(){o.closeTop()}});return c.EVENT=l,c.openAsLayer=function(){var e=new c({});return o.open(e),e},c}.call(t,n,t,e))||(e.exports=i)},3259:function(e,t){e.exports='<div class="lyContent -w360">\n    <header class="header">\n        <h1 class="title"><%- IM(\'setting.translation_setting.my_languages.title\') %></h1>\n    </header>\n\n    <div class="main -spaceNone">\n        <div class="languageBox">\n            <p class="sDesc -bLine -tSpaceNone"><%- IM(\'setting.translation_setting.my_languages.desc\') %></p>\n            <ul class="listLine rScroll -h320">\n                <% _.each(languages, function(language) { %>\n                <li class="tLine">\n                    <label class="flexList">\n                        <span class="text">\n                            <span class="ellipsis"><%- language.name %></span>\n                        </span>\n                        <span class="etc -alignTop">\n                            <span class="uCheck -checkbox -noLabel">\n                                <input type="checkbox" class="checkInput<%- language.code ? \' _checkbox\' : \' _checkboxNothing\' %>" value="<%- language.code %>">\n                                <span class="checkLabel">\n                                    <span class="shape"></span>\n                                </span>\n                            </span>\n                        </span>\n                    </label>\n                </li>\n                <% }); %>\n            </ul>\n        </div>\n    </div>\n\n    <footer class="footer -tLine -lrSpaceNone">\n        <button type="button" class="uButton -cancel _cancelBtn"><%- IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _confirmBtn"><%- IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3260:function(e,t,n){var i;void 0===(i=function(e){n(2);var t=n(0),i=n(4),a=n(3261),s=n(711),o=n(2099),r=n(512),l=n(495),c=n(487),d=n(157),u=n(187),h=i.View.extend({tagName:"div",className:"bandFindWrap toPage pageBandCover",attributes:{"data-viewname":"DDiscoverRecommendedPageBandView"},behaviors:[{behaviorClass:l,sceneId:l.SCENE.RECOMMEND_PAGE_DETAIL},{behaviorClass:c}],template:t.template(a),templateContext:function(){return{pageBandPRApplicationUri:d.GLOBAL_DISCOVER_PAGEBAND_PR_APPLICATION.makeUrl(),canRenderPageBandPRApplication:u.canRenderPageBandPRApplication()}},ui:{pageBandListRegion:"._pageBandListRegion"},events:{},regions:{pageBandListRegion:{el:"@ui.pageBandListRegion",replaceElement:!0}},childViewEvents:{clickLog:"_sendClickLog"},initialize:function(e){var t=e.response;this._items=t.items||[],this._nextParams=t.paging.next_params,this._fetching=!1},onRender:function(){this._pageBandListView=o.buildMiddleTypeView(this._items),this._getPageBandListRegion().show(this._pageBandListView)},onAttach:function(){this.listenTo(r,"window:scroll:bottom",this._fetchNextPage),this._sendSceneEnterLog()},onBeforeDetach:function(){this.stopListening(r,"window:scroll:bottom",this._fetchNextPage)},_getPageBandListRegion:function(){return this.getRegion("pageBandListRegion")},_fetchNextPage:function(){var e=this._getPageBandListRegion();this._nextParams&&!this._fetching&&e&&e.hasView()&&(this._fetching=!0,s.getRecommendedPageBandList(this._nextParams).then(t.bind((function(e){var t=e.items;this._pageBandListView.addDiscoverPageBandList(t),this._nextParams=e.paging.next_params,this._items=this._items.concat(t)}),this)).always(t.bind((function(){this._fetching=!1}),this)))},_sendSceneEnterLog:function(){this.jplSceneEnter(c.CLASSIFIER.RECOMMEND_PAGE_DETAIL)},_sendClickLog:function(e){var t=e.bandCore.bandNo;e.joining?this.jplClick(c.CLASSIFIER.JOIN_PAGE,{band_no:t,container_classifier:c.CLASSIFIER.RECOMMEND_PAGE},t):this.jplClick(c.CLASSIFIER.RECOMMEND_PAGE,{band_no:t},t)}});return h.build=function(){return s.getRecommendedPageBandList().then((function(e){return new h({response:e})}))},h}.call(t,n,t,e))||(e.exports=i)},3261:function(e,t){e.exports='<div class="wide">\n<% if ( canRenderPageBandPRApplication ) { %>\n    <div class="topGuideBanner gContentCardShadow">\n        <a href="<%- pageBandPRApplicationUri %>" class="topGuideBannerLink">\n            <div class="guideTextBox">\n                <span class="iconImg -iconNotice"></span>\n                <p class="guideText gColorBk2"><%- IM(\'recommended_page.pageband_pr_application_banner_text\') %></p>\n            </div>\n            <button type="button" class="uButton -sizeS -confirm"><%- IM(\'setting.withdrawal.release.label\') %></button>\n        </a>\n    </div>\n    <% } %>\n    <h1 class="sectionTitle gMat38"><%- IM(\'recommended_page_band.title\') %></h1>\n    <section class="bandListWrap keywordWrap">\n        <h1 class="gSrOnly"><%- IM(\'recommended_page_band.title\') %></h1>\n        <ul class="cCoverList _pageBandListRegion"></ul>\n    </section>\n</div>'},3262:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(4),s=n(3263),o=n(3264),r=n(83),l=n(154),c=n(1039),d=n(52),u=n(488),h=n(499),p=n(498),_=n(157),m=a.View.extend({className:"bandFindWrap",attributes:{"data-viewname":"DPageBandPRApplicationView"},getTemplate:function(){return this._dataFetched?t.template(s):t.template(p+'<div class="_pageBandListRegion" style="display: none;"></div>')},templateContext:function(){return this._dataFetched?{isEmpty:this._collection.isEmpty()}:{dataFetched:!1,_loading_size:h.Size.MEDIUM,middleClass:u.ELEMENT.AREA_VERTICAL_MIDDLE}},ui:{createPageBtn:"._createPageBtn",pageBandListRegion:"._pageBandListRegion"},regions:{pageBandListRegion:{el:"@ui.pageBandListRegion",replaceElement:!0}},events:{"click @ui.createPageBtn":function(){_.GLOBAL_PAGE_CREATE.goDForced()}},initialize:function(){this._dataFetched=!1},onDomRefresh:function(){if(this._dataFetched&&!this._collection.isEmpty()){var e=o.buildDPageBandListViewForApplication(this._collection);this.showChildView("pageBandListRegion",e)}},onAttach:function(){var e=[c.BAND_FILTER.LEADER,c.BAND_FILTER.PAGE],n=[c.BAND_FIELD.BAND.BAND_NO,c.BAND_FIELD.BAND.NAME,c.BAND_FIELD.BAND.PROFILE_IMAGE];l.wrapActivePromise(r.getBandListWithFilter(e,n),this).then(t.bind((function(e){var n=d.camelizeKeys(e),a=t.pluck(n,"band");this._collection=new i.Collection(a,{model:o.PageBandViewModel}),this._dataFetched=!0,this.render()}),this)).always(t.bind((function(){this._dataFetched=!1}),this))}});return m.buildDPageBandPRApplicationView=function(){return new m},m}.call(t,n,t,e))||(e.exports=i)},3263:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'pageband.page_setting.manage_intro_info.title\') %></h1>\n<div class="wide">\n    <section class="myBand gContentCardShadow">\n        <h1 class="sectionTitle"><%- IM(\'pageband.pr_application_title\') %></h1>\n        <p class="desc"><%- IM(\'pageband.pr_application_subtitle\') %></p>\n        <div class="guide">\n            <ul>\n                <li><%- IM(\'pageband_pr_application.description1\') %></li>\n                <li><%- IM(\'pageband_pr_application.description2_2\') %></li>\n                <li><%- IM(\'pageband_pr_application.description3\') %></li>\n            </ul>\n        </div>\n<% if ( !isEmpty ) { %>\n        <div class="_pageBandListRegion"></div>\n<% } else { %>\n        <div class="bandFindMake">\n            <a href="#" class="bandAdd _createPageBtn" role="button">\n                <span class="iconAdd -add"></span>\n                <p class="none"><span><%- IM(\'pageband_pr_application.page_not_exist_description1\') %></span><br><span><%- IM(\'pageband_pr_application.page_not_exist_description2\') %></span></p>\n            </a>\n        </div>\n<% } %>\n    </section>\n</div>'},3264:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3265),s=n(82),o=n(162),r=n(711),l=n(154),c=i.View.extend({tagName:"li",className:"cCoverItem",attributes:{"data-viewname":"DPageBandViewForApplication"},template:t.template(a),templateContext:function(){return{thumbnailUrl:s.makeMediumSquareCoverUrl(this.model.getProfileImage()),pageBandUrl:o.PAGE_BAND_HOME.makeUrl({band_no:this.model.getBandNo()})}},ui:{applyButton:"._applyButton"},events:{"click @ui.applyButton":function(){this._requesting||(this._requesting=!0,l.wrapActivePromise(r.requestMyBandToBegin(this.model.getBandNo()),this).then(t.bind((function(e){alert(1===e.result_code?IM("discover.managed_bands.application.completion"):e.result_data.message)}),this)).always(t.bind((function(){this._requesting=!1}),this)))}}}),d=i.CollectionView.extend({tagName:"ul",className:"cCoverList",attributes:{"data-viewname":"DPageBandListViewForApplication"},childView:c});return d.PageBandViewModel=Backbone.Model.extend({idAttribute:"bandNo",getProfileImage:function(){return this.get("profileImage")},getBandNo:function(){return this.get("bandNo")}}),d.buildDPageBandListViewForApplication=function(e){return new d({collection:e})},d}.call(t,n,t,e))||(e.exports=i)},3265:function(e,t){e.exports='<div class="bandUri">\n    <div class="cover">\n        <div class="uCoverImage -w93 -border -circle">\n            <span class="coverInner">\n                <img src="<%- thumbnailUrl %>" class="coverImg" alt="<%- name %>">\n            </span>\n        </div>\n    </div>\n    <div class="bandName">\n        <div class="name">\n            <a href="<%- pageBandUrl %>" class="text "><%- name %></a>\n        </div>\n        <button type="submit" class="btnRequest _applyButton"><%- IM(\'setting.withdrawal.release.label\') %></button>\n    </div>\n</div>\n<a href="<%- pageBandUrl %>" class="bandLink"><span class="gSrOnly"><%- IM(\'ui.label.go_to_this_page\') %></span></a>'},3266:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(495),s=n(487),o=n(157),r=n(3267),l=n(3268),c=n(3276),d=n(3278),u=n(3280),h=n(3284),p=n(3288),_=n(905),m=n(488),g=n(13),b=n(154),f=n(3291),v=n(53),C=n(187),y=i.View.extend({attributes:{"data-viewname":"DGlobalSearchLayoutView"},template:t.template(r),templateContext:function(){return{lnbMenus:this._lnbMenus,canShowLnbMenus:this._lnbMenus.length>1,makeUrl:t.bind(this._getLnbMenuUrl,this)}},behaviors:[{behaviorClass:a,sceneId:a.SCENE.BAND_SEARCH},s],ui:{searchLnbMenu:"._searchLnbMenu",globalSearchContentRegion:"._globalSearchContentRegion",subTabNavRegion:"._subTabNavRegion"},regions:{globalSearchContentRegion:{el:"@ui.globalSearchContentRegion",replaceElement:!0},subTabNavRegion:{el:"@ui.subTabNavRegion",replaceElement:!0}},initialize:function(e){this._lnbMenus=this._getLnbMenus(),this._query=e.query},renderSearchLayoutView:function(e,n,i){this.$el.show();var a=null,s=null,r=null;if(this._query=n.query,this._routeInfoParams=i,this._validateAccess(e)){var b=t.findIndex(this._lnbMenus,(function(n){return n.routeInfo===e||t.contains(n.subRouteInfos,e)}));switch(-1!==b&&(this.ui.searchLnbMenu.removeClass(m.ELEMENT.ACTIVE),this.ui.searchLnbMenu.eq(b).addClass(m.ELEMENT.ACTIVE)),this.ui.searchLnbMenu.each(t.bind((function(e,t){$(t).attr("href",this._getLnbMenuUrl(this._lnbMenus[e]))}),this)),e){case o.GLOBAL_SEARCH:a=l.buildDGlobalSearchTotalView(this._query),s=f.TAB_NAME.BAND_PAGE,r=_.BA_EXTRA_TAB_ALL;break;case o.GLOBAL_BAND_SEARCH:a=c.buildDSortableBandListView(this._query,this._routeInfoParams),s=f.TAB_NAME.BAND_PAGE,r=_.BA_EXTRA_TAB_ALL;break;case o.GLOBAL_PAGE_SEARCH:a=d.buildDSearchPageBandListView(this._query),s=f.TAB_NAME.BAND_PAGE,r=_.BA_EXTRA_TAB_ALL;break;case o.GLOBAL_POST_SEARCH:if(!g.isLogedIn())return void this._goGlobalSearchTotal();a=u.buildDSearchPostListView(this._query),r=_.BA_EXTRA_TAB_POST;break;case o.GLOBAL_MY_BAND_POST_SEARCH:if(!g.isLogedIn())return void this._goGlobalSearchTotal();a=h.buildDMyBandPostListView(this._query),s=f.TAB_NAME.MY_BANDS,r=_.BA_EXTRA_TAB_JOINED_BAND;break;case o.GLOBAL_MY_BAND_COMMENT_SEARCH:if(!g.isLogedIn())return void this._goGlobalSearchTotal();a=p.buildDSearchMyBandCommentListView(this._query),s=f.TAB_NAME.MY_BANDS,r=_.BA_EXTRA_TAB_JOINED_BAND}null!=a?(this.oldParentTab!==r&&this._sendJplOccurLog(),this.oldParentTab=r,this.showChildView("globalSearchContentRegion",a),t.isNull(s)?this.getRegion("subTabNavRegion").empty():(this.searchBandSubTabNavView=f.buildDGlobalSearchBandSubTabNavView({tab:s,query:this._query}),this.showChildView("subTabNavRegion",this.searchBandSubTabNavView))):this._goBandHome()}},_validateAccess:function(e){if(t.isEmpty(this._query))return this._goBandHome(),!1;if(t.isEmpty(this._routeInfoParams)||e!==o.GLOBAL_BAND_SEARCH)return!0;switch(this._routeInfoParams[_.BAND_SEARCH_FILTER.PARAM_KEY]){case _.BAND_SEARCH_FILTER.VALUES.MISSION_ONLY:return C.canShowGlobalSearchBandTabMissionBandMode();case _.BAND_SEARCH_FILTER.VALUES.LOCAL_ONLY:return C.canShowGlobalSearchLocalBand()}return this._routeInfoParams={},e.goDForced({query:this._query}),!1},_sendJplOccurLog:function(){var e=t.find(this._lnbMenus,(function(e){var n=v.getCurrentRouteInfo().routeInfo;return e.routeInfo===n||t.contains(e.subRouteInfos,n)}));this.jplOccur(s.CLASSIFIER.SEARCH_RESULT_TAB_ENTER,{tab:e.tab})},_goGlobalSearchTotal:function(){b.wrapDeferPromise(this).then(t.bind((function(){o.GLOBAL_SEARCH.goDForced({query:encodeURIComponent(this._query)})}),this))},_goBandHome:function(){b.wrapDeferPromise(this).then(t.bind((function(){o.GLOBAL_HOME.goDForced()}),this))},_getLnbMenus:function(){var e=[{name:IM("web.noui.band.title.band")+'<span class="dot"></span>'+IM("pageband.page"),tab:_.BA_EXTRA_TAB_ALL,routeInfo:o.GLOBAL_SEARCH,subRouteInfos:[o.GLOBAL_BAND_SEARCH,o.GLOBAL_PAGE_SEARCH],loginRequired:!1},{name:IM("web.board.member_posts.post_tab_name"),tab:_.BA_EXTRA_TAB_POST,routeInfo:o.GLOBAL_POST_SEARCH,loginRequired:!0},{name:IM("global_search.lnb.joined_band"),tab:_.BA_EXTRA_TAB_JOINED_BAND,routeInfo:o.GLOBAL_MY_BAND_POST_SEARCH,subRouteInfos:[o.GLOBAL_MY_BAND_COMMENT_SEARCH],loginRequired:!0}];return t.filter(e,(function(e){return!e.routeInfo.isAccessRestricted()&&!(e.loginRequired&&!g.isLogedIn())}))},_getPathVariableByRouteInfo:function(e){switch(e){case o.GLOBAL_SEARCH:case o.GLOBAL_BAND_SEARCH:case o.GLOBAL_PAGE_SEARCH:case o.GLOBAL_POST_SEARCH:case o.GLOBAL_MY_BAND_POST_SEARCH:return{query:encodeURIComponent(this._query)}}},_getLnbMenuUrl:function(e){var t=e.routeInfo,n=this._getPathVariableByRouteInfo(t);return t.makeUrl(n)}});return y.buildDGlobalSearchLayoutView=function(e){return new y(e)},y}.call(t,n,t,e))||(e.exports=i)},3267:function(e,t){e.exports='<div class="bandFindWrap <%- canShowLnbMenus ? \'gMat41\' : \'\' %>">\n    <h1 class="gSrOnly"><%- IM(\'search.post_search_result\') %></h1>\n\n    <% if (canShowLnbMenus) { %>\n    <div class="findTopMenuArea">\n        <ul class="findTopMenu">\n            <% _.each(lnbMenus, function(menu, index) { %>\n            <li class="findTopMenuItem">\n                <a href="<%- makeUrl(menu) %>" class="findTopMenuItemLink _searchLnbMenu"><%= menu.name %></a>\n            </li>\n            <% }); %>\n        </ul>\n    </div>\n    <% } %>\n\n    <div class="_subTabNavRegion"></div>\n\n    <div class="wide -w840">\n        <section class="bandListWrap">\n            <div class="_globalSearchContentRegion"></div>\n        </section>\n    </div>\n</div>'},3268:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3269),s=n(159),o=n(487),r=n(3270),l=i.View.extend({attributes:{"data-viewname":"DGlobalSearchTotalView"},template:t.template(a),behaviors:[s,o],ui:{pageGroupBandSearchResultRegion:"._pageGroupBandSearchResultRegion"},regions:{pageGroupBandSearchResultRegion:{el:"@ui.pageGroupBandSearchResultRegion",replaceElement:!0}},initialize:function(e){this._query=e.query},onAttach:function(){var e=r.buildDTotalBandListView(this._query);this.showChildView("pageGroupBandSearchResultRegion",e)}});return l.buildDGlobalSearchTotalView=function(e){return new l({query:e||""})},l}.call(t,n,t,e))||(e.exports=i)},3269:function(e,t){e.exports='<div class="_pageGroupBandSearchResultRegion"></div>'},3270:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),a=n(4),s=n(3271),o=n(1776),r=n(1527),l=n(159),c=n(487),d=n(498),u=n(499),h=n(154),p=n(22),_=n(1777),m=n(1778),g=n(512),b=n(157),f=n(905),v=n(1136),C=n(488),y=a.View.extend({attributes:{"data-viewname":"DGlobalSearchTotalBandListView"},behaviors:[l,c],getTemplate:function(){return this._dataFetched?this._prohibitedTextHtml?i.template(r):this._collection.isEmptyQueryResult()?i.template(o):i.template(s):i.template(d)},templateContext:function(){return this._dataFetched?this._prohibitedTextHtml?{resultHtml:this._prohibitedTextHtml}:this._collection.isEmptyQueryResult()?{bandCreateUrl:b.GLOBAL_BAND_CREATE.makeUrl(),creationTextHtml:IM("discover.search.txt.no_result"),createBtnClass:f.CREATE_BTN_CLASS}:{totalCount:this._collection.getTotalCount(),bandCreateUrl:b.GLOBAL_BAND_CREATE.makeUrl()}:{_loading_size:u.Size.MEDIUM,middleClass:C.ELEMENT.SCREEN_VERTICAL_MIDDLE}},ui:{bandPageListRegion:"._bandPageListRegion"},regions:{bandPageListRegion:{el:"@ui.bandPageListRegion",replaceElement:!0}},onMessages:(t={},t[l.MSG.GLOBAL_SEARCH_GO_BAND_CLICK]=function(e){this.jplClick(c.CLASSIFIER.SEARCHED_BAND,{band_no:e.bandNo,tab:f.BA_EXTRA_TAB_ALL},e.bandNo)},t[l.MSG.GLOBAL_SEARCH_SUBSCRIPTION_CLICK]=function(e){this.jplClick(c.CLASSIFIER.JOIN_PAGE,{band_no:e.bandNo,container_classifier:c.CLASSIFIER.SEARCHED_BAND},e.bandNo)},t),initialize:function(e){this._query=e.query,this._collection=_.buildGlobalSearchBandCollection(this._query,[p.BAND_TYPE.GROUP,p.BAND_TYPE.PAGE].join(","))},onDomRefresh:function(){if(this._dataFetched&&!this._collection.isEmptyQueryResult()){var e=m.buildDSearchBandCollectionView({collection:this._collection,showSchool:!0,showMeetup:!0,showMission:!0});this.showChildView("bandPageListRegion",e)}},onAttach:function(){h.wrapActivePromise(this._collection.searchBandByQuery(),this).then(i.bind((function(){this._dataFetched=!0,this.render(),this._bindToFetchNextPageOnScroll()}),this),i.bind((function(e){e&&null!=e.result_code&&(this._dataFetched=!0,this._prohibitedTextHtml=v.makeErrorResultText(e.result_code),this.render())}),this))},_bindToFetchNextPageOnScroll:function(){this._collection.isEmptyQueryResult()||this.listenTo(g,"window:scroll:bottom",(function(){this._collection.fetchNextBandList()}))}});return y.buildDTotalBandListView=function(e){return new y({query:e||""})},y}.call(t,n,t,e))||(e.exports=i)},3271:function(e,t){e.exports='<h1 class="sectionTitle _totalBandListHead">\n    <%- IM(\'web.postsearch.result_title\') %><strong class="result _bandPageCount"><%- totalCount %></strong>\n</h1>\n\n<div class="_bandPageListRegion"></div>'},3272:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(161),s=i.Model.extend({idAttribute:"bandNo",parse:function(e){return{band:a.createBandCoreWithAction(e),description:e.description,leaderName:e.leaderName,memberCount:e.memberCount,mission:e.mission,recruitingMemberCapacity:e.recruitingMemberCapacity,live:e.live,keywords:e.keywords,schoolInfo:e.schoolInfo,region:e.region,localMeetup:e.localMeetup}},getBandCore:function(){return this.get("band")},getDescription:function(){return this.get("description")},getLeaderName:function(){return this.get("leaderName")},getEscapedLeaderName:function(){return t.escape(this.getLeaderName())},getMemberCount:function(){return this.get("memberCount")},isCreateBandBtn:function(){return 1==this.get("createBandBtn")},isMissionExist:function(){var e=this.getMission();return null!=e&&!e.isRestricted},getEscapedMissionTitle:function(){return this.isMissionExist()?t.escape(this.getMission().title):null},isRecruitingMemberCapacityExist:function(){return null!=this.getRecruitingMemberCapacity()&&this.getRecruitingMemberCapacity()>0},getRemainingRecruitingMemberCount:function(){return this.isRecruitingMemberCapacityExist()?this.getRecruitingMemberCapacity()-this.getMemberCount():0},getRecruitingMemberCapacity:function(){return this.get("recruitingMemberCapacity")},getMission:function(){return this.get("mission")},isLive:function(){return this.get("live")},isKeywordExist:function(){return!t.isEmpty(this.getKeywords())},getKeywords:function(){return this.get("keywords")},getSchoolInfo:function(){return this.get("schoolInfo")},getRegionName:function(){var e=this.get("region");return e&&e.name},getLocalMeetupStartAt:function(){var e=this.get("localMeetup");return e&&e.isLocalMeetup?e.startAt:null}});return s.buildCreateBandBtnModel=function(){return new s({createBandBtn:!0})},s}.call(t,n,t,e))||(e.exports=i)},3273:function(e,t,n){var i=n(0),a=n(10),s=n(4),o=n(159),r=n(3274),l=n(3275),c=n(157),d=n(487),u=n(82),h=n(553),p=n(798),_=n(9),m=s.View.extend({attributes:{"data-viewname":"DGlobalSearchBandView"},tagName:"li",behaviors:[d,o],getTemplate:function(){return this.model.isCreateBandBtn()?i.template(l):i.template(r)},className:function(){return this.model.isCreateBandBtn()?"make":"cCoverItem"},ui:{createBtn:"._createBtn",coverImage:"._coverImage",goBand:"._goBand",subscribePage:"._subscribePage"},templateContext:function(){if(this.model.isCreateBandBtn())return{creationTextHtml:this._creationTextHtml};var e=this.model.getSchoolInfo(),t=_.format.date(this.model.getLocalMeetupStartAt(),"month_day_weekday_time"),n=this.model.isMissionExist(),s=this.model.getRegionName(),o=this._showSchool&&!!e,r=!o&&this._showMeetup&&!!t,l=!o&&!r&&this._showMission&&n,c=!!s||this.model.isKeywordExist(),d=this.model.getRemainingRecruitingMemberCount(),p=this._bandCore.canShowSubscriptionAreaInGlobalSearch(),m=this._bandCore.showMemberRecruiting(),g=i.isFinite(d)&&d>0;return{coverClass:this._bandCore.getCoverClassInGlobalSearch(),coverImageUrl:u.makeMediumSquareCoverUrl(this._bandCore.getBandMainImageUrl(),u.TYPE.s276),bandName:this._bandCore.name,certified:this._bandCore.certified,isLive:this.model.isLive(),description:a.trim(this.model.getDescription()),showSchool:o,schoolInfo:e,showMeetup:r,meetupSchedule:t,showMission:l,escapedMissionTitle:this.model.getEscapedMissionTitle(),showKeyword:c,regionName:s,keywords:this.model.getKeywords(),showSubscriberCount:p,showDisabledSubscribeBtn:p&&this._isPageSubscribedRecently,showSubscribeBtn:p&&this._bandCore.isSubscribingAvailable()&&!this._isPageSubscribedRecently,showMissionRecruitingCount:g&&n,showRecruitingCount:g&&!n,recruitingCount:g?a.numberFormat(d):null,showParticipantCount:m,showBandMemberCount:!p&&!m,formattedMemberCount:a.numberFormat(this.model.getMemberCount()),escapedLeaderName:this.model.getEscapedLeaderName(),targetBandUrl:h.home(this._bandCore).url}},events:{"click @ui.createBtn":function(){this._isLocalOnly?this.spawn(o.MSG.GLOBAL_SEARCH_LOCAL_BAND_RECRUIT_CLICK):c.GLOBAL_BAND_CREATE.goDForced()},"click @ui.goBand":function(){this.spawn(o.MSG.GLOBAL_SEARCH_GO_BAND_CLICK,{bandNo:this._bandCore.bandNo})},"click @ui.subscribePage":function(){this._subscribePage(),this.spawn(o.MSG.GLOBAL_SEARCH_SUBSCRIPTION_CLICK,{bandNo:this._bandCore.bandNo})}},initialize:function(e){this._creationTextHtml=e.creationTextHtml||IM("discover.search.txt.no_satisfaction"),this._showSchool=!!e.showSchool&&_.isKoreaCountryCode(),this._showMeetup=e.showMeetup,this._showMission=e.showMission,this._isLocalOnly=e.isLocalOnly,this._bandCore=this.model.getBandCore()},onDomRefresh:function(){this.model.isCreateBandBtn()||this.ui.coverImage.on("error",i.bind((function(){this.ui.coverImage.off().remove()}),this))},onBeforeDetach:function(){this.ui.coverImage&&this.ui.coverImage.off()},_subscribePage:function(){p.build({onBandJoinCompleted:i.bind((function(e){e&&alert(e),this._isPageSubscribedRecently=!0,this.render()}),this)}).startJoinFromBand(this._bandCore.bandNo)}});e.exports=m},3274:function(e,t){e.exports='<div class="bandUri">\n    <div class="cover">\n        <div class="uCoverImage -w93 -border <%- coverClass %>">\n            <span class="coverInner">\n                <img src="<%- coverImageUrl %>" class="coverImg _coverImage" alt="<%- bandName %>">\n            </span>\n        </div>\n    </div>\n    <div class="bandName">\n        <div class="name">\n            <a href="<%- targetBandUrl %>" class="text _goBand" target="_blank"><% if (certified) { %><span class="uOfficialBand -sizeS"><%- IM(\'ui.official_band\') %></span><% } %> <%- bandName %></a>\n            <% if (isLive) { %><span class="gMarkLive -w26"><%- IM(\'ui.label.live\') %></span><% } %>\n        </div>\n        <% if (description) { %>\n        <p class="pSubTxt"><%- description %></p>\n        <% } %>\n        <% if (showSchool) { %>\n        <p class="pSubTxt -pointColor"><%- schoolInfo %></p>\n        <% } %>\n        <% if (showMeetup) { %>\n        <div class="pSubTxt -pointColor"><span class="iconSchedule"></span><%- IM(\'discover.meetup_schedule\', {schedule: meetupSchedule}) %></div>\n        <% } %>\n        <% if (showMission) { %>\n        <p class="pSubTxt -pointColor"><span class="iconMission"></span><%= IM(\'global_search.mission_proof_text\', {title: escapedMissionTitle }) %></p>\n        <% } %>\n\n        <% if (showKeyword) { %>\n        <ul class="selectedKeywordList">\n            <% if (regionName) { %>\n            <li class="selectedKeywordItem"><span class="iconLocal"></span><%- regionName %></li>\n            <% } %>\n            <% _.each(keywords, function(keyword) { %>\n            <li class="selectedKeywordItem"><%- keyword %></li>\n            <% }); %>\n        </ul>\n        <% } %>\n\n        <% if (showDisabledSubscribeBtn) { %>\n        <button type="button" class="btnPageSubscription _subscribePage -disabled" disabled><%- IM(\'discover.search.bandlist.subscribe_btn.label\') %></button>\n        <% } %>\n        <% if (showSubscribeBtn) { %>\n        <button type="button" class="btnPageSubscription _subscribePage"><%- IM(\'discover.search.bandlist.subscribe_btn.label\') %></button>\n        <% } %>\n        <% if (showSubscriberCount) { %>\n        <div class="readMember">\n            <span class="total"><%= IM(\'global_search.subscribing_number_html\', {count: formattedMemberCount}) %></span>\n        </div>\n        <% } %>\n\n        <% if (showMissionRecruitingCount) { %>\n        <p class="pSubTxt"><%= IM(\'global_search.remainig_recruiting_member_count_text\', {count: \'<em class="statusNumber">\' + recruitingCount + \'</em>\'}) %></p>\n        <% } %>\n        <% if (showRecruitingCount) { %>\n        <p class="pSubTxt"><%= IM(\'discover.n_more_to_start\', {count: \'<em class="statusNumber">\' + recruitingCount + \'</em>\'}) %></p>\n        <% } %>\n        <% if (showParticipantCount) { %>\n        <p class="member">\n            <span class="total"><%= IM(\'global_search.participant_count_html\', {count: formattedMemberCount}) %></span>\n            <%= IM(\'word_ordered_leader.html_text\', {name: escapedLeaderName}) %>\n        </p>\n        <% } %>\n\n        <% if (showBandMemberCount) { %>\n        <p class="member">\n            <span class="total"><%= IM(\'global_search.member_count_html\', {count: formattedMemberCount}) %></span>\n            <%= IM(\'word_ordered_leader.html_text\', {name: escapedLeaderName}) %>\n        </p>\n        <% } %>\n    </div>\n</div>\n\n<a href="<%- targetBandUrl %>" class="bandLink _goBand" target="_blank"><span class="gSrOnly"><%- bandName %></span></a>'},3275:function(e,t){e.exports='<a href="#" class="bandAdd _createBtn">\n\t<span class="iconAdd -type_list -add"></span>\n\t<p class="none"><%= creationTextHtml %></p>\n</a>'},3276:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),a=n(4),s=n(3277),o=n(1527),r=n(159),l=n(487),c=n(498),d=n(499),u=n(488),h=n(154),p=n(22),_=n(1777),m=n(1778),g=n(157),b=n(512),f=n(905),v=n(1136),C=n(1168),y=n(1765),I=n(663),w=a.View.extend({attributes:{"data-viewname":"DGlobalSearchSortableBandListView"},behaviors:[r,l],getTemplate:function(){return this._dataFetched?this._prohibitedTextHtml?i.template(o):i.template(s):i.template(c)},templateContext:function(){return{_loading_size:d.Size.MEDIUM,middleClass:u.ELEMENT.SCREEN_VERTICAL_MIDDLE,resultHtml:this._prohibitedTextHtml,showHeader:!this._collection.isEmptyQueryResult()||this._isLocalOnly,totalCount:this._collection.getTotalCount(),regionBtn:this._isLocalOnly,regionName:this._regionName,showEmpty:this._collection.isEmptyQueryResult(),emptyDesc:this._isLocalOnly?IM("global_search.local_band.empty_desc"):IM("discover.search.txt.no_result")}},ui:{regionBtn:"._regionBtn",bandList:"._bandList",createLink:"._createLink"},regions:{bandList:{el:"@ui.bandList",replaceElement:!0}},events:{"click @ui.regionBtn":"_onClickRegionBtn","click @ui.createLink":"_onClickCreateLink"},onMessages:(t={},t[r.MSG.GLOBAL_SEARCH_GO_BAND_CLICK]=function(e){this.jplClick(l.CLASSIFIER.SEARCHED_BAND,{band_no:e.bandNo,tab:f.BA_EXTRA_TAB_ALL},e.bandNo)},t[r.MSG.GLOBAL_SEARCH_LOCAL_BAND_RECRUIT_CLICK]="_openRecruitMenuLayer",t),initialize:function(e){this._query=e.query,this._filter=this._makeFilterValue(e.filter),this._collection=this._buildCollection(),this._isLocalOnly=!0===this._filter[f.BAND_SEARCH_FILTER.VALUES.LOCAL_ONLY],this._isMissionOnly=!0===this._filter[f.BAND_SEARCH_FILTER.VALUES.MISSION_ONLY]},onDomRefresh:function(){this._dataFetched&&!this._collection.isEmptyQueryResult()&&this._showBandList()},onAttach:function(){this._searchBandByQuery(),this.listenTo(b,"window:scroll:bottom",(function(){this._collection.fetchNextBandList()}))},onBeforeDetach:function(){this.stopListening(b)},_buildCollection:function(){return _.buildGlobalSearchBandCollection(this._query,p.BAND_TYPE.GROUP,this._filter)},_searchBandByQuery:function(){this._dataFetched=!1,this._prohibitedTextHtml=null,h.wrapActivePromise(this._collection.searchBandByQuery(),this).fail(i.bind((function(e){e&&null!=e.result_code&&(this._prohibitedTextHtml=v.makeErrorResultText(e.result_code))}),this)).always(i.bind((function(){this._dataFetched=!0,this.render()}),this))},_makeFilterValue:function(e){var t={};if(!i.isEmpty(e)){var n=e[f.BAND_SEARCH_FILTER.PARAM_KEY];switch(n){case f.BAND_SEARCH_FILTER.VALUES.LOCAL_ONLY:case f.BAND_SEARCH_FILTER.VALUES.MISSION_ONLY:t[n]=!0}}return t},_showBandList:function(){var e=m.buildDSearchBandCollectionView({collection:this._collection,showSchool:!this._isMissionOnly,showMeetup:!this._isMissionOnly,showMission:!0,isLocalOnly:this._isLocalOnly,creationTextHtml:this._isLocalOnly?IM("global_search.local_band.create_item"):null});this.showChildView("bandList",e)},_onClickRegionBtn:function(){this._sendSelectLocationClickLog();var e=C.openLayer();this.listenToOnce(e,C.EVENTS.SELECTED,(function(e){this._rcode=e.getRcode(),this._regionName=e.getName(),this._filter.rcode=this._rcode,this._collection=this._buildCollection(),this._searchBandByQuery()}))},_onClickCreateLink:function(){this._isLocalOnly?this._openRecruitMenuLayer():g.GLOBAL_BAND_CREATE.goDForced()},_openRecruitMenuLayer:function(){var e=I.getLocalBandLfgUrl(this._rcode,this._regionName);y.openLayer(e)},_sendSelectLocationClickLog:function(){this.jplClick(l.CLASSIFIER.SELECT_LOCATION)}});return w.buildDSortableBandListView=function(e,t){return new w({query:e||"",filter:t})},w}.call(t,n,t,e))||(e.exports=i)},3277:function(e,t){e.exports='<% if (showHeader) { %>\n<div class="searchResultBox">\n    <h2 class="sectionTitle"><%- IM(\'web.postsearch.result_title\') %><% if (totalCount) { %><strong class="result"><%- totalCount %></strong><% } %></h2>\n    <% if (regionBtn) { %>\n    <div class="searchFilter">\n        <button type="button" class="buttonFilter <%- regionName ? \'-selected\' : \'\' %> _regionBtn"><span class="filterLabel"><%- regionName || IM(\'region_selection.title\') %></span></button>\n    </div>\n    <% } %>\n</div>\n<% } %>\n\n<div class="_bandList" style="display:none"></div>\n\n<% if (showEmpty) { %>\n<div class="bandFindMake">\n    <a href="#" class="bandAdd _createLink">\n        <span class="iconAdd -add"></span>\n        <p class="none"><%= emptyDesc %></p>\n    </a>\n</div>\n<% } %>'},3278:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),a=n(4),s=n(495),o=n(3279),r=n(1776),l=n(1527),c=n(159),d=n(487),u=n(498),h=n(499),p=n(488),_=n(154),m=n(22),g=n(1777),b=n(1778),f=n(157),v=n(512),C=n(905),y=n(1136),I="<span>"+IM("ui.message.no_search_result")+"</span><br/><span>"+IM("pageband_pr_application.page_not_exist_description2")+"</span>",w=a.View.extend({attributes:{"data-viewname":"DGlobalSearchPageBandListView"},behaviors:[c,{behaviorClass:s,sceneId:s.SCENE.BAND_SEARCH},d],getTemplate:function(){return this._dataFetched?this._prohibitedTextHtml?i.template(l):this._collection.isEmptyQueryResult()?i.template(r):i.template(o):i.template(u)},templateContext:function(){return this._dataFetched?this._prohibitedTextHtml?{resultHtml:this._prohibitedTextHtml}:this._collection.isEmptyQueryResult()?{bandCreateUrl:f.GLOBAL_BAND_CREATE.makeUrl(),creationTextHtml:I,createBtnClass:C.CREATE_BTN_CLASS}:{bandCreateUrl:f.GLOBAL_BAND_CREATE.makeUrl()}:{_loading_size:h.Size.MEDIUM,middleClass:p.ELEMENT.SCREEN_VERTICAL_MIDDLE}},ui:{pageListRegion:"._pageListRegion",pageCount:"._pageCount",createBtn:"."+C.CREATE_BTN_CLASS},regions:{pageListRegion:{el:"@ui.pageListRegion",replaceElement:!0}},events:{"click @ui.createBtn":function(){return f.GLOBAL_PAGE_CREATE.goDForced(),!1}},onMessages:(t={},t[c.MSG.GLOBAL_SEARCH_GO_BAND_CLICK]=function(e){this.jplClick(d.CLASSIFIER.SEARCHED_BAND,{band_no:e.bandNo,tab:C.BA_EXTRA_TAB_ALL},e.bandNo)},t[c.MSG.GLOBAL_SEARCH_SUBSCRIPTION_CLICK]=function(e){this.jplClick(d.CLASSIFIER.JOIN_PAGE,{band_no:e.bandNo,container_classifier:d.CLASSIFIER.SEARCHED_BAND,tab:C.BA_EXTRA_FILTER_PAGE},e.bandNo)},t),initialize:function(e){this._query=e.query,this._collection=g.buildGlobalSearchBandCollection(this._query,m.BAND_TYPE.PAGE)},onDomRefresh:function(){if(this._dataFetched&&!this._collection.isEmptyQueryResult()){var e=b.buildDSearchBandCollectionView({collection:this._collection,creationTextHtml:IM("global_search.page_creation_html")});this.showChildView("pageListRegion",e),this.ui.pageCount.text(this._collection.getTotalCount())}},onAttach:function(){_.wrapActivePromise(this._collection.searchBandByQuery(),this).then(i.bind((function(){this._dataFetched=!0,this.render(),this._bindToFetchNextPageOnScroll()}),this),i.bind((function(e){e&&null!=e.result_code&&(this._dataFetched=!0,this._prohibitedTextHtml=y.makeErrorResultText(e.result_code),this.render())}),this))},_bindToFetchNextPageOnScroll:function(){this._collection.isEmptyQueryResult()||this.listenTo(v,"window:scroll:bottom",(function(){this._collection.fetchNextBandList()}))}});return w.buildDSearchPageBandListView=function(e){return new w({query:e||""})},w}.call(t,n,t,e))||(e.exports=i)},3279:function(e,t){e.exports='<h2 class="sectionTitle"><%- IM(\'web.postsearch.result_title\') %><strong class="result _pageCount"></strong></h2>\n<div class="_pageListRegion"></div>\n'},3280:function(e,t,n){var i;void 0===(i=function(e){var t,i=n(0),a=n(4),s=n(499),o=n(498),r=n(512),l=n(1011),c=n(3281),d=n(154),u=n(157),h=n(488),p=n(1136),_=n(3283),m=n(487),g=n(159),b=n(905),f=a.View.extend({attributes:{"data-viewname":"DGlobalSearchPostListView"},behaviors:[g,m],getTemplate:function(){return this.dataFetched?i.template(_):i.template(o+'<ul class="_postListContainer" style="display: none;"></ul>')},ui:{postListContainer:"._postListContainer",noResultBtn:"._noResultBtn"},regions:{postListContainerRegion:{el:"@ui.postListContainer",replaceElement:!0}},onMessages:(t={},t[g.MSG.GLOBAL_SEARCH_GO_POST_CLICK]=function(e){this.jplClick(m.CLASSIFIER.SEARCHED_POST,{keyword:e.keyword,band_no:e.bandNo,offset:e.offset,tab:b.BA_EXTRA_TAB_POST},e.bandNo)},t),initialize:function(e){this.dataFetched=!1,this.query=e.query,this.collection=e.collection,this._searchResultText="<span>"+IM("ui.message.no_search_result")+"</span>"},serializeData:function(){return this.dataFetched?{dataFetched:!0,query:this.query,totalPostCount:this.collection.getTotalCount(),bandCreateUrl:u.GLOBAL_BAND_CREATE.makeUrl(),searchResultText:this._searchResultText}:{dataFetched:!1,_loading_size:s.Size.MEDIUM,middleClass:h.ELEMENT.SCREEN_VERTICAL_MIDDLE}},onDomRefresh:function(){this.dataFetched&&0!=this.collection.getTotalCount()&&this.showChildView("postListContainerRegion",new v({collection:this.collection,query:this.query}))},onAttach:function(){var e={query:this.query,after:0,limit:this.collection.getSearchBandQueryLimit()};d.wrapActivePromise(this.collection.searchOpenBandPosts(e),this).then(i.bind((function(){this.collection.getTotalCount()>0&&this.listenTo(r,"window:scroll:bottom",this._fetchNextBandList)}),this),i.bind((function(e){var t=e?e.result_code:null;this._searchResultText=p.makeErrorResultText(t)}),this)).always(i.bind((function(){this.dataFetched=!0,this.render()}),this))},_fetchNextBandList:function(){!this._fetchingProgress&&this.collection.isExistNextPaging()&&(this._fetchingProgress=!0,this.collection.fetchNextOpenBandPosts({query:this.query}).always(i.bind((function(){this._fetchingProgress=!1}),this)))}}),v=a.CollectionView.extend({tagName:"ul",className:"cSearchStyleList",attributes:{"data-viewname":"DGlobalSearchPostCollectionView"},childView:c,childViewOptions:function(e,t){return{query:this.options.query,index:t}}});return f.buildDSearchPostListView=function(e){var t=new l;return new f({query:e,collection:t})},f}.call(t,n,t,e))||(e.exports=i)},3281:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(9),s=n(3282),o=n(82),r=n(795),l=n(888),c=n(487),d=n(153),u=n(162),h=n(159),p=n(1041),_=n(488),m=i.View.extend({attributes:{"data-viewname":"DGlobalSearchPostItemView"},behaviors:[c,h,p.withUI("dimArea","clickDim")],template:t.template(s),templateContext:function(){return{overDimClass:_.ELEMENT.OVER_DIM}},tagName:"li",className:"cSearchStyleItem",ui:{dimArea:"._dimArea",goPost:"._goPost",goBand:"._goBand",emotionCountViewRegion:"._emotionCountViewRegion",coverImg:"._coverImg"},events:{"click @ui.goPost":"_showPostPreview","click @ui.goBand":"_showBandPreview"},regions:{emotionCountViewRegion:{el:"@ui.emotionCountViewRegion",replaceElement:!0}},initialize:function(e){this.query=e.query,this.index=e.index},serializeData:function(){var e=this.model.getPostImage();return{thumbnailPostImage:e?o.make(e.url,o.TYPE.s150):null,bandInfo:this.model.getBandCore(),content:this.model.getPostContent(),commentCount:this.model.getPostCommentCount(),emotionCount:this.model.getPostEmotionCount(),bPhotoCountless:this.model.isPostPhotoCountless(),photoCount:this.model.getPostPhotoCount(),videoCount:this.model.getPostVideoCount(),formattedCreatedAt:a.format.date(this.model.getPostCreatedAt(),"short_date_time"),thumbnailCoverImage:t.bind((function(){var e=this.model.getBandCore().cover;return this.model.getBandCore().showProfileImageForSearch()&&(e=this.model.getAuthorProfileImage()),o.makeSmallCoverUrl(e)}),this),bCertified:this.model.isCertified(),postUrl:this.model.getBandCore().makeBandRouteUrl(d.GROUP_BAND_POST_DETAIL,u.PAGE_BAND_POST_DETAIL,{band_no:this.model.getBandNo(),post_no:this.model.getPostNo()}),bandUrl:this.model.getBandCore().makeBandRouteUrl(d.GROUP_BAND_HOME,u.PAGE_BAND_HOME,{band_no:this.model.getBandNo()}),isShowProfileImage:this.model.getBandCore().showProfileImageForSearch()}},onRender:function(){p.renderDimOfView(this),this._renderEmotionCountView()},onDomRefresh:function(){this.getUI("coverImg").on("error",t.bind((function(e){$(e.currentTarget).remove()}),this))},_showPostPreview:function(){var e=this.model.getBandNo(),t=this.model.getPostNo(),n=this.model.getBandCore().makeBandRouteUrl(d.GROUP_BAND_POST_DETAIL,u.PAGE_BAND_POST_DETAIL,{band_no:e,post_no:t});return this.spawn(h.MSG.GLOBAL_SEARCH_GO_POST_CLICK,{bandNo:e,keyword:this.query,offset:this.index}),r.openPreviewBandWindowByClick(n),!1},_showBandPreview:function(){var e=this.model.getBandNo(),t=this.model.getBandCore().makeBandRouteUrl(d.GROUP_BAND_HOME,u.PAGE_BAND_HOME,{band_no:this.model.get("band").bandNo});return this.spawn(h.MSG.GLOBAL_SEARCH_GO_POST_CLICK,{bandNo:e,keyword:this.query,offset:this.index}),r.openPreviewBandWindowByClick(t),!1},_renderEmotionCountView:function(){var e=this.model.getCommonEmotionType(),t=this.model.getPostEmotionCount();t>0&&this.getRegion("emotionCountViewRegion").show(l.buildPostEmotionCountView(e,t,null,!1))}});return m.buildSearchResultPostView=function(e,t,n){return new m({model:e,query:t,index:n})},m}.call(t,n,t,e))||(e.exports=i)},3282:function(e,t){e.exports='<a href="<%- postUrl %>" class="body _goPost">\n    <div class="_dimArea"></div>\n    <% if (thumbnailPostImage) { %>\n    <div class="attach">\n        <% if (videoCount > 0) { %>\n        <span class="iconPlay"><%= IM("web.postwrite.btn.attach.video") %></span>\n        <% } %>\n        <img src="<%- thumbnailPostImage %>" width="93" height="93">\n        <% if (photoCount > 0) { %>\n        <% // isPhotoCountless 는 deprecated 됨. 향후는 photoCount > 10 으로 바꿔야 하나, 현재 검색 결과가 photoCount는 10까지만 나와서 우선은 구버전 유지. (DiscoverBAndModel)%>\n        <span class="imgNum"><% if (bPhotoCountless) { %>10+<% } else { %><%= photoCount %><% } %></span>\n        <% } %>\n    </div>\n    <% } %>\n    <div class="pTxt" data-uiselector="panelPost"><%= content %></div>\n    <div class="addComment">\n        <div class="_emotionCountViewRegion"></div>\n        <% if (commentCount > 0) { %>\n        <span class="status"><%= IM("discover.post.comment.title") %> <strong><%= commentCount %></strong></span>\n        <% } %>\n        <span class="dateCreated"><%- formattedCreatedAt %></span>\n    </div>\n</a>\n<a href="<%- bandUrl %>" class="foot _goBand <%-overDimClass%>">\n    <div class="cover">\n        <% if (isShowProfileImage) { %>\n        <div class="uProfile -size24 -border -pageProfile">\n            <span class="profileInner">\n                <img src="<%- thumbnailCoverImage() %>" class="coverImg _coverImg" alt="<%- bandInfo.name %>">\n            </span>\n        </div>\n        <% } else { %>\n        <div class="uCoverImage -border -w24">\n            <span class="coverInner">\n                <img src="<%- thumbnailCoverImage() %>" class="coverImg _coverImg" alt="<%- bandInfo.name %>">\n            </span>\n        </div>\n        <% } %>\n    </div>\n\n    <span class="name">\n        <% if (bCertified) { %>\n            <span class="uOfficialBand -sizeS"><%= IM(\'ui.official_band\') %></span>\n        <% } %>\n        <%- bandInfo.name %>\n    </span>\n</a>'},3283:function(e,t){e.exports='<% if ( totalPostCount > 0 ) { %>\n<div class="postBoard gPab31">\n    <h1 class="sectionTitle"><%- IM(\'web.postsearch.result_title\') %></h1>\n    <ul class="cSearchStyleList _postListContainer"></ul>\n</div>\n<% } else { %>\n<div class="bandFindMake">\n    <div class="bandAdd">\n        <span class="iconLimit"></span>\n        <p class="none"><%= searchResultText %></p>\n    </div>\n</div>\n<% } %>'},3284:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3285),s=n(1527),o=n(498),r=n(499),l=n(488),c=n(1226),d=n(3286),u=n(512),h=n(26),p=n(517),_=n(154),m=n(1136),g=n(487),b=(n(905),i.CollectionView.extend({tagName:"ul",className:"cSearchStyleList",childView:d})),f=i.View.extend({attributes:{"data-viewname":"DGlobalSearchMyBandPostListView"},getTemplate:function(){return this._dataFetched?this._prohibitedTextHtml?t.template(s):t.template(a):t.template(o)},templateContext:function(){return this._dataFetched?this._prohibitedTextHtml?{resultHtml:this._prohibitedTextHtml}:{isEmpty:this._collection.isEmpty()}:{_loading_size:r.Size.MEDIUM,middleClass:l.ELEMENT.SCREEN_VERTICAL_MIDDLE}},behaviors:[g],ui:{postsRegion:"._postsRegion"},regions:{postsRegion:{el:"@ui.postsRegion",replaceElement:!0}},initialize:function(e){this._query=e.query,this._collection=new c([],{}),this.listenTo(h.getPostChannel(),h.EVENT.POST_DELETED,(function(e){this._collection.remove(p.makeModelId(e.bandNo,e.postNo))})),this.listenTo(h.getPostChannel(),h.EVENT.POST_EMOTION_CHANGED,(function(e){var t=this._collection.get(p.makeModelId(e.getBandNo(),e.getPostNo()));t&&t.set({emotionCount:e.get("emotionCount"),commonEmotionType:e.get("commonEmotionType")})})),this.listenTo(h.getPostChannel(),h.EVENT.POST_COMMENT_COUNT_CHANGED,(function(e){var t=this._collection.get(p.makeModelId(e.bandNo,e.postNo));t&&t.set({commentCount:e.count})}))},onDomRefresh:function(){this._dataFetched&&this._collection.size()>0&&(this.getRegion("postsRegion").show(new b({collection:this._collection})),this.listenTo(u,"window:scroll:bottom",t.bind(this._collection.fetchMyBandsForPosts,this._collection)))},onAttach:function(){this.listenToOnce(this._collection,"fetched",(function(){this._dataFetched=!0,this.render()})),_.wrapActivePromise(this._collection.fetchMyBandsForPosts(this._query),this).then(t.noop,t.bind((function(e){e&&null!=e.result_code&&(this._dataFetched=!0,this._prohibitedTextHtml=m.makeErrorResultText(e.result_code),this.render())}),this))}});return f.buildDMyBandPostListView=function(e){return new f({query:e})},f}.call(t,n,t,e))||(e.exports=i)},3285:function(e,t){e.exports='<% if (!isEmpty) { %>\n<div class="postBoard gPab31">\n    <h1 class="sectionTitle"><%- IM(\'web.postsearch.result_title\') %></h1>\n    <div class="_postsRegion"></div>\n</div>\n<% } else { %>\n<div class="bandFindMake">\n    <div class="bandAdd">\n        <span class="iconLimit"></span>\n        <p class="none"><span><%= IM(\'ui.message.no_search_result\') %></span></p>\n    </div>\n</div>\n<% } %>'},3286:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(9),s=n(3287),o=n(888),r=n(82),l=n(786),c=n(795),d=n(153),u=n(1041),h=n(488);return i.View.extend({behaviors:[u.withUI("dimArea","clickDim")],tagName:"li",className:"cSearchStyleItem",attributes:{"data-viewname":"DGlobalSearchMyBandPostView"},template:t.template(s),templateContext:function(){var e=this.model.get("image");return{photoUrl:e?r.make(e.url,r.TYPE.s150):null,coverUrl:r.make(this._postBandModel.cover,r.TYPE.s75),postUrl:d.GROUP_BAND_POST_DETAIL.makeUrl({band_no:this._bandNo,post_no:this._postNo}),bandUrl:d.GROUP_BAND_HOME.makeUrl({band_no:this._bandNo}),formattedCreatedAt:a.format.date(this.model.getPostCreatedAt(),"short_date_time"),overDimClass:h.ELEMENT.OVER_DIM}},ui:{dimArea:"._dimArea",emotionCountViewRegion:"._emotionCountViewRegion",postLink:"._postLink",bandLink:"._bandLink"},events:{"click @ui.postLink":function(){return l.buildPostDetailAsLayer({bandNo:this._bandNo,postNo:this._postNo,hasBandHeader:!0}),!1},"click @ui.bandLink":function(){var e=d.GROUP_BAND_HOME.makeUrl({band_no:this._bandNo});return c.openPreviewBandWindowByClick(e),!1}},regions:{emotionCountViewRegion:{el:"@ui.emotionCountViewRegion",replaceElement:!0}},modelEvents:{"change:commonEmotionType":"_renderEmotionCountView","change:commentCount":"render"},initialize:function(){this._postBandModel=this.model.get("band"),this._bandNo=this._postBandModel.bandNo,this._postNo=this.model.get("postNo")},onRender:function(){u.renderDimOfView(this),this._renderEmotionCountView()},serializeData:function(){return this.model.toJSON()},_renderEmotionCountView:function(){var e=this.model.get("commonEmotionType"),t=this.model.get("emotionCount"),n=this.getRegion("emotionCountViewRegion");t>0?n.show(o.buildPostEmotionCountView(e,t,null,!1)):n.empty()}})}.call(t,n,t,e))||(e.exports=i)},3287:function(e,t){e.exports='<a href="<%- postUrl %>" class="body _postLink">\n    <div class="_dimArea"></div>\n    <% if (photoUrl) { %>\n    <div class="attach">\n        <% if (isPlayButtonVisible) { %>\n        <span class="iconPlay"><%= IM("web.postwrite.btn.attach.video") %></span>\n        <% } %>\n        <img src="<%- photoUrl %>" alt="" width="93" height="93">\n        <% if (photoCount > 1) { %>\n        <% // isPhotoCountless 는 deprecated 됨. 향후는 photoCount > 10 으로 바꿔야 하나, 현재 검색 결과가 photoCount는 10까지만 나와서 우선은 구버전 유지. (SearchedPostModel) %>\n        <span class="imgNum"><%= isPhotoCountless ? \'10+\' : photoCount %></span>\n        <% } %>\n    </div>\n    <% } %>\n    <div class="pTxt"><%= content %></div>\n    <div class="addComment">\n        <div class="_emotionCountViewRegion"></div>\n        <% if (commentCount > 0) { %>\n        <span class="status"><%= IM(\'web.postdetail.comment.title\') %> <strong><%- commentCount %></strong></span>\n        <% } %>\n        <span class="dateCreated"><%- formattedCreatedAt %></span>\n    </div>\n</a>\n<a href="<%- bandUrl %>" class="foot _bandLink <%-overDimClass%>">\n    <div class="cover">\n        <div class="uCoverImage -w24 -border">\n            <span class="coverInner">\n                <img src="<%- coverUrl %>" class="coverImg" alt="<%- IM(\'web.noui.bandcreate.title.band_skin\') %>">\n            </span>\n        </div>\n    </div>\n    <span class="name">\n        <% if (band.certified) { %><span class="uOfficialBand"><%= IM(\'ui.official_band\') %></span><% } %><%- band.name %>\n    </span>\n</a>'},3288:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(498),s=n(3289),o=n(1527),r=n(499),l=n(488),c=n(3290),d=n(1779),u=n(512),h=n(26),p=n(154),_=n(1136),m=i.CollectionView.extend({tagName:"ul",className:"cSearchStyleList",childView:d,childViewEvents:{deleted:function(e){this.collection.remove(e)}}}),g=i.View.extend({attributes:{"data-viewname":"DGlobalSearchMyBandCommentListView"},getTemplate:function(){return this._dataFetched?this._prohibitedTextHtml?t.template(o):t.template(s):t.template(a)},templateContext:function(){return this._dataFetched?this._prohibitedTextHtml?{resultHtml:this._prohibitedTextHtml}:{isEmpty:this._collection.isEmpty()}:{_loading_size:r.Size.MEDIUM,middleClass:l.ELEMENT.SCREEN_VERTICAL_MIDDLE}},ui:{commentsRegion:"._commentsRegion"},regions:{commentsRegion:{el:"@ui.commentsRegion",replaceElement:!0}},initialize:function(e){this._query=e.query,this._collection=new c([],{}),this.listenTo(h.getCommentChannel(),h.EVENT.COMMENT_DELETED,(function(e){this._collection.removeComment(e)}))},onDomRefresh:function(){this._dataFetched&&this._collection.size()>0&&(this.getRegion("commentsRegion").show(new m({collection:this._collection})),this.listenTo(u,"window:scroll:bottom",t.bind(this._collection.fetchMyBandsForComments,this._collection)))},onAttach:function(){this.listenToOnce(this._collection,"fetched",(function(){this._dataFetched=!0,this.render()})),p.wrapActivePromise(this._collection.fetchMyBandsForComments(this._query),this).then(t.noop,t.bind((function(e){e&&null!=e.result_code&&(this._dataFetched=!0,this._prohibitedTextHtml=_.makeErrorResultText(e.result_code),this.render())}),this))}});return g.buildDSearchMyBandCommentListView=function(e){return new g({query:e})},g}.call(t,n,t,e))||(e.exports=i)},3289:function(e,t){e.exports='<% if (!isEmpty) { %>\n<div class="postBoard gPab31">\n    <h1 class="sectionTitle"><%- IM(\'web.postsearch.result_title\') %></h1>\n    <div class="_commentsRegion"></div>\n</div>\n<% } else { %>\n<div class="bandFindMake">\n    <div class="bandAdd">\n        <span class="iconLimit"></span>\n        <p class="none"><span><%= IM(\'ui.message.no_search_result\') %></span></p>\n    </div>\n</div>\n<% } %>'},3290:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(505),s=n(509),o=n(52);return i.Collection.extend({model:i.Model,modelId:function(e){return s.buildByAttributes(o.camelizeKeys(e)).toApiParams(!0)},removeComment:function(e){this.remove(e.toApiParams(!0))},fetchMyBandsForComments:function(e){var n=this._fetched?this.nextParams:{query:e,passage_length:1024,limit:20};if(n&&!this._fetching)return this._fetching=!0,a.searchMyBandsForComments(n).then(t.bind((function(e){this.nextParams=e.paging.next_params,this._fetched=!0,this.add(e.items,{parse:!0}),this.trigger("fetched")}),this)).always(t.bind((function(){this._fetching=!1}),this))}})}.call(t,n,t,e))||(e.exports=i)},3291:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3292),s=n(187),o=n(157),r=n(53),l=n(905),c=n(487),d={BAND_PAGE:"BAND_PAGE",MY_BANDS:"MY_BANDS"},u={};u[d.BAND_PAGE]=[{id:1,name:IM("global_search.lnb.total"),baFilter:l.BA_EXTRA_TAB_ALL,routeInfo:o.GLOBAL_SEARCH},{id:2,name:IM("web.noui.band.title.band"),baFilter:l.BA_EXTRA_FILTER_BAND,routeInfo:o.GLOBAL_BAND_SEARCH},{id:3,name:IM("global_search.filtering.local"),baFilter:l.BA_EXTRA_FILTER_LOCAL_BAND,routeInfo:o.GLOBAL_BAND_SEARCH,routeQueryParam:{key:l.BAND_SEARCH_FILTER.PARAM_KEY,value:l.BAND_SEARCH_FILTER.VALUES.LOCAL_ONLY},canShow:s.canShowGlobalSearchLocalBand()},{id:4,name:IM("global_search.filtering.band_mission"),baFilter:l.BA_EXTRA_FILTER_MISSION_BAND,routeInfo:o.GLOBAL_BAND_SEARCH,routeQueryParam:{key:l.BAND_SEARCH_FILTER.PARAM_KEY,value:l.BAND_SEARCH_FILTER.VALUES.MISSION_ONLY},canShow:s.canShowGlobalSearchBandTabMissionBandMode()},{id:5,name:IM("pageband.page"),baFilter:l.BA_EXTRA_FILTER_PAGE,routeInfo:o.GLOBAL_PAGE_SEARCH}],u[d.MY_BANDS]=[{id:1,name:IM("web.board.member_posts.post_tab_name"),baFilter:null,routeInfo:o.GLOBAL_MY_BAND_POST_SEARCH},{id:2,name:IM("web.board.member_posts.comment_tab_name"),baFilter:null,routeInfo:o.GLOBAL_MY_BAND_COMMENT_SEARCH}];var h=i.View.extend({attributes:{"data-viewname":"DGlobalSearchBandSubTabNavView"},className:"bandListWrap",template:t.template(a),behaviors:[c],ui:{btnTabNav:"._btnTabNav"},events:{"click @ui.btnTabNav":"_onClickBtnTabNav"},templateContext:function(){return{tabNavs:this._tabNavs,activeTabNavId:this._activeTabNavId,makeUrl:t.bind((function(e){var n={};return t.isUndefined(e.routeQueryParam)||(n[e.routeQueryParam.key]=e.routeQueryParam.value),e.routeInfo.makeUrl({query:this._query},n)}),this)}},initialize:function(e){this._query=e.query,this._parentTab=e.parentTab,this._tabNavs=this._getTabNavs(),this._currentRouteInfo=r.getCurrentRouteInfo(),this._activeTabNavId=this._getActiveTabNavId()},_onClickBtnTabNav:function(e){var n=$(e.currentTarget).data("id"),i=t.find(this._tabNavs,{id:n});i.baFilter&&this.jplClick(c.CLASSIFIER.SEARCH_RESULT_BANDPAGE_FILTER,{filter:i.baFilter})},_getActiveTabNavId:function(){var e=t.find(this._tabNavs,t.bind((function(e){if(e.routeInfo!==this._currentRouteInfo.routeInfo)return!1;if(t.isEmpty(this._currentRouteInfo.params))return!0;if(t.isUndefined(e.routeQueryParam))return!1;var n={};return n[e.routeQueryParam.key]=e.routeQueryParam.value,t.isMatch(this._currentRouteInfo.params,n)}),this));return e?e.id:t.size(this._tabNavs)>0?this._tabNavs[0].id:null},_getTabNavs:function(){var e=t.filter(u[this._parentTab],(function(e){var n=!!t.isUndefined(e.canShow)||e.canShow;return!(e.routeInfo.isAccessRestricted()||!n)}));return e.length>=2?e:null}});return h.TAB_NAME=d,h.buildDGlobalSearchBandSubTabNavView=function(e){return new h({parentTab:e.tab,query:e.query||""})},h}.call(t,n,t,e))||(e.exports=i)},3292:function(e,t){e.exports='<div class="wide -w840">\n    <div class="searchedSortBand">\n        <% _.each(tabNavs, function(nav) { %>\n        <a href="<%- makeUrl(nav) %>" class="sortButton _btnTabNav <%= (activeTabNavId === nav.id) ? \'-active\': \'\' %>" data-id="<%- nav.id %>"><%- nav.name %></a>\n        <% }); %>\n    </div>\n</div>'},3293:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3294),s=n(1160),o=n(3295),r=n(84),l=n(512),c=n(495),d=n(487),u=n(157),h=i.CollectionView.extend({tagName:"ul",className:"cCoverList gMat18",childView:o}),p=i.View.extend({tagName:"div",className:"bandFindWrap missionBandWrap",attributes:{"data-viewname":"DRecommendedBandMissionListView"},template:t.template(a),ui:{filterSelect:"._filterSelect",bandMissions:"._bandMissions",btnMakeLFGBand:"._btnMakeLFGBand"},events:{"change @ui.filterSelect":function(){r.go(this.ui.filterSelect.val())},"click @ui.btnMakeLFGBand":function(){var e=this.collection.getRecommendedBandMissionKeyword(),n=this.collection.getRecommendedBandMissionKeywords();t.isEmpty(n)||n[0].label!==e||(e=null),this.jplClick(d.CLASSIFIER.CREATE_MISSION_BAND,{mission_keyword:e,place:"top_button"}),u.GLOBAL_LFG_BAND_CREATE.goDForced({})}},regions:{bandMissions:{el:"@ui.bandMissions",replaceElement:!0}},behaviors:[{behaviorClass:c,sceneId:c.SCENE.MISSION_RCMD_CARD_MORE},{behaviorClass:d}],initialize:function(e){},serializeData:function(){return{isEmpty:this.collection.isEmpty(),keywords:this.collection.getRecommendedBandMissionKeywords(),keyword:this.collection.getRecommendedBandMissionKeyword(),filters:this.collection.getRecommendedBandMissionFilters()}},onRender:function(){this._renderBandMissions()},onAttach:function(){this.listenTo(l,"window:scroll:bottom",(function(){this.collection.fetchNextRecommendedBandMission()})),this._sendSceneEnterLog()},onBeforeDetach:function(){this.stopListening(l)},_renderBandMissions:function(){var e;e=this.collection.isEmpty()?t.template('<div class="bandFindMake"><div class="bandAdd"><p class="none"><%= text %></p><div class="buttonBox gMat30"><button type="button" class="uButton -sizeL -confirm _btnMakeLFGBand"><%= buttonLabel %></button></div></div></div>')({text:IM("ui.message.empty_conents")+"<br>"+IM("recommended_band_mission.empty.make_band"),buttonLabel:IM("band_mission.setting.create")}):new h({collection:this.collection}),this.showChildView("bandMissions",e)},_sendSceneEnterLog:function(){this.jplSceneEnter(d.CLASSIFIER.MISSION_RCMD_CARD_MORE)}});return p.buildDRecommendedBandMissionListView=function(e,t){var n={keyword:decodeURIComponent(e.keyword||""),filter:t.filter};return s.fetchRecommendedBandMission(n).then((function(e){return new p({collection:e})}))},p}.call(t,n,t,e))||(e.exports=i)},3294:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'recommended_band_mission.title\') %></h1>\n<div class="keywordPageHead fullWide">\n    <section class="keywordBand">\n        <h1 class="sectionTitle gPab0 gMat10"><%- IM(\'recommended_band_mission.title\') %></h1>\n        <p class="guideText gMat4"><%- IM(\'recommended_band_mission.sub_title\') %><br><a href="https://band.us/cs/notice/3957" class="textLink" target="_blank"><%- IM("ui.label.learn_more") %></a></p>\n        <div class="keywordMenu gMat30">\n            <ul>\n                <% _.each(keywords, function(keyword) { %>\n                <li><a href="<%- keyword.url %>" class="<%- keyword.selected ? \'-active\' : \'\' %>"><%- keyword.label %></a></li>\n                <% }); %>\n            </ul>\n        </div>\n    </section>\n</div>\n<div class="wide">\n    <% if (!isEmpty) { %>\n    <div class="topGuideBanner gContentCardShadow gMab36">\n        <a href="#" role="button" class="topGuideBannerLink _btnMakeLFGBand">\n            <div class="guideTextBox">\n                <span class="iconImg -iconPlus"></span>\n                <span class="guideText"><%- IM(\'recommended_band_mission.create_txt\') %></span>\n            </div>\n            <span type="button" class="uButton -sizeS -confirm"><%- IM(\'band_mission.setting.create\') %></span>\n        </a>\n    </div>\n    <% } %>\n    <section class="missionBand">\n        <% if (!isEmpty) { %>\n        <h1 class="sectionTitle"><%- keyword %></h1>\n\n        <div class="uSelect">\n            <select class="_filterSelect">\n                <% _.each(filters, function(filter) { %>\n                <option value="<%- filter.url %>"<%- filter.selected ? \' selected\' : \'\' %>><%- filter.label %></option>\n                <% }); %>\n            </select>\n        </div>\n        <% } %>\n\n        <div class="_bandMissions" style="display:none;"></div>\n    </section>\n</div>'},3295:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3296),s=n(82),o=n(487),r=n(1009);return i.View.extend({tagName:"li",className:"cCoverItem",attributes:{"data-viewname":"DRecommendedBandMissionItemView"},template:t.template(a),ui:{bandLink:"._bandLink"},events:{"click @ui.bandLink":function(){this._sendClickLog()}},behaviors:function(){return[{behaviorClass:o},{behaviorClass:r,exposureCallback:t.bind(this._sendExposureLog,this)}]},initialize:function(e){},serializeData:function(){return{cover:s.makeMediumSquareCoverUrl(this.model.getRecommendedBandMissionBandCoverUrl()),title:this.model.getRecommendedBandMissionTitle(),frequencyText:this.model.getRecommendedBandMissionFrequencyText(),periodText:this.model.getRecommendedBandMissionPeriodText(),guideText:this.model.getRecommendedBandMissionGuideText(),bandUrl:this.model.getRecommendedBandMissionUrl(),participate:this.model.getRecommendedBandMissionParticipateButtonText()}},_sendExposureLog:function(e){this.jplExposure(o.CLASSIFIER.RCMD_CARD,t.extend({exposure_ms:e},this.model.getRecommendedBandMissionContentLineage()))},_sendClickLog:function(){this.jplClick(o.CLASSIFIER.RCMD_CARD,this.model.getRecommendedBandMissionContentLineage(),this.model.getRecommendedBandMissionBandNo())}})}.call(t,n,t,e))||(e.exports=i)},3296:function(e,t){e.exports='\x3c!-- home/discovery 추천밴드 또는 페이지 일 경우 --\x3e\n<div class="bandUri">\n    <div class="cover">\n        <div class="uCoverImage -w93 -border">\n            <span class="coverInner">\n                <img src="<%- cover %>" class="coverImg" alt="<%- IM(\'pageband.create.label.show_cover_image\') %>">\n            </span>\n        </div>\n    </div>\n    <div class="bandName">\n        <div class="name">\n            <a href="<%- bandUrl %>" class="text _bandLink" target="_blank"><%- title %></a>\n        </div>\n        <div class="missionTerm gMat3"><%- frequencyText %><span class="iconDot"></span><%- periodText %></div>\n        <% // guideText : 이스케이프 처리하고, 숫자 영역을 태그로 감싼다. %>\n        <p class="missionDesc pSubTxt gMat1"><%= _.escape(guideText).replace(/([0-9]+(?:,[0-9]{3})*)/, \'<span class="statusNumber">$1</span>\') %></p>\n        <a href="<%- bandUrl %>" class="moreBandLink -arrow gMat6 _bandLink" target="_blank"><%- participate %></a>\n    </div>\n</div>\n\n<a href="<%- bandUrl %>" class="bandLink _bandLink" target="_blank"><span class="gSrOnly"><%- IM(\'postdetail.band_card_info.go_band_home\') %></span></a>'},3297:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3298),s=n(3299),o=n(3300),r=n(157),l=n(3303),c=n(544),d=n(495),u=n(487),h=n(590),p=i.View.extend({attributes:{"data-viewname":"DGlobalSearchSpecialBandView"},className:"bandFindWrap",template:t.template(a),behaviors:[{behaviorClass:d,sceneId:d.SCENE.SCHOOL_SEARCHRESULT},u],ui:{bandListRegion:"._bandListRegion",createRecruitingBandUrl:"._createRecruitingBandUrl",sendCreateBandBannerClickLog:"._sendCreateBandBannerClickLog",bandCreateLink:"._bandCreateLink"},regions:{bandListRegion:{el:"@ui.bandListRegion",replaceElement:!0}},collectionEvents:{"data:updated":function(){this._loading=!1,this.render()}},events:{"click @ui.bandCreateLink":function(e){h.isContentCreationPunished()&&e.preventDefault()},"click @ui.createRecruitingBandUrl":function(){var e;h.isContentCreationPunished()||(e=this._isKid?{type:this.options.queryString.type,kid_id:this.options.queryString.school_id,clazz:this.options.queryString.clazz}:{type:this.options.creation_type,school_id:this.options.queryString.school_id,grade:this.options.queryString.grade,clazz:this.options.queryString.clazz},l.autoCreateRecruitingSpecialBand(this.collection.getBandNameFormat(),e,this._groupBandCreateParams.open_type,this._isBandForKidsEnabled).then((function(e){c.LFG_BAND_HOME.goDForced({band_no:e})})))},"click @ui.sendCreateBandBannerClickLog":function(){this.jplClick(u.CLASSIFIER.CONTINUE_SCHOOLBAND_CREATE)}},serializeData:function(){return{showBandCreateBanner:this.options.bandCreate&&this.collection.getCanCreate()&&0!==this.collection.length,showBandListOverGuide:this.options.bandCreate&&!this.collection.getCanCreate(),showAllBandSecret:!this.collection.getCanCreate()&&0===this.collection.length,showBandCreatedList:this.collection.length>0,showBandCreateAndRecruitingBandCreate:!this.options.bandCreate&&this.collection.getCanCreate()&&0===this.collection.length,bandNameFormat:this.collection.getBandNameFormat(),createGroupBandUrl:r.GLOBAL_GROUP_BAND_CREATE.makeUrl({},this._groupBandCreateParams),loading:this._loading}},initialize:function(){this._loading=!0,this._isKid="daycare"===this.options.queryString.type||"preschool"===this.options.queryString.type;var e=!this.collection.getCanCreate()&&0===this.collection.length;this.options.bandCreate&&e&&alert(IM("special_band.bandCrete.over.msg"))},onBeforeRender:function(){this._isKid?this._groupBandCreateParams={open_type:"closed",special_band_data:encodeURIComponent(JSON.stringify({type:this.options.queryString.type,school_name:this.collection.getBandNameFormat(),kid_id:this.options.queryString.school_id,clazz:this.options.queryString.clazz}))}:(this._isBandForKidsEnabled=this.options.queryString.band_for_kids_enabled,this._groupBandCreateParams={open_type:this._isBandForKidsEnabled?"secret":"closed",special_band_data:encodeURIComponent(JSON.stringify({type:this.options.creation_type,school_name:this.collection.getBandNameFormat(),school_id:this.options.queryString.school_id,grade:this.options.queryString.grade,clazz:this.options.queryString.clazz,band_for_kids_enabled:this._isBandForKidsEnabled}))})},onRender:function(){0!==this.collection.length&&this.showChildView("bandListRegion",new o({collection:this.collection,childViewOptions:{band_name_format:this.collection.getBandNameFormat()}})),this.options.bandCreate&&this.collection.getCanCreate()&&0===this.collection.length&&!this._loading&&location.replace(r.GLOBAL_GROUP_BAND_CREATE.makeUrl({},this._groupBandCreateParams))}});return p.buildDSearchSpecialBandView=function(e){var t=s.build();return t.fetchDataCall(e.type,{school_id:e.queryString.school_id,grade:e.queryString.grade,clazz:e.queryString.clazz}).fail((function(e){200===e.result_code&&window.history.back()})),new p({collection:t,creation_type:e.type,bandCreate:e.bandCreate,queryString:e.queryString})},p}.call(t,n,t,e))||(e.exports=i)},3298:function(e,t){e.exports='<% if(!loading){ %>\n<h1 class="gSrOnly"><%- IM("special_band.list.title") %></h1>\n<div class="wide">\n\t\x3c!-- [만들기] 30개 이하의 밴드가 있는 경우 --\x3e\n\t<% if(showBandCreateBanner) { %>\n\t<div class="topGuideBanner gContentCardShadow gMat40">\n\t\t<a href="<%- createGroupBandUrl %>" class="topGuideBannerLink gPat25 gPab26 _sendCreateBandBannerClickLog _bandCreateLink">\n\t\t\t<div class="guideTextBox -justifyLeft">\n\t\t\t\t<span class="iconImg -iconSchool"></span>\n\t\t\t\t<p class="guideText -arrowText">\n\t\t\t\t\t<%= bandNameFormat %>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<button type="button" class="uButton -sizeS -confirm gPal15 gPar15 "><%- IM("special_band.create.continue") %></button>\n\t\t</a>\n\t</div>\n\t<% } %>\n\n\t\x3c!-- [만들기] 30개 이상의 밴드가 있는 경우 --\x3e\n\t<% if(showBandListOverGuide) { %>\n\t<div class="topGuideBanner gContentCardShadow gMat40 gPat32 gPab32 gTaC -flexColumn">\n\t\t<p class="guideText gColorBk1"><%= IM("special_band.search.bandList.excess.desc") %></p>\n\t\t<p class="guideSubText gMat5"><%= IM("special_band.created.join.desc") %></p>\n\t</div>\n\t<% } %>\n\n\t\x3c!-- 30개가 모두 비공개인 경우 --\x3e\n\t<% if(showAllBandSecret) { %>\n\t<div class="bandFindMake">\n\t\t<div class="bandAdd">\n\t\t\t<span class="iconLimit"></span>\n\t\t\t<p class="none"><%= IM("special_band.search.bandList.all.secret") %></p>\n\t\t</div>\n\t</div>\n\t<% } %>\n\n\t\x3c!-- 개설 밴드가 있는 경우 (기본 목록) --\x3e\n\t<% if(showBandCreatedList) { %>\n\t<section class="bandListSection gMat40">\n\t\t<h1 class="sectionTitle"><%= IM("special_band.created.join.title") %></h1>\n\t\t<div class="newSemesterBandList"><div class="_bandListRegion"></div></div>\n\t</section>\n\t<% } %>\n\n\t\x3c!-- [찾기] 밴드가 없는 경우 밴드 만들기, 대기밴드 만들기 버튼 제공 --\x3e\n\t<% if(showBandCreateAndRecruitingBandCreate) { %>\n\t<div class="bandFindMake">\n\t\t<div class="bandAdd">\n\t\t\t<h1 class="makeTitle"><%= IM("special_band.can_created.title") %></h1>\n\t\t\t<p class="none"><%= IM("special_band.recruiting.desc") %></p>\n\t\t\t<div class="buttonBox gMat30">\n\t\t\t\t<a href="<%-createGroupBandUrl %>" class="uButton -sizeL -cancel _bandCreateLink"><%- IM("special_band.new.band_create.label") %></a>\n\t\t\t\t<a href="#" class="uButton -sizeL -confirm gMal6 _createRecruitingBandUrl"><%- IM("special_band.recruiting.band_create.label") %></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<% } %>\n</div>\n<% } %>'},3299:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(1755),s=i.Collection.extend({initialize:function(e,t){this._can_create=t.can_create,this._band_name_format=t.band_name_format},getCanCreate:function(){return this._can_create},getBandNameFormat:function(){return this._band_name_format},setCanCreate:function(e){this._can_create=e},setBandNameFormat:function(e){this._band_name_format=e},fetchDataCall:function(e,n){return"parent"===e?a.getParentBands(n).then(t.bind((function(e){this._fetchSetData(e)}),this)):"student"===e?a.getStudentBands(n).then(t.bind((function(e){this._fetchSetData(e)}),this)):"kid"===e?a.getKidBands(n).then(t.bind((function(e){this._fetchSetData(e)}),this)):void 0},_fetchSetData:function(e){this.set(e.items),this.setCanCreate(e.can_create),this.setBandNameFormat(e.band_name_format),this.trigger("data:updated")}});return s.build=function(){return new s([],{can_create:!0,band_name_format:""})},s}.call(t,n,t,e))||(e.exports=i)},3300:function(e,t,n){var i;void 0===(i=function(e){n(0);var t=n(4),i=n(3301);return t.CollectionView.extend({tagName:"ul",className:"cCoverList gMat18",childView:i})}.call(t,n,t,e))||(e.exports=i)},3301:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(10),a=n(4),s=n(3302),o=n(553),r=n(82),l=n(161),c=n(487);return a.View.extend({template:t.template(s),tagName:"li",className:"cCoverItem",attributes:{"data-viewname":"DSpecialBandCollectionItemView"},behaviors:[c],ui:{bandLink:"._bandLink"},events:{"click @ui.bandLink":function(){this.jplClick(c.CLASSIFIER.SCHOOL_BAND)}},initialize:function(){this._bandCore=l.createBandCore({type:this.model.get("type"),bandNo:this.model.get("band_no"),name:this.model.get("name"),cover:this.model.get("cover"),themeColor:this.model.get("theme_color"),isRecruiting:this.model.get("is_recruiting")})},templateContext:function(){return{id:this.model.get("id"),bandNo:this.model.get("band_no"),name:this.model.get("name"),cover:r.makeMediumSquareCoverUrl(this.model.get("cover"),r.TYPE.s276),description:this.model.get("description"),showMemberRecruiting:this._bandCore.showMemberRecruiting(),recruitingMemberCount:this.model.get("recruiting_member_capacity")-this.model.get("member_count"),leaderName:this.model.get("leader_name"),targetBandUrl:this._targetBandUrl(),bandNameFormat:this.model.get("school_info"),formattedMemberCount:i.numberFormat(this.model.get("member_count"))}},_targetBandUrl:function(){return o.home(this._bandCore).url}})}.call(t,n,t,e))||(e.exports=i)},3302:function(e,t){e.exports='<div class="bandUri">\n\n\t\x3c!-- home/discovery 추천밴드 또는 페이지 일 경우 --\x3e\n\t<div class="cover">\n\t\t<div class="uCoverImage -border">\n            <span class="coverInner">\n                <img src="<%- cover %>" width="93" height="93" class="coverImg" alt="<%- name %>">\n            </span>\n\t\t</div>\n\t</div>\n\n\t<div class="bandName">\n\t\t<div class="name">\n\t\t\t<a href="<%- targetBandUrl %>" class="text">\n\t\t\t\t<%- name %>\n\t\t\t</a>\n\t\t</div>\n\n\t\t<% if (description && !showMemberRecruiting) { %>\n\t\t<p class="pSubTxt "><%- description %></p>\n\t\t<% } %>\n\t\t<p class="pSubTxt -pointColor"><%- bandNameFormat %></p>\n\t\t<% if (showMemberRecruiting) { %>\n\t\t<p class="pSubTxt "><%- IM("discover.bandlist.recruiting_member_for_start_band", {recruitingMemberCount: recruitingMemberCount}) %></p>\n\t\t<% } %>\n\t\t<p class="member">\n\t\t\t<% var leaderName = _.escape(leaderName); %>\n\t\t\t<% if (showMemberRecruiting) { %>\n\t\t\t<span class="total"><%= IM(\'global_search.participant_count_html\', {count: formattedMemberCount}) %></span>\n\t\t\t<% } else { %>\n\t\t\t<%= IM(\'word_ordered_member.html_text\', {cnt: formattedMemberCount}) %>\n\t\t\t<% } %>\n\t\t\t<%= IM(\'word_ordered_leader.html_text\', {name: leaderName}) %>\n\t\t</p>\n\t</div>\n</div>\n\n<a href="<%- targetBandUrl %>" class="bandLink _bandLink" target="_blank"><span class="gSrOnly"><%- IM(\'ui.label.more.long\') %></span></a>'},3303:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(83),a=n(171);return{autoCreateRecruitingSpecialBand:function(e,n,s,o){return this._getBandCoverRendomUrl().then((function(r){return i.createRecruitingBand({name:e,coverUrl:r,themeColor:t.sample(a.getKeys()),recruitingMemberCapacity:"3",recruitingOpenType:s,postAction:"special_band",postActionData:JSON.stringify(n),recruitingBandForKidsEnabled:o}).then((function(e){return e.band_no}))}))},_getBandCoverRendomUrl:function(){return i.getBandCoverUrls().then((function(e){return t.sample(e.cover_urls)}))}}}.call(t,n,t,e))||(e.exports=i)},3304:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(0),a=n(3305),s=n(157),o=t.View.extend({attributes:{"data-viewname":"DSearchSpecialBandSelectView"},tagName:"div",className:"bandFindWrap",template:i.template(a),initialize:function(e){this._specialBandTypes=e.specialBandTypes},templateContext:function(){return{specialBandTypes:this._specialBandTypeTextConverter()}},_specialBandTypeTextConverter:function(){var e={parent:IM("special.band.search.for_parent"),kid:IM("special.band.search.for_kid"),student:IM("special.band.search.for_student")},t={parent:IM("special.band.search.for_parent_desc"),kid:IM("special.band.search.for_kid_desc"),student:IM("special.band.search.for_student_desc")},n={parent:"-parent",kid:"-kindergarten",student:"-myclass"};return i.map(this._specialBandTypes,i.bind((function(i){return{type:i,typeDesc:t[i],typeName:e[i],typeIcon:n[i],url:s.DISCOVER_SEARCH_SPECIAL_BAND.makeUrl({creation_type:i})}}),this)).filter(i.bind((function(e){return!!e.typeName}),this))}});return o.buildSearchSpecialBandSelectView=function(e){return new o({specialBandTypes:e.specialBandTypes})},o}.call(t,n,t,e))||(e.exports=i)},3305:function(e,t){e.exports='<div class="wide">\n    <section class="newSemesterBandType">\n        <h1 class="sectionTitle gTaC"><%- IM("new_school.band.search.title") %></h1>\n        <p class="sectionDesc gTaC gMat5"><%- IM("new_school.band.search.description") %></p>\n        <ul class="usecaseList gBoxShadow gMat30">\n            <% _.each(specialBandTypes, function(item) { %>\n                <li class="usecaseItem">\n                    <a href="<%- item.url %>" class="usecaseItemLink">\n                        <span class="iconUscase <%- item.typeIcon %>"></span>\n                        <div class="usecaseText">\n                            <span class="usecaseDesc"><%- item.typeDesc %></span>\n                            <em class="usecaseName"><%- item.typeName %></em>\n                        </div>\n                    </a>\n                </li>\n            <% }) %>\n        </ul>\n    </section>\n</div>'},3306:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(52),a=n(6),s=n(4),o=n(3307),r=n(493),l=n(3308),c=s.View.extend({tagName:"div",className:"",attributes:{"data-viewname":"DMutedMemberListView"},template:t.template(o),regions:{mutedMemberListRegion:{el:"._mutedMemberListRegion",replaceElement:!0}},initialize:function(){},onAttach:function(){this._showMutedMemberList()},_showMutedMemberList:function(){this.showChildView("mutedMemberListRegion",new s.CollectionView({tagName:"ul",className:"cMemberList",childView:l,collection:this.collection,emptyView:function(){return s.View.extend({tagName:"p",className:"uEmpty",template:t.template('<span><%= IM("web.setting.muted_member_list.empty_message") %></span>')})}}))}});return c.build=function(){return r.getMutedMembers().then((function(e){var t=i.camelizeKeys(e);return new c({collection:new a.Collection(t.items)})}))},c}.call(t,n,t,e))||(e.exports=i)},3307:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%= IM(\'web.setting.muted_member_list.title\') %></h1>\n\n    <div class="sectionBox">\n        <div class="_mutedMemberListRegion"></div>\n    </div>\n</section>'},3308:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3309),s=n(510),o=n(493),r=n(82);return i.View.extend({tagName:"li",className:"uFlexItem",attributes:{"data-viewname":"DMutedMemberListItemView"},template:t.template(a),templateContext:function(){var e=r.makeProfileThumbnailUrl(this.model.get("member").profileImageUrl);return{profileThumbnailUrl:e,profileInnerClass:r.makeProfileInnerClass(e)}},events:{"click ._btnUnmuteMember":function(){s.openLayer({bodyTitle:IM("member.unmute.confirm.title"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no")}).once(s.EVENTS.CONFIRM,t.bind((function(){o.unmuteMember(this._userNo,this._bandNo).then(t.bind((function(){this.model.collection.remove(this.model)}),this))}),this))}},initialize:function(){this._bandNo=this.model.get("band").bandNo,this._userNo=this.model.get("member").userNo}})}.call(t,n,t,e))||(e.exports=i)},3309:function(e,t){e.exports='<span class="uProfile -size40 -border">\n    <span class="profileInner <%- profileInnerClass %>">\n        <% if (profileThumbnailUrl) { %>\n        <img src="<%- profileThumbnailUrl %>" width="40" height="40" alt="<%- member.name %>">\n        <% } %>\n    </span>\n</span>\n<span class="body">\n    <span class="flex">\n        <span class="text -ellipsis"><%- member.name %></span>\n    </span>\n    <span class="subText -ellipsis"><%- band.name %></span>\n</span>\n<span class="etc">\n    <button type="button" class="uButton -sizeS -confirm2 _btnUnmuteMember"><%= IM(\'web.setting.muted_member_list.btn.unmute\') %></button>\n</span>'},3310:function(e,t,n){var i=n(0),a=n(4),s=n(1230),o=n(157),r=n(153),l=n(1042),c=n(486),d=n(495),u=n(487),h=n(154),p=n(13),_=a.View.extend({behaviors:[{behaviorClass:d,sceneId:d.SCENE.INVITATION_BRIDGE},u],attributes:{"data-viewname":"DLoggedInInvitationUrlView"},template:i.template(""),onAttach:function(){var e=l.buildAsyncFromInvitationUrl(this.options.invitationUrlId);h.wrapActivePromise(e,this).then(i.bind((function(e){var t=e.get("band")&&e.get("band").band_no;if(t&&this.jplSceneEnter(u.CLASSIFIER.INVITATION_BRIDGE,{invite_code:this.options.invitationUrlId,band_no:t}),e.get("band")&&"public"===e.get("band").open_type)r.GROUP_BAND_HOME.goDForced({band_no:e.get("band").band_no},{invitation_url_id:this.options.invitationUrlId});else{var n=p.isKid(),i=s.buildDInvitationCardView(e,null,n);this.listenTo(i,{"DInvitationCardView:close":function(){o.GLOBAL_HOME.goDForced()},"DInvitationCardView:refresh":function(){o.GLOBAL_HOME.goDForced()}}),c.open(i)}}),this),i.bind((function(e){if(e.result_code!=l.ERROR_CODE.ALREADY_JOIN_BAND_CODE)return e.result_code==l.ERROR_CODE.NOT_ACCEPTED_YET?(alert(e.result_data.message),void o.GLOBAL_HOME.goDForced()):void o.GLOBAL_HOME.goDForced();r.GROUP_BAND_HOME.goDForced({band_no:e.result_data.band_no})}),this))}});_.buildDLoggedInInvitationUrlView=function(e){return new _({invitationUrlId:e.invitation_url_id})},e.exports=_},3311:function(e,t,n){var i=n(0),a=n(4),s=n(1137),o=n(154),r=n(486),l=n(3312),c=n(82),d=n(157),u=n(1042),h=n(1230),p=n(510),_=n(153),m=n(513),g=n(1528),b=a.View.extend({attributes:{"data-viewname":"DInvitationGroupLayerView"},tagName:"SECTION",className:"lyWrap",template:i.template(l),templateContext:function(){return{isLoading:this.model.isLoading(),coverThumbnail:function(e){return c.make(e,c.TYPE.s75)}}},ui:{content:"._content",closeLayerBtn:"._closeLayerBtn"},events:{"click @ui.closeLayerBtn":"_onClose"},regions:{content:"@ui.content"},onRender:function(){this.showChildView("content",new g({model:this.model,className:g.prototype.className+" gPab18"}))},childViewEvents:{gotoInvitation:function(e){this._openInvitationUrl(e)}},layerOnEscKeyDown:function(){this._onClose()},_onClose:function(){d.GLOBAL_HOME.goDForced()},_openInvitationUrl:function(e){var t=u.buildAsyncFromInvitationUrl(e);o.wrapActivePromise(t,this).then(i.bind((function(e){var t=this,n=h.buildDInvitationCardView(e,(function(){n.destroy();var e=this.bandCore;t._openGoToBandWebConfirmLayer(IM("invitation.goto_band.confirm.just_joined"),e.bandNo)}));this.listenTo(n,{"DInvitationCardView:close":function(){n.destroy()},"DInvitationCardView:refresh":function(){n.destroy()}}),r.open(n)}),this),i.bind((function(e){e.result_code==u.ERROR_CODE.ALREADY_JOIN_BAND_CODE?this._openGoToBandWebConfirmLayer(IM("invitation.goto_band.confirm.already_joined"),e.result_data.band_no):e.result_code==u.ERROR_CODE.NOT_ACCEPTED_YET&&alert(e.result_data.message)}),this))},_openGoToBandWebConfirmLayer:function(e,t){var n=p.openLayer({bodyTitle:e});this.listenTo(n,p.EVENTS.CONFIRM,(function(){m.openWindowXSSSafely(_.GROUP_BAND_HOME.makeUrl({band_no:t}))}))}}),f=a.View.extend({attributes:{"data-viewname":"DLoginInvitationGroupView"},template:i.template(""),onAttach:function(){var e=s.buildInvitationGroupUrlInfoModel(this.options.invitationGroupUrlKey);o.wrapActivePromise(e.fetchInvitationGroupUrlInfo(),this).then(i.bind((function(){r.openWithoutHiding(new b({model:e}))}),this),(function(){e.getInvitationValidation()&&alert(e.getInvitationValidation()),d.GLOBAL_HOME.goDForced()}))}});f.buildDLoginInvitationGroupView=function(e){return new f({invitationGroupUrlKey:e})},e.exports=f},3312:function(e,t){e.exports='<div class="lyContent -w380">\n    <header class="modalHeader">\n        <h1 class="title"><%-IM("web.invitation.title") %></h1>\n    </header>\n    <div class="modalBody">\n        <div class="modalContentWrap _content">\n        </div>\n    </div>\n    <footer class="modalFooter gPa0">\n        <button type="button" class="uButton -iconClose btnLyClose _closeLayerBtn"><span class="gSrOnly"><%-IM("ui.label.close_layer")%></span></button>\n    </footer>\n</div>'},3313:function(e,t,n){var i;void 0===(i=function(e){var t=n(4),i=n(0),a=n(1018),s=(n(13),n(170),n(3314)),o=t.View.extend({attributes:{"data-viewname":"DServiceUseAgreementCcpaView"},ui:{ccpaContent:"._ccpaContent"},template:i.template(s),onAttach:function(){a.getCcpa().then(i.bind((function(e){this.getUI("ccpaContent").html(e.document.contents)}),this))}});return o.buildCcpaView=function(){return new o},o}.call(t,n,t,e))||(e.exports=i)},3314:function(e,t){e.exports='<section class="sMoreSetting gContentCardShadow">\n    <h1 class="sectionTitle"><%- IM("web.footer.label.ccpa") %></h1>\n    <div class="sectionBox useAgreement _ccpaContent"></div>\n</section>\n'},3315:function(e,t,n){var i=n(0),a=n(4),s=n(3316),o=n(13),r=(n(26),n(1031)),l=n(9),c='<a href="/policy/privacy" class="emphasis">'+IM("web.setting.home.btn.privacy_notice")+"</a>",d=a.View.extend({template:i.template(s),templateContext:{desc:IM("cookie.preference.desc",{policyTag:c})},ui:{marketingCookieCheckbox:"._marketingCookie",marketingDescBtn:"._marketingDescBtn",marketingDescWrap:"._marketingDescWrap",necessaryDescBtn:"._necessaryDescBtn",necessaryDescWrap:"._necessaryDescWrap"},events:{"click @ui.marketingDescBtn":function(){this.ui.marketingDescWrap.toggleClass("-show")},"click @ui.necessaryDescBtn":function(){this.ui.necessaryDescWrap.toggleClass("-show")},"change @ui.marketingCookieCheckbox":function(){return this._isAgreeOfMarketingCookie=this.ui.marketingCookieCheckbox.is(":checked"),this._isKid&&this._isAgreeOfMarketingCookie||this._isUS&&!this._isLogedIn?(alert(IM("cookie.consent.kids.alert")),void this.ui.marketingCookieCheckbox.attr("checked",!1)):(this._isAgreeOfMarketingCookie&&this._agreeMarketingCookie(),void(this._isAgreeOfMarketingCookie||this._handleMarketingOFf()))}},_handleMarketingOFf:function(){confirm(IM("cookie.consent.agree.confirm"))?this._disagreeMarketingCookie():(this.ui.marketingCookieCheckbox.prop("checked",!0),this._agreeMarketingCookie())},initialize:function(){this._isAgreeOfMarketingCookie=r.isMarketingCookieConsentOn(),this._isUS=l.isUSACountryCode(),this._isLogedIn=o.isLogedIn(),this._isKid=o.isKid()},onAttach:function(){this.ui.marketingCookieCheckbox.attr("checked",this._isAgreeOfMarketingCookie),(this._isUS&&!this._isLogedIn||this._isUS&&this._isLogedIn&&this._isKid)&&(this._isAgreeOfMarketingCookie=!1,this.ui.marketingCookieCheckbox.attr("checked",!1)),this._isAgreeOfMarketingCookie&&this.ui.marketingCookieCheckbox.attr("checked",!0)},_disagreeMarketingCookie:function(){r.setMarketingCookieConsent("OFF",this._isUS,this._isLogedIn),this._isLogedIn||window.location.reload()},_agreeMarketingCookie:function(){r.setMarketingCookieConsent("ON",this._isUS,this._isLogedIn)}});d.buildDCookiePreferenceView=function(){return new d},e.exports=d},3316:function(e,t){e.exports='<section class="sMoreSetting gBoxShadow">\n    <h1 class="sectionTitle"><%= IM("cookie.preference.title") %></h1>\n\n    <div class="sectionBox">\n        <div class="noticeText gMat-1 -lineH1_6">\n            <%= desc %>\n        </div>\n        <ul class="infoSettingList">\n            <li class="infoSettingItem -cookieListItem">\n                <div class="infoSettingItemLabel _necessaryDescWrap">\n                    <a href="#" class="btnCookieDetailView _necessaryDescBtn"><%= IM("cookie.preference.necessary-cookie") %><span class="gSrOnly"><%= IM("cookie.preference.detail.msg") %></span></a>\n                    <div class="desc gPat9">\n                        <%= IM("cookie.preference.necessary-cookie.desc") %>\n                    </div>\n                </div>\n                <div class="infoSettingItembtnWrap">\n                    <label for="switch" class="uCheck -switch">\n                        <input type="checkbox" id="switch" class="checkInput"  checked disabled>\n                        <span class="checkLabel">\n                                        <span class="shape "></span>\n                                    </span>\n                    </label>\n                </div>\n            </li>\n            <li class="infoSettingItem -cookieListItem">\n                <div class="infoSettingItemLabel _marketingDescWrap">\n                    <a href="#" class="btnCookieDetailView _marketingDescBtn"><%= IM("cookie.preference.marketing-cookie") %><span class="gSrOnly"><%= IM("cookie.preference.detail.msg") %></span></a>\n                    <div class="desc gPat9">\n                        <%= IM("cookie.preference.marketing-cookie.desc") %>\n                    </div>\n                </div>\n                <div class="infoSettingItembtnWrap">\n                    <label for="switch2" class="uCheck -switch">\n                        <input type="checkbox" id="switch2" class="checkInput _marketingCookie">\n                        <span class="checkLabel">\n                            <span class="shape "></span>\n                        </span>\n                    </label>\n                </div>\n            </li>\n        </ul>\n    </div>\n</section>\n\n<div class="moreDescWrap -lineH1_5  gMat15">\n    <div class="moreDescTxt"><%= IM("cookie.preference.more.desc") %></div>\n</div>'},3317:function(e,t,n){var i=n(0),a=n(4),s=n(3318),o=n(1522),r=n(1168),l=n(157),c=n(495),d=n(487),u=n(17),h=n(590),p=a.View.extend({behaviors:[{behaviorClass:c,sceneId:c.SCENE.RECRUIT_LOCAL_NEW_BAND},d],attributes:{"data-viewname":"DLocalBandLfgView"},tagName:"section",className:"bandMake gPat69",initialize:function(e){this._keywordInfo=void 0,e.keywordGroup&&e.keyword&&(this._keywordInfo={keyword:e.keyword,keywordGroup:e.keywordGroup}),this._region=void 0,e.regionName&&e.rcode&&(this._region={name:e.regionName,rcode:e.rcode})},template:i.template(s),templateContext:function(){return{region:this._region,keywordInfo:this._keywordInfo}},ui:{btnKeyword:"._btnKeyword",btnRegion:"._btnRegion",btnConfirm:"._btnConfirm"},events:{"click @ui.btnKeyword":function(){if(!h.isContentCreationPunished()){var e=o.openLayer({isForLocalBand:!0,selectedKeywords:this._keywordInfo});this.listenTo(e,o.EVENTS.CONFIRM,(function(e){e[0]?this._setKeyword(e[0]):this._setKeyword(null)}))}},"click @ui.btnRegion":function(){if(!h.isContentCreationPunished()){var e=r.openLayer();this.listenTo(e,r.EVENTS.SELECTED,(function(e){this._setRegion({rcode:e.getRcode(),name:e.getName()})}))}},"click @ui.btnConfirm":function(){if(!h.isContentCreationPunished()){var e=this._makeParams(this._region,this._keywordInfo);l.GLOBAL_LOCAL_BAND_LFG_RESULT.goDForced({},e)}}},onAttach:function(){this.jplSceneEnter(d.CLASSIFIER.RECRUIT_LOCAL_NEW_BAND)},_setKeyword:function(e){this._keywordInfo=e,this.render()},_setRegion:function(e){this._region=e,this.render()},_makeParams:function(e,t){var n={};return e&&(n.regionName=e.name,n.rcode=e.rcode),t&&(n.keyword=t.keyword,n.keywordGroup=t.keywordGroup),n}});p.buildDLocalBandLfgView=function(){var e=u.queryStringToObject(location.search);return new p({regionName:e.regionName,rcode:e.rcode,keyword:e.keyword,keywordGroup:e.keywordGroup})},e.exports=p},3318:function(e,t){e.exports='<span class="spotImage"></span>\n<h1 class="spotTitle"><%-IM("region_lfg.title")%></h1>\n<p class="spotDesc"><%-IM("region_lfg.description")%></p>\n<div class="detailSttingArea">\n  <div class="detailSttingBox gBoxShadow gMat30">\n    <div class="detailSttingItem -tagSection">\n      <div>\n        <em class="title"><%-IM("region_lfg.keyword.title")%></em>\n        <% if (keywordInfo) { %>\n        <button type="button" class="tag _btnKeyword"><%-keywordInfo.keyword%></button>\n        <% } else { %>\n        <button type="button" class="addButton _btnKeyword"><%-IM("region_lfg.keyword.btn.select")%></button>\n        <% } %>\n      </div>\n    </div>\n    <div class="detailSttingItem -tagSection">\n      <div>\n        <em class="title"><%-IM("region_lfg.region.title")%></em>\n        <% if (region) { %>\n        <button type="button" class="tag _btnRegion"><%-region.name%></button>\n        <% } else { %>\n        <button type="button" class="addButton _btnRegion"><%-IM("region_lfg.region.btn.select")%></button>\n        <% } %>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="btnFooter">\n  \x3c!--\n      [D]밴드 만들기 버튼 상태변화\n      활성화  : uButton -sizeXL -confirm\n      비활성화 : uButton -sizeXL -disabled\n  --\x3e\n  <button type="button" class="uButton -sizeXL _btnConfirm <%-(keywordInfo && region) ? \'-confirm\' : \'-disabled\' %>" <%-(keywordInfo && region) ? \'\' : \'disabled\' %>><%-IM("ui.label.next")%></button>\n</div>\n'},3319:function(e,t,n){var i=n(0),a=n(4),s=n(3320),o=n(1718),r=n(2100),l=n(1764),c=n(3321),d=n(3325),u=n(495),h=n(487),p=n(663),_=n(512),m=n(1168),g=n(195),b=a.View.extend({tagName:"div",className:"bandFindWrap",attributes:{"data-viewname":"DDiscoverLocalBandView"},template:i.template(s),ui:{regionSelectBtn:"._regionSelectBtn",groupContainer:"._groupContainer",groupPrevBtn:"._groupPrevBtn",groupNextBtn:"._groupNextBtn",keywordSection:"._keywordSection",keywordContainer:"._keywordContainer",keywordPrevBtn:"._keywordPrevBtn",keywordNextBtn:"._keywordNextBtn",topBanner:"._topBanner",toolbar:"._toolbar",bandList:"._bandList",notification:"._notification"},regions:{topBanner:{el:"@ui.topBanner",replaceElement:!0},toolbar:{el:"@ui.toolbar",replaceElement:!0},bandList:{el:"@ui.bandList",replaceElement:!0},notification:{el:"@ui.notification",replaceElement:!0}},events:{"click @ui.regionSelectBtn":"_onClickRegionSelectBtn"},behaviors:function(){return[{behaviorClass:u,sceneId:u.SCENE.LOCAL_RCMD_CARD_MORE},{behaviorClass:h}]},initialize:function(e){this._controller=e.controller,this._collection=this._controller.getLocalBandCollection(),this._isEmptyResult=this._collection.isEmpty(),this._hasRegion=this._controller.hasRegion(),this._regionName=this._controller.getRegionName()},serializeData:function(){return{srTitle:this._getSrTitle(),mainTitle:this._getMainTitle(),keywordGroupList:this._controller.getKeywordGroupList(),keywordList:this._controller.getKeywordList(),listTitle:this._getListTitle()}},onRender:function(){this._showTopBanner(),this._showToolbar(),this._showBandList(),this._showNotification()},onAttach:function(){this._sendSceneEnterLog(),this._createScroll(this.ui.groupContainer,this.ui.groupPrevBtn,this.ui.groupNextBtn),this._createScroll(this.ui.keywordContainer,this.ui.keywordPrevBtn,this.ui.keywordNextBtn),this.listenTo(_,"window:scroll:bottom",(function(){this._collection.fetchMore()})),this.listenTo(_,"window:scroll",(function(e){this.ui.keywordSection.toggleClass("-scrollOn",0!==e)}))},onBeforeDetach:function(){this.stopListening(_),this._destroyScroll()},_showTopBanner:function(){if(!this._isEmptyResult){var e=r.buildLocalBandBanner();this.showChildView("topBanner",e)}},_showToolbar:function(){var e=c.build(this._controller);this.listenTo(e,e.EVENT.NOTIFICATION,this._showNotification),this.showChildView("toolbar",e)},_showBandList:function(){if(!this._isEmptyResult){var e=l.buildLocalBand(this._collection);this.showChildView("bandList",e)}},_showNotification:function(){this._notificationView?this._notificationView.render():(this._hasRegion?this._isEmptyResult?this._notificationView=d.buildEmptyResult(this._controller):this._notificationView=d.buildNotification(this._controller):this._notificationView=d.buildRegionError(this._controller),this.listenTo(this._notificationView,this._notificationView.EVENT.NOTIFICATION,this._showToolbar),this.showChildView("notification",this._notificationView))},_getSrTitle:function(){return this._hasRegion?IM("local_band.title",{region:this._regionName}):IM("local_band.empty_title")},_getMainTitle:function(){if(this._hasRegion){var e='<span class="settingLocalTitle">'+i.escape(this._regionName)+"</span>";return IM("local_band.title",{region:e})}return IM("region_selection.title")},_getListTitle:function(){return this._controller.hasKeyword()?this._controller.getKeyword():this._controller.hasKeywordGroup()?this._controller.getKeywordGroup():this._isEmptyResult?"":this._controller.getFirstKeywordGroupName()},_onClickRegionSelectBtn:function(){var e=m.openLayer();this.listenToOnce(e,m.EVENTS.SELECTED,(function(e){p.goToLocalBand(e.getRcode())}))},_createScroll:function(e,t,n){var i=e.get(0);if(!i)return null;var a=new g(i,{scrollX:!0,scrollY:!1,eventPassthrough:!1,momentum:!0,snap:!0,snapSpeed:600,click:!0}),s=function(){a.prev()},o=function(){a.next()},r=i.clientWidth===i.scrollWidth?"none":"";t.on("click",s).css("display",r),n.on("click",o).css("display",r),a.on("destroy",(function(){t.off("click",s),n.off("click",o)})),a.scrollToElement(".-active",0,!0),this._scrolls||(this._scrolls=[]),this._scrolls.push(a)},_destroyScroll:function(){if(this._scrolls)for(;0<this._scrolls.length;)this._scrolls.shift().destroy()},_sendSceneEnterLog:function(){this.jplSceneEnter(h.CLASSIFIER.LOCAL_RCMD_CARD_MORE,{localband_localname:this._controller.getRegionName(),localband_rcode:this._controller.getRcode()})}});b.build=function(e){return o.fetch(e).then((function(e){return new b({controller:e})}))},e.exports=b},3320:function(e,t){e.exports='<h1 class="gSrOnly"><%- srTitle %></h1>\n<div class="localMeetupHead fullWide">\n  <section class="localMeetupBandHead">\n    <h1 class="sectionTitle"><%= mainTitle %><button type="button" class="openKeyword _regionSelectBtn"><%- IM(\'region_selection.title\') %></button></h1>\n    <div class="localMeetupMenu">\n      <div class="localMeetupMenuWrap _groupContainer">\n        <ul class="themeList">\n          <% _.each(keywordGroupList, function(item) { %>\n          <li class="themeItem"><a href="<%- item.url %>" class="themeItemLink <%- item.selected ? \'-active\' : \'\' %>"><%- item.name %></a></li>\n          <% }); %>\n        </ul>\n      </div>\n      <div class="navWrap">\n        <button type="button" class="btnNavPrev _groupPrevBtn"><%- IM(\'ui.label.prev\') %></button>\n        <button type="button" class="btnNavNext _groupNextBtn"><%- IM(\'ui.label.next\') %></button>\n      </div>\n    </div>\n  </section>\n</div>\n\n<% if (keywordList) { %>\n<div class="localMeetupSubStep -active _keywordSection">\n  <div class="localMeetupMenu">\n    <div class="localMeetupBox">\n      <div class="localMeetupMenuWrap _keywordContainer">\n        <ul class="subThemeList">\n          <% _.each(keywordList, function(item) { %>\n          <li class="subThemeItem"><a href="<%- item.url %>" class="subThemeItemLink <%- item.selected ? \'-active\' : \'\' %>"><%- item.name %></a></li>\n          <% }); %>\n        </ul>\n      </div>\n      <div class="navWrap">\n        <button type="button" class="btnNavPrev _keywordPrevBtn"><%- IM(\'ui.label.prev\') %></button>\n        <button type="button" class="btnNavNext _keywordNextBtn"><%- IM(\'ui.label.next\') %></button>\n      </div>\n    </div>\n  </div>\n</div>\n<% } %>\n\n<div class="wide">\n  <div class="_topBanner" style="display:none"></div>\n\n  <section class="bandListWrap">\n    <h1 class="gSrOnly"><%- IM(\'ui.label.band_list\') %></h1>\n    <div class="sectionTitleType2">\n      <h2 class="titleText"><%- listTitle %></h2>\n      <div class="_toolbar" style="display:none"></div>\n    </div>\n    <div class="_bandList" style="display:none"></div>\n    <div class="_notification" style="display:none"></div>\n  </section>\n</div>'},3321:function(e,t,n){var i=n(0),a=n(4),s=n(3322),o=n(3323),r=n(487),l=n(1161),c=n(668),d=n(84),u=n(154),h=a.View.extend({EVENT:{NOTIFICATION:"NOTIFICATION"},tagName:"div",className:"etcBox",attributes:{"data-viewname":"DLocalBandToolbarView"},template:i.template(s),ui:{toolKeywordSelectBtn:"._toolKeywordSelectBtn",toolUnsubscribeBtn:"._toolUnsubscribeBtn",toolKeywordToggleBtn:"._toolKeywordToggleBtn"},events:{"click @ui.toolKeywordSelectBtn":"_onClickKeywordSelectBtn","click @ui.toolUnsubscribeBtn":"_onClickUnsubscribeBtn","click @ui.toolKeywordToggleBtn":"_onClickKeywordToggleBtn"},behaviors:function(){return[{behaviorClass:r}]},initialize:function(e){this._controller=e.controller},serializeData:function(){var e=this._controller.getLocalBandCollection().isEmpty();return{showKeywordSelectBtn:!this._controller.hasKeyword(),showUnsubscribeBtn:this._controller.canUnsubscribe()&&!e,showKeywordToggleBtn:this._controller.isUserKeywordCandidate(),isUserKeyword:this._controller.isUserKeyword()}},_onClickKeywordSelectBtn:function(){this._controller.assertLogin();var e=o.openLayer();this.listenToOnce(e,o.EVENTS.CONFIRM,(function(e){var t=i.pluck(e,"keywordNo"),n=this._controller.setUserKeywords(t);u.wrapActivePromise(n,this).then(i.bind((function(){this._controller.hasKeywordGroup()||d.refreshCurrentPage()}),this))}))},_onClickUnsubscribeBtn:function(){this._sendLocalBandNotificationTurnoffClickLog();var e=this._controller.unsubscribe();u.wrapActivePromise(e,this).then(i.bind((function(e){this._alert(e).then(i.bind((function(){this.render(),this.trigger(this.EVENT.NOTIFICATION)}),this))}),this))},_onClickKeywordToggleBtn:function(){this._controller.assertLogin();var e=this._controller.toggleUserKeyword();u.wrapActivePromise(e,this).then(i.bind(this.render,this))},_alert:function(e){return c.openPromiseTypeSimpleAlert(e)},_sendLocalBandNotificationTurnoffClickLog:function(){this.jplClick(r.CLASSIFIER.LOCAL_BAND_NOTIFICATION_TURNOFF,{button_type:l.CARD_TYPE.TOP_BUTTON,local_band_keyword_id:this._controller.getKeyword()})}});h.build=function(e){return new h({controller:e})},e.exports=h},3322:function(e,t){e.exports="<% if (showKeywordSelectBtn) { %>\n<button class=\"btnInterestSetting _toolKeywordSelectBtn\">\n    <span class=\"iconSetting\"></span>\n    <%- IM('local_band.user_keyword_set_btn') %>\n</button>\n<% } %>\n<% if (showUnsubscribeBtn) { %>\n<button class=\"btnUnPush _toolUnsubscribeBtn\"><%- IM('local_band.notification_unsubscribe_btn') %></button>\n<% } %>\n<% if (showKeywordToggleBtn) { %>\n<button class=\"btnBookmark _toolKeywordToggleBtn\">\n    <span class=\"<%- isUserKeyword ? 'iconFavoritesOn' : 'iconFavoritesOff' %>\"><span class=\"gSrOnly\"><%- isUserKeyword ? IM('local_band.unset_user_keyword') : IM('local_band.set_user_keyword') %></span></span>\n    <%- IM('local_band.user_keyword_toggle_btn') %>\n</button>\n<% } %>"},3323:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(3324),s=n(486),o=n(2090),r=n(1593),l={CONFIRM:"CONFIRM",CANCEL:"CANCEL"},c=i.View.extend({tagName:"section",className:"lyWrap lyKeywordWrap",attributes:{"data-viewname":"DInterestingKeywordSelectView"},template:t.template(a),ui:{selectedKeywordListWrapper:"._selectedKeywordListWrapper",checkboxSelectedKeywordList:"#checkboxSelectedKeywordList",selectedKeywordCount:"._selectedKeywordCount",btnCancel:"._btnCancel",btnConfirm:"._btnConfirm"},regions:{selectedKeywordListRegion:{el:"._selectedKeywordListRegion",replaceElement:!0},keywordListRegion:{el:"._keywordListRegion",replaceElement:!0}},events:{"click @ui.btnCancel":"destroy","click @ui.btnConfirm":function(){this.trigger(l.CONFIRM,this._selectedKeywordListCollection.toJSON()),this.destroy()},"click @ui.checkboxSelectedKeywordList":function(e){$(e.currentTarget).is(":checked")?this._showSelectedKeywordListView():this._hideSelectedKeywordListView()}},initialize:function(e){},onAttach:function(){this._showSelectableKeywordListView()},_isKeywordChanged:function(){var e=t.map(this._selectedKeywordListCollection.toJSON(),(function(e){return JSON.stringify(e)})),n=t.map(this._initialSelectedKeywords,(function(e){return JSON.stringify(e)}));return!t.isEmpty(t.difference(e,n))||!t.isEmpty(t.difference(n,e))},_updateSelectedKeywordCount:function(){this.getUI("selectedKeywordCount").text(this._selectedKeywordListCollection.length)},_showSelectedKeywordListView:function(){this.showChildView("selectedKeywordListRegion",new r({collection:this._selectedKeywordListCollection,deletable:!1})),this.getUI("selectedKeywordListWrapper").show(),this.getChildView("keywordListRegion").$el.hide()},_hideSelectedKeywordListView:function(){this.getUI("selectedKeywordListWrapper").hide(),this.getChildView("keywordListRegion").$el.show(),this.getRegion("selectedKeywordListRegion").empty()},_showSelectableKeywordListView:function(){o.showRcmdKeywordList(this.getRegion("keywordListRegion")).then(t.bind((function(e){this._initSelectedKeywordListCollection(e.getOption("selectedKeywordListCollection"))}),this))},_initSelectedKeywordListCollection:function(e){this._selectedKeywordListCollection=e,this._initialSelectedKeywords=this._selectedKeywordListCollection.toJSON(),this.listenTo(this._selectedKeywordListCollection,"update reset",(function(e,t){this._updateSelectedKeywordCount(),this.getUI("btnConfirm").prop("disabled",!this._isKeywordChanged())})),this._updateSelectedKeywordCount()}});return c.EVENTS=l,c.openLayer=function(){var e=new c;return s.openWithoutHiding(e),e},c}.call(t,n,t,e))||(e.exports=i)},3324:function(e,t){e.exports='<div class="lyContent" style="width:440px">\n    <header class="modalHeader">\n        <h1 class="title gMat23 gPa0"><%= IM(\'discover.interesting_keyword_selection.title\') %></h1>\n        <p class="desc gFs14 gMat10 gMab22"><%= IM(\'discover.interesting_keyword_selection.desc\') %></p>\n    </header>\n    <div class="modalBody">\n        <div class="selectTopicArea _selectedKeywordListWrapper" style="display: none;">\n            <div class="selectedTopicBox gMat5">\n                <div class="_selectedKeywordListRegion"></div>\n            </div>\n        </div>\n        <div class="_keywordListRegion"></div>\n        <div class="topicSettingBox">\n            <div class="flexList">\n                <div class="text">\n                    <label for="checkboxSelectedKeywordList" class="labelTitle"><%= IM(\'discover.interesting_keyword_selection.label.show_selected_keyword_only\') %> <em class="-pointColor _selectedKeywordCount"></em></label>\n                </div>\n                <div class="etc">\n                    <label for="checkboxSelectedKeywordList" aria-label="" class="uCheck -switch ">\n                        <input type="checkbox" id="checkboxSelectedKeywordList" class="checkInput">\n                        <span class="checkLabel">\n                            <span class="shape  "></span>\n                            <span class="text"></span>\n                        </span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </div>\n    <footer class="modalFooter gPat15">\n        <button type="button" class="uButton -cancel _btnCancel"><%= IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _btnConfirm" disabled><%= IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3325:function(e,t,n){var i=n(0),a=n(4),s=n(3326),o=n(3327),r=n(1765),l=n(1009),c=n(487),d=n(1168),u=n(1161),h=n(663),p=n(668),_=n(605),m=n(506),g=n(154),b="NOTIFICATION",f="EMPTY_RESULT",v="REGION_ERROR",C=a.View.extend({EVENT:{NOTIFICATION:"NOTIFICATION"},tagName:"div",className:function(){switch(this.options.viewType){case b:return"notificationRegistration gContentLocalMeetupCardShadow";default:return"bandFindMake -vertical"}},attributes:function(){var e={"data-viewname":"DLocalBandNotificationView"};switch(this.options.viewType){case b:e.style="height:210px"}return e},template:i.template(s),ui:{etcSubscribeBtn:"._etcSubscribeBtn",etcUnsubscribeBtn:"._etcUnsubscribeBtn",etcRecruitBtn:"._etcRecruitBtn",etcRegionBtn:"._etcRegionBtn"},events:{"click @ui.etcSubscribeBtn":"_onClickSubscribeBtn","click @ui.etcUnsubscribeBtn":"_onClickUnsubscribeBtn","click @ui.etcRecruitBtn":"_onClickRecruitBtn","click @ui.etcRegionBtn":"_onClickRegionBtn"},behaviors:function(){return[{behaviorClass:c},{behaviorClass:l,exposureCallback:i.bind(this._sendExposureLog,this),immediate:!0}]},initialize:function(e){this._viewType=e.viewType,this._controller=e.controller,this._isNotification=this._viewType===b,this._isEmptyResult=this._viewType===f,this._isRegionError=this._viewType===v,this._hasKeyword=this._controller.hasKeyword(),this._rcode=this._controller.getRcode(),this._regionName=this._controller.getRegionName(),this._keywordGroup=this._controller.getKeywordGroup(),this._keyword=this._controller.getKeyword(),this._hasSubscriber=this._controller.hasSubscriber()},serializeData:function(){return{showNotification:this._isNotification,notificationDesc:this._getNotificationDesc(),subscribers:this._controller.getSubscribers(),showSubscribeBtn:this._controller.canSubscribe(),showUnSubscribeBtn:this._controller.canUnsubscribe(),showEmptyResult:this._isEmptyResult,showRegionError:this._isRegionError}},_getNotificationDesc:function(){return this._hasSubscriber?IM("local_band.notification_count",{count:this._controller.getSubscribedCount()}):IM("local_band.notification_desc")},_onClickSubscribeBtn:function(){if(this._controller.assertLogin(),this._sendLocalBandNotificationTurnonClickLog(),this._hasKeyword)this._subscribe(this._keyword).then(i.bind((function(){this.render(),this.trigger(this.EVENT.NOTIFICATION)}),this));else{var e=o.openLayer({title:IM("local_band.notification_keyword_title"),controller:this._controller});this.listenTo(e,e.EVENT.SELECT,(function(t){var n=t.keywordGroup.name,a=t.keyword.name;this._subscribe(a).then(i.bind((function(){e.destroy(),h.goToLocalBand(this._rcode,n,a)}),this))}))}},_onClickUnsubscribeBtn:function(){this._sendLocalBandNotificationTurnoffClickLog();var e=this._controller.unsubscribe();g.wrapActivePromise(e,this).then(i.bind((function(e){this._alert(e).then(i.bind((function(){this.render(),this.trigger(this.EVENT.NOTIFICATION)}),this))}),this))},_onClickRecruitBtn:function(){this._controller.assertLogin(),this._sendRecruitLocalBandClickLog();var e=h.getLocalBandLfgUrl(this._rcode,this._regionName,this._keywordGroup,this._keyword),t=r.openLayer(e);this.listenTo(t,t.EVENT.CONFIRM,this._sendRecruitLocalBandListMenuClickLog)},_onClickRegionBtn:function(){var e=d.openLayer();this.listenToOnce(e,d.EVENTS.SELECTED,(function(e){h.goToLocalBand(e.getRcode())}))},_subscribe:function(e){if(this._onSubscribe)return _.reject();this._onSubscribe=!0;var t=this._controller.subscribe(e,!1);return g.wrapActivePromise(t,this).then(i.bind(this._alert,this),i.bind((function(t){var n=m.get(t,"result_code"),a=m.get(t,"result_data.message");if(1072===n)return p.openPromiseTypeSimpleConfirm(a).then(i.bind((function(){return this._controller.subscribe(e,!0).then(i.bind(this._alert,this))}),this))}),this)).always(i.bind((function(){this._onSubscribe=!1}),this))},_alert:function(e){return p.openPromiseTypeSimpleAlert(e)},_sendExposureLog:function(){(this._isNotification||this._isEmptyResult)&&this.jplExposure(c.CLASSIFIER.LOCAL_BAND_NOTIFICATION_CARD,{card_type:this._getBaCardType()})},_sendLocalBandNotificationTurnonClickLog:function(){this.jplClick(c.CLASSIFIER.LOCAL_BAND_NOTIFICATION_TURNON,{card_type:this._getBaCardType(),local_band_keyword_group_id:this._getBaKeywordGroupId(),local_band_keyword_id:this._keyword})},_sendLocalBandNotificationTurnoffClickLog:function(){this.jplClick(c.CLASSIFIER.LOCAL_BAND_NOTIFICATION_TURNOFF,{button_type:this._getBaCardType(),local_band_keyword_id:this._keyword})},_sendRecruitLocalBandClickLog:function(){this.jplClick(c.CLASSIFIER.RECRUIT_LOCAL_BAND,{place:this._getBaPlace()})},_sendRecruitLocalBandListMenuClickLog:function(e){this.jplClick(c.CLASSIFIER.RECRUIT_LOCAL_BAND_LIST_MENU,{localband_type:e})},_getBaCardType:function(){return this._hasSubscriber?u.CARD_TYPE.ONEMORE:u.CARD_TYPE.EMPTY},_getBaKeywordGroupId:function(){return this._keywordGroup||u.REPRESENT_KEYWORD_GROUP_ID},_getBaPlace:function(){return this._hasSubscriber?u.RECRUIT_PLACE.ONEMORE:u.RECRUIT_PLACE.EMPTY}});C.buildNotification=function(e){return new C({viewType:b,controller:e})},C.buildEmptyResult=function(e){return new C({viewType:f,controller:e})},C.buildRegionError=function(e){return new C({viewType:v,controller:e})},e.exports=C},3326:function(e,t){e.exports='<% if (showNotification) { %>\n<div class="flexItem">\n    <strong class="titleText"><%= notificationDesc %></strong>\n    <% if (subscribers) { %>\n    <div class="gMemberThumbnailStack">\n        <% _.each(subscribers, function(subscriber) { %>\n        <span class="-whiteBorder uProfile -size40 -outline">\n            <span class="profileInner ">\n                <img src="<%- subscriber.profile %>" width="40" height="40" alt="">\n            </span>\n        </span>\n        <% }); %>\n    </div>\n    <% } %>\n    <% if (showSubscribeBtn) { %>\n    <button type="button" class="uButton -sizeXL -confirm _etcSubscribeBtn"><%- subscribers ? IM(\'local_band.notification_wait_btn\') : IM(\'local_band.notification_subscribe_btn\') %></button>\n    <% } %>\n    <% if (showUnSubscribeBtn) { %>\n    <button type="button" class="uButton -sizeXL -cancel _etcUnsubscribeBtn"><%- IM(\'local_band.notification_unsubscribe_btn\') %></button>\n    <% } %>\n</div>\n<div class="flexItem">\n    <strong class="titleText"><%- IM(\'local_band.recruit_title\') %></strong>\n    <p class="bodyText"><%- IM(\'local_band.recruit_desc\') %></p>\n    <button type="button" class="uButton -sizeXL -confirm _etcRecruitBtn"><%- IM(\'local_band.long_recruit_btn\') %></button>\n</div>\n<% } %>\n<% if (showEmptyResult) { %>\n<div class="bandAdd">\n    <div class="localMeetupNoneTitle"><%- IM(\'local_band.notification_title\') %></div>\n    <p class="none"><%= notificationDesc %></p>\n    <% if (subscribers) { %>\n    <div class="gMemberThumbnailStack">\n        <% _.each(subscribers, function(subscriber) { %>\n        <span class="-lightGray uProfile -size40 -outline">\n            <span class="profileInner ">\n                <img src="<%- subscriber.profile %>" width="40" height="40" alt="">\n            </span>\n        </span>\n        <% }); %>\n    </div>\n    <% } %>\n    <div class="buttonBox gMat25">\n        <% if (showSubscribeBtn) { %>\n        <button type="button" class="uButton -sizeXL -confirm _etcSubscribeBtn"><%- subscribers ? IM(\'local_band.notification_wait_btn\') : IM(\'local_band.notification_subscribe_btn\') %></button>\n        <% } %>\n        <% if (showUnSubscribeBtn) { %>\n        <button type="button" class="uButton -sizeXL -cancel _etcUnsubscribeBtn"><%- IM(\'local_band.notification_unsubscribe_btn\') %></button>\n        <% } %>\n    </div>\n</div>\n<div class="bandAdd">\n    <div class="localMeetupNoneTitle"><%- IM(\'local_band.recruit_title\') %></div>\n    <p class="none"><%- IM(\'local_band.recruit_desc\') %></p>\n    <div class="buttonBox gMat25">\n        <button type="button" class="uButton -sizeXL -confirm _etcRecruitBtn"><%- IM(\'local_band.long_recruit_btn\') %></button>\n    </div>\n</div>\n<% } %>\n<% if (showRegionError) { %>\n<div class="bandFindMake">\n    <div class="bandAdd">\n        <div class="localMeetupNoneTitle"><%- IM(\'local_band.empty_title\') %></div>\n        <div class="buttonBox gMat25">\n            <button type="button" class="uButton -sizeL -confirm _etcRegionBtn"><%- IM(\'local_band.long_region_select_btn\') %></button>\n        </div>\n    </div>\n</div>\n<% } %>'},3327:function(e,t,n){var i=n(0),a=n(4),s=n(3328),o=n(486),r=a.View.extend({EVENT:{SELECT:"SELECT"},tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DLocalBandSingleKeywordSelectView"},template:i.template(s),ui:{keyword:"._keyword",closeBtn:"._closeBtn"},events:{"click @ui.keyword":function(e){var t=$(e.target);e.preventDefault(),this._select(t.data("gIndex"),t.data("kIndex"))},"click @ui.closeBtn":"destroy",click:function(e){e.target===this.el&&this.destroy()}},initialize:function(e){this._title=e.title,this._controller=e.controller,this._keywordGroupList=this._generateKeywordGroupList()},serializeData:function(){return{viewId:this.cid,title:this._title,keywordGroupList:this._keywordGroupList}},_generateKeywordGroupList:function(){return i.sortBy(this._controller.getUserKeywordCandidateList(),(function(e){return e.name===this.name?0:1}),{name:this._controller.getKeywordGroup()})},_select:function(e,t){var n=this._keywordGroupList[e],i=n?n.keywordList[t]:null;i&&this.trigger(this.EVENT.SELECT,{keywordGroup:n,keyword:i})}});r.openLayer=function(e){var t=new r(e);return o.open(t),t},e.exports=r},3328:function(e,t){e.exports='<div class="lyContent" style="width:440px">\n    <header class="modalHeader">\n        <h1 class="title"><%- title %></h1>\n    </header>\n    <div class="modalBody">\n        <div class="selectTopicArea">\n            <div class="topicBox">\n                <% _.each(keywordGroupList, function(group, gIndex) { %>\n                <div class="topic">\n                    <em class="topicTitle"><%- group.name %></em>\n                    <ul class="topicList">\n                        <% _.each(group.keywordList, function(keyword, kIndex) { %>\n                        <li class="topicItem"><input type="checkbox" id="keyword_<%- viewId %>_<%- gIndex %>_<%- kIndex %>" title="<%- keyword.name %>" class="checkBox _keyword" data-g-index="<%- gIndex %>" data-k-index="<%- kIndex %>"><label for="keyword_<%- viewId %>_<%- gIndex %>_<%- kIndex %>" class="checkLabel"><%- keyword.name %></label></li>\n                        <% }); %>\n                    </ul>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n    </div>\n    <footer class="modalFooter gPa0">\n        <button type="button" class="uButton -iconClose btnLyClose _closeBtn"><%- IM(\'ui.label.close_layer\') %></button>\n    </footer>\n</div>'},3329:function(e,t,n){var i=n(0),a=n(4),s=n(3330),o=n(1766),r=n(1011),l=n(2101),c=n(157),d=n(153),u=a.View.extend({tagName:"div",className:"bandFindWrap",attributes:{"data-viewname":"DLocalBandApplyView"},template:i.template(s),ui:{bandList:"._bandList",createLink:"._createLink"},regions:{bandList:{el:"@ui.bandList",replaceElement:!0}},events:{"click @ui.createLink":"_onClickCreateLink"},initialize:function(e){},serializeData:function(){return{isEmpty:this.collection.isEmpty()}},onRender:function(){this._showBandList()},_showBandList:function(){if(!this.collection.isEmpty()){var e=l.build({collection:this.collection});this.showChildView("bandList",e),this.listenTo(e,e.EVENT.APPLY,(function(e){d.GROUP_BAND_SETTING_LOCAL_BAND.goDForced({band_no:e.getBandNo()})}))}},_onClickCreateLink:function(){c.GLOBAL_BAND_CREATE.goDForced()}});u.build=function(){return o.fetchBandList().then((function(e){return new u({collection:r.buildBandCollection(e)})}))},e.exports=u},3330:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'local_band_apply.title\') %></h1>\n<div class="wide">\n    <section class="myBand gContentCardShadow">\n        <h1 class="sectionTitle"><%- IM(\'local_band_apply.title\') %></h1>\n        <p class="desc"><%- IM(\'local_band_apply.desc\') %></p>\n        <div class="guide">\n            <ul>\n                <li><%- IM(\'local_band_apply.guide1\') %></li>\n                <li><%- IM(\'local_band_apply.guide2\') %></li>\n            </ul>\n        </div>\n        <div class="_bandList" style="display:none"></div>\n        <% if (isEmpty) { %>\n        <div class="bandFindMake">\n            <a href="#" class="bandAdd _createLink">\n                <span class="iconAdd -add"></span>\n                <p class="none"><span><%- IM(\'local_band_apply.empty1\') %></span><br><span><%- IM(\'local_band_apply.empty2\') %></span></p>\n            </a>\n        </div>\n        <% } %>\n    </section>\n</div>'},3331:function(e,t,n){var i=n(0),a=n(10),s=n(52),o=n(4),r=n(3332),l=n(1266),c=n(1010),d=n(1764),u=n(495),h=n(487),p=n(1161),_=n(157),m=n(82),g=n(663),b=n(84),f=n(17),v=n(590),C=o.View.extend({tagName:"div",className:"bandFindWrap localBandFindWrap",attributes:{"data-viewname":"DLocalBandLfgResultView"},template:i.template(r),ui:{recruitLink:"._recruitLink",bandList:"._bandList",moreLink:"._moreLink"},regions:{bandList:{el:"@ui.bandList",replaceElement:!0}},events:{"click @ui.recruitLink":"_onClickRecruitLink","click @ui.moreLink":"_onClickMoreLink"},behaviors:function(){return[{behaviorClass:u,sceneId:u.SCENE.LOCAL_BAND_SEARCHRESULT},{behaviorClass:h}]},initialize:function(e){this._rcode=e.rcode,this._regionName=e.regionName,this._keywordGroup=e.keywordGroup,this._keyword=e.keyword,this._subscribedCount=e.subscribedCount,this._subscribers=e.subscribers,this._isSubscribed=e.isSubscribed,this._hasSubscriber=this._subscribedCount>1||1===this._subscribedCount&&!this._isSubscribed},serializeData:function(){return{mainTitle:this._getMainTitle(),showSubscriber:this._hasSubscriber,subscribers:this._getSubscribers(),showKeyword:!this._hasSubscriber,regionName:this._regionName,keyword:this._keyword}},onRender:function(){this._showBandList()},onAttach:function(){this._sendSceneEnterLog()},_showBandList:function(){var e=d.buildLfgResult(this.collection);this.showChildView("bandList",e)},_getMainTitle:function(){if(this._hasSubscriber){var e={count:a.numberFormat(this._subscribedCount),region:this._regionName,keyword:this._keyword};return IM("local_band_lfg_result.notification_count",e)}return IM("local_band_lfg_result.title")},_getSubscribers:function(){if(this._hasSubscriber){var e=i.first(this._subscribers,5);return i.map(e,(function(e){return{profile:m.makeProfileThumbnailUrl(e.profileImageUrl)}}))}return null},_onClickRecruitLink:function(){this._sendContinueRecruitClickLog(),v.isContentCreationPunished()||g.goToCreateLocalBandLfg(this._rcode,this._regionName,this._keywordGroup,this._keyword)},_onClickMoreLink:function(){g.goToLocalBand(this._rcode,this._keywordGroup,this._keyword)},_sendSceneEnterLog:function(){this.jplSceneEnter(h.CLASSIFIER.LOCAL_BAND_SEARCHRESULT)},_sendContinueRecruitClickLog:function(){this.jplClick(h.CLASSIFIER.CONTINUE_RECRUIT_LOCAL_BAND,{card_type:this._getBaCardType()})},_getBaCardType:function(){return this._hasSubscriber?p.CARD_TYPE.ONEMORE:p.CARD_TYPE.EMPTY}});C.build=function(){var e=f.queryStringToObject(location.search),t=a.trim(e.rcode),n=a.trim(e.regionName),i=a.trim(e.keywordGroup),o=a.trim(e.keyword);if(!(t&&n&&i&&o))return _.GLOBAL_HOME.goDForced(),null;var r=l.build();return r.fetch(t,i,o,20).then((function(){if(r.isEmpty()){var e=g.getCreateLocalBandLfgUrl(t,n,i,o);return b.go(e,{replace:!0}),null}return c.getRecommendBandSubscribers(t,i,o).then((function(e){var a=s.camelizeKeys(e);return new C({rcode:t,regionName:n,keywordGroup:i,keyword:o,collection:r,subscribedCount:a.subscribedCount,subscribers:a.subscribers,isSubscribed:a.subscribed})}))}))},e.exports=C},3332:function(e,t){e.exports='<div class="localMeetupRecruitHead fullWide">\n  <a href="#" class="recruitLink _recruitLink">\n    <div class="recruitNoticeBox">\n      <p class="recruitNoticeText"><%= mainTitle %></p>\n      <% if (showSubscriber) { %>\n      <div class="gMemberThumbnailStack">\n        <% _.each(subscribers, function(subscriber) { %>\n        <span class="-whiteBorder uProfile -size40 -outline">\n          <span class="profileInner ">\n            <img src="<%- subscriber.profile %>" width="40" height="40" alt="">\n          </span>\n        </span>\n        <% }); %>\n      </div>\n      <% } %>\n      <% if (showKeyword) { %>\n      <span class="tagArea"><button type="button" class="tag -iconMap"><%- regionName %></button><button type="button" class="tag"><%- keyword %></button></span>\n      <% } %>\n    </div>\n    <button type="button" class="uButton -sizeM -confirm"><%- IM(\'local_band_lfg_result.create_btn\') %></button>\n  </a>\n</div>\n<div class="wide">\n  <section class="missionBand">\n    <h1 class="sectionTitle gMat38"><%- IM(\'local_band_lfg_result.band_section\') %></h1>\n    <div class="_bandList" style="display:none"></div>\n    <a href="#" class="more _moreLink"><%- IM(\'local_band_lfg_result.more_btn\') %></a>\n  </section>\n  <div class="gTaC gMat27">\n    <a href="#" class="uButton -sizeXL -cancel _moreLink"><%- IM(\'local_band_lfg_result.more_btn\') %></a>\n  </div>\n</div>'},3333:function(e,t,n){var i=n(0),a=n(4),s=n(3334),o=n(1705),r=n(3335),l=n(1168),c=n(495),d=n(487),u=n(512),h=n(157),p=n(153),_=n(176),m=n(178),g=n(158),b=n(1766),f=a.View.extend({tagName:"div",className:"bandFindWrap",attributes:{"data-viewname":"DLocationBandListView"},template:i.template(s),ui:{regionSelectBtn:"._regionSelectBtn",cityBandList:"._cityBandList",cityBannerLink:"._cityBannerLink",stateBandTitle:"._stateBandTitle",stateBandList:"._stateBandList",emptyBtn:"._emptyBtn"},regions:{cityBandList:{el:"@ui.cityBandList",replaceElement:!0},stateBandList:{el:"@ui.stateBandList",replaceElement:!0}},events:{"click @ui.regionSelectBtn":"_onClickRegionSelectBtn","click @ui.cityBannerLink":"_onClickCityBannerLink","click @ui.emptyBtn":"_onClickEmptyBtn"},behaviors:function(){return[{behaviorClass:c,sceneId:c.SCENE.SEARCH_LOCALBAND_HOME},{behaviorClass:d}]},initialize:function(e){this._controller=e.controller,this._cityBandCollection=this._controller.getCityBandCollection(),this._stateBandCollection=this._controller.getStateBandCollection()},serializeData:function(){return{cityName:this._controller.getCityName(),stateName:this._controller.getStateName(),showCityBand:!this._cityBandCollection.isEmpty(),showStateBand:!this._stateBandCollection.isEmpty(),emptyDesc:g.nl2br(IM("location_band.empty_desc"))}},onRender:function(){this._showCityBandList(),this._cityBandCollection.hasMore()||this._showStateBandList()},onAttach:function(){this._sendSceneEnterLog(),this.listenTo(u,"window:scroll:bottom",(function(){this._cityBandCollection.hasMore()?this._cityBandCollection.fetchMore():this._stateBandListView?this._stateBandCollection.fetchMore():this._showStateBandList()}))},onBeforeDetach:function(){this.stopListening(u)},_showCityBandList:function(){if(!this._cityBandCollection.isEmpty()){var e=this._buildCollectionView(this._cityBandCollection);this.showChildView("cityBandList",e)}},_showStateBandList:function(){this._stateBandCollection.isEmpty()||this._stateBandListView||(this.ui.stateBandTitle.css("display",""),this._stateBandListView=this._buildCollectionView(this._stateBandCollection),this.showChildView("stateBandList",this._stateBandListView))},_buildCollectionView:function(e){return new a.CollectionView({tagName:"div",className:"localMeetupWrap gMat25",collection:e,childView:r,childViewEvents:{click:i.bind((function(t){var n=e===this._cityBandCollection?"city":"state",i=t.getBandNo(),a=e.indexOf(t);this._sendLocalBandListItemClickLog(n,i,a),this._sendGoToBandOccurLog(i,a),p.GROUP_BAND_HOME.goDForced({band_no:i})}),this)}})},_goToApplyOrCreate:function(){b.fetchBandCount().then((function(e){0<e?h.GLOBAL_LOCAL_BAND_APPLY.goDForced():h.GLOBAL_BAND_CREATE.goDForced()}))},_onClickRegionSelectBtn:function(){this._sendTopLocalSelectClickLog();var e=l.openLayer();this.listenTo(e,l.EVENTS.ATTACH,this._sendAreaListSceneEnterLog),this.listenTo(e,l.EVENTS.SEARCH,this._sendAreaListSearchLog),this.listenTo(e,l.EVENTS.SELECTED,(function(e){var t=e.collection,n=t?t.getQuery():null;n&&this._sendAreaListSelectLog(n,t.length,e.getName()),h.GLOBAL_DISCOVER_LOCATION.goDForced({location_id:e.getRcode()})}))},_onClickCityBannerLink:function(){this._sendAddLocalBandClickLog(),this._goToApplyOrCreate()},_onClickEmptyBtn:function(){this._sendZeroListGotoBandCreateClickLog(),this._goToApplyOrCreate()},_sendAreaListLog:function(e,t,n){m.sendLog(c.SCENE.SEARCH_LOCALBAND_AREALIST,e,t,n)},_sendAreaListSceneEnterLog:function(){this._sendAreaListLog(m.ACTION_ID.SCENE_ENTER,d.CLASSIFIER.SEARCH_LOCALBAND_AREALIST,{first_fetched_city_count:0})},_sendAreaListSearchLog:function(e){this._sendAreaListLog(m.ACTION_ID.OCCUR,d.CLASSIFIER.CITY_LIST_AUTOCOMPLETED,{search_keyword:e.query,autocompleted_city_list_count:e.count})},_sendAreaListSelectLog:function(e,t,n){this._sendAreaListLog(m.ACTION_ID.CLICK,d.CLASSIFIER.CITY_LIST_ITEM,{search_keyword:e,autocompleted_city_list_count:t,selected_city_name:n})},_sendGoToBandOccurLog:function(e,t){this.jplOccur(d.CLASSIFIER.GOTO_BAND,{band_no:e,is_member:_.isBandJoined(e),trigger_action_classifier:"click_"+d.CLASSIFIER.LOCAL_BAND_LIST_ITEM,trigger_item_offset:t,trigger_item_info:t})},_sendLocalBandListItemClickLog:function(e,t,n){this.jplClick(d.CLASSIFIER.LOCAL_BAND_LIST_ITEM,{location_level:e,location_name:this._controller.getLocationName(),band_no:t,offset_in_band_list:n})},_sendAddLocalBandClickLog:function(){this.jplClick(d.CLASSIFIER.ADD_LOCALBAND,{behavior:"goto_create_band"})},_sendZeroListGotoBandCreateClickLog:function(){this.jplClick(d.CLASSIFIER.ZERO_LIST_GOTO_BAND_CREATE)},_sendTopLocalSelectClickLog:function(){this.jplClick(d.CLASSIFIER.TOP_LOCAL_SELECT)},_sendSceneEnterLog:function(){this._controller.hasLocation()&&this.jplSceneEnter(d.CLASSIFIER.SEARCH_LOCALBAND_HOME,{location_source:this._controller.getLocationSource(),location_name:this._controller.getLocationName(),first_fetched_band_count_city:this._cityBandCollection.length,first_fetched_band_count_state:this._stateBandCollection.length})}});f.build=function(e){return o.fetch(e).then((function(e){return new f({controller:e})}))},e.exports=f},3334:function(e,t){e.exports='<h1 class="gSrOnly"><%- IM(\'location_band.title\') %></h1>\n<div class="localMeetupHead fullWide">\n    <section class="localMeetupBandHead">\n        <h1 class="sectionTitle"><span class="settingLocalTitle"></span><%- cityName || IM(\'region_selection.title\') %><button type="button" class="openKeyword _regionSelectBtn"><%- IM(\'region_selection.title\') %></button></h1>\n        <% if (stateName) { %>\n        <div class="localState"><%- stateName %></div>\n        <% } %>\n    </section>\n</div>\n\n<div class="wide localMeetupBandList">\n    <section class="bandListWrap">\n        <h1 class="gSrOnly"><%- IM(\'ui.label.band_list\') %></h1>\n\n        <% if (showCityBand) { %>\n        <div class="_cityBandList" style="display:none"></div>\n        <% } %>\n\n        <% if (!showCityBand && showStateBand) { %>\n        <div class="bandFindMake gPat42 gPab48">\n            <div class="bandAdd gMat0 gMab0">\n                <div class="localMeetupNoneTitle gFw5 gFs18"><%- IM(\'location_band.empty_title\') %></div>\n            </div>\n        </div>\n        <% } %>\n\n        <% if (showCityBand || showStateBand) { %>\n        <div class="topGuideBanner gContentCardShadow gMat10 gMab28">\n            <a href="#" class="topGuideBannerLink _cityBannerLink">\n                <div class="guideTextBox">\n                    <span class="iconImg -iconPlus"></span>\n                    <p class="guideText"><%- IM(\'location_band.city_banner\') %></p>\n                </div>\n                <button type="button" class="uButton -sizeS -confirm"><%- IM(\'location_band.empty_btn\') %></button>\n            </a>\n        </div>\n        <% } %>\n\n        <% if (showStateBand) { %>\n        <div class="sectionTitleType2 _stateBandTitle" style="display:none">\n            <h2 class="titleText"><%- IM(\'location_band.section_title\', {name: stateName}) %></h2>\n        </div>\n        <div class="_stateBandList" style="display:none"></div>\n        <% } %>\n\n        <% if (!(showCityBand || showStateBand)) { %>\n        <div class="bandFindMake">\n            <div class="bandAdd">\n                <div class="localMeetupNoneTitle"><%- IM(\'location_band.empty_title\') %></div>\n                <p class="none"><%- IM(\'location_band.empty_desc\') %></p>\n                <div class="buttonBox gMat25">\n                    <button type="button" class="uButton -sizeL -confirm _emptyBtn"><%- IM(\'location_band.empty_btn\') %></button>\n                </div>\n            </div>\n        </div>\n        <% } %>\n    </section>\n</div>'},3335:function(e,t,n){var i=n(0),a=n(10),s=n(4),o=n(3336),r=n(82),l=n(853),c=n(506),d=n(9),u=s.View.extend({tagName:"div",className:"localMeetupCard gContentLocalMeetupCardShadow gCursorPointer",attributes:{"data-viewname":"DLocationBandItemView"},template:i.template(o),events:{click:function(){this.trigger("click",this.model)}},initialize:function(e){},serializeData:function(){var e=this.model.attributes,t=c.get(e,"localMeetup.startAt"),n=e.bandJoinOption||{};return{certified:e.certified,name:e.name,description:e.description,region:e.region.name,keyword:i.first(e.keywords),cover:r.makeMediumCoverUrl(e.cover),schedule:d.format.date(t,"month_day_weekday_time"),gender:this._getGenderText(n.gender),age:this._getAgeText(n.minBirthYear,n.maxBirthYear),memberCount:a.numberFormat(e.memberCount)}},_getGenderText:function(e){return l.getJoinOptionByAllowedGender(e,!0)},_getAgeText:function(e,t){return e||t?e&&!t?IM("location_band.birth_year_min_only",{minYear:e}):!e&&t?IM("location_band.birth_year_max_only",{maxYear:t}):e===t?IM("location_band.birth_year_min_max_same",{minYear:e}):IM("location_band.birth_year_min_max_range",{minYear:e,maxYear:t}):null}});e.exports=u},3336:function(e,t){e.exports='<div class="localMeetupContent">\n    <div class="localMeetupContentBox">\n        <h3 class="localMeetupContTitle"><%- name %></h3>\n        <div class="localMeetupContDesc gMat6"><%- description %></div>\n        <div class="localMeetupContTagBox gMat10">\n            <button class="tagItem -local"><%- region %></button><% if (keyword) { %><button class="tagItem"><%- keyword %></button><% } %>\n        </div>\n    </div>\n    <div class="localMeetupContentThumb gMat3"><img src="<%- cover %>" alt="<%- IM(\'ui.label.band_cover\') %>"></div>\n    <a href="#" class="localMeetupContentLink"></a>\n</div>\n<div class="localMeetupInfoWrap">\n    <div class="localMeetupInfoBox gMal-1">\n        <% if (schedule) { %>\n        <div class="localMeetupSchedule gMat-4"><%- IM(\'location_band.meetup_schedule\', {schedule: schedule}) %></div>\n        <% } %>\n        <% if (gender || age) { %>\n        <div class="localMeetupCondition">\n            <span class="title"><%- IM(\'location_band.membership\') %></span><% if (gender) { %><span class="item"><%- gender %></span><% } %><% if (age) { %><span class="item"><%- age %></span><% } %>\n        </div>\n        <% } %>\n        <div class="localMeetupTogether"><%= IM(\'location_band.member_count\', {count: \'<span class="-emphasis">\' + memberCount + \'</span>\'}) %></div>\n    </div>\n</div>'},3337:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(4),a=n(499),s=n(498),o=n(495),r=n(487),l=n(157),c=n(3338),d=n(1530),u=n(1781),h=n(3339),p=i.View.extend({attributes:{"data-viewname":"DPageBandCreateView"},getTemplate:function(){return this._loading?t.template(h):t.template(s)},behaviors:[{behaviorClass:o,sceneId:o.SCENE.PAGE_CREATE_USECASE},{behaviorClass:r}],ui:{pageType:"._pageType",pageBandHelpGuide:"._pageBandHelpGuide",btnClose:"._btnClose"},events:{"click @ui.pageType":"_openProfileSettingLayer","click @ui.pageBandHelpGuide":"_showPageBandHelpGuide","click @ui.btnClose":"destroy"},initialize:function(){this._loading=!1,this.pageBandProfileModel=new d,this.pageCreationTypeCollection=new c([])},serializeData:function(){return this._loading?{typeList:this.pageCreationTypeCollection.toJSON()}:{_loading_size:a.Size.MEDIUM}},onAttach:function(){return this._sendPageClassSelectionSceneEnterLog(),this.pageCreationTypeCollection.getPageCreationType().then(t.bind((function(){this._loading=!0,this.render()}),this))},_openProfileSettingLayer:function(e){var t=$(e.currentTarget).data("creation-id");this.pageBandProfileModel.set("creationSetId",t);var n=$(e.currentTarget).data("type-title");this._sendPageClassSelectionClickLog(n);var i=u.build({model:this.pageBandProfileModel});this.listenTo(i,"pageCoverImageSetting:closeAllLayers",(function(){l.GLOBAL_FEED.goDForced(),this.destroy()}))},_showPageBandHelpGuide:function(){this._sendHelpGuideClickLog()},_sendPageClassSelectionSceneEnterLog:function(){this.jplSceneEnter(r.CLASSIFIER.PAGE_CREATE_USECASE)},_sendPageClassSelectionClickLog:function(e){this.jplClick(r.CLASSIFIER.PAGE_CREATE_USECASE_ITEM,{case_id:e})},_sendHelpGuideClickLog:function(){this.jplClick(r.CLASSIFIER.PAGE_CREATE_GOTO_GUIDE)}});return p.build=function(){return new p},p}.call(t,n,t,e))||(e.exports=i)},3338:function(e,t,n){var i;void 0===(i=function(e){var t=n(0),i=n(6),a=n(181),s=i.Model.extend({default:{id:null,title:null,desc:null,image:null},parse:function(e){var t={};return t.id=e.id,t.title=e.title,t.desc=e.desc,e.image&&(t.image=e.image),t},getTitle:function(){return this.get("title")},getDescription:function(){return this.get("desc")},getTypeImage:function(){return this.get("image")}});return i.Collection.extend({model:s,getPageCreationType:function(){return a.getPageCreationSet().then(t.bind((function(e){this.set(e.items,{parse:!0})}),this))}})}.call(t,n,t,e))||(e.exports=i)},3339:function(e,t){e.exports='<div class="bandMakeUsecaseArea gMat50">\n    <h2 class="title"><%= IM("pageband.create.guide.title.setting_page_type2") %></h2>\n    <p class="titleDesc gMat1"><%= IM("pageband.create.guide.description.setting_page_type") %></p>\n\n    <div class="pageTypeArea">\n    <% _.each(typeList, function (type) { %>\n        <button type="button" class="typeButton _pageType -type<%- typeList.indexOf(type) %>" data-creation-id="<%- type.id %>" data-type-title="<%= type.title %>">\n            <div class="textBox">\n                <strong class="typeTitle"><%- type.title %></strong>\n                <span class="typeDesc"><%- type.desc %></span>\n            </div>\n        </button>\n    <% }); %>\n    </div>\n\n    <% // 페이지 활용법 보기 링크 %>\n    <a href="/cs/notice/3506" target="_blank" class="textLink gMat19 _pageBandHelpGuide"><%= IM("pageband.create.guide.show_helpguide_about_page") %></a>\n</div>\n'},932:function(e,t,n){var i;void 0===(i=function(){return{CRITERIA_AGE:13,SIGN_UP_BIRTH_COOKIE_FORMAT:"YYYYMMDD"}}.call(t,n,t,e))||(e.exports=i)}}]);