(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1008:function(e,t,n){var o=n(0),i=n(21),r=n(13);function d(){return r.isLogedIn()?i.getLoginV1Client():i.getNoLoginV1Client()}function s(){return r.isLogedIn()?i.getLoginV1ClientWithoutErrorAlert():i.getNoLoginV1Client()}var a={getRcmdDiscover:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v1/discover/get",params:{discoverVersion:"1.0.0",platform:"WEB"},method:"GET"}]).then((function(e){return o.pluck(e,"result_data")[0]}))},getRcmdMissionList:function(e,t){var n=[{svc_id:"RCMD",path:"/v1/mission/list",params:e,method:"GET"}];return t&&n.push({svc_id:"RCMD",path:"/v1/mission/keywordList",method:"GET"}),d().sendBatchApiBatchRequest(n).then((function(e){return o.pluck(e,"result_data")}))},getRcmdBandHomeUpperList:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v1/bandhome/upperList",params:{bandHomeUpperVersion:"1.1.0",platform:"WEB"},method:"GET"}]).then((function(e){return o.pluck(e,"result_data")}))},getRcmdUserKeywords:function(e,t){var n=[{svc_id:"RCMD",path:"/v1/keyword/getUserKeywords",params:{userNo:e,country:t},method:"GET"}];return d().sendBatchApiBatchRequest(n).then((function(e){return o.pluck(e,"result_data")[0]}))},getRcmdUserRegion:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v2.0.7/regionBand/getRcmdUserRegion",method:"GET"}]).then((function(e){return o.pluck(e,"result_data")[0]}))},getRcmdRcodeName:function(e){var t=[{svc_id:"RCMD",path:"/v2.0.7/regionBand/getRcodeName",params:{rcode:e},method:"GET"}];return s().sendBatchApiBatchRequest(t).then((function(e){return o.pluck(e,"result_data")[0]}))},getRcmdRegionBandKeywordList:function(){return d().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.7/regionBand/keywordList"}]).then((function(e){return o.pluck(e,"result_data")[0]}))},getRcmdRegionBandList:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v2.0.7/regionBand/list",params:e}];return s().sendBatchApiBatchRequest(t).then((function(e){return o.pluck(e,"result_data")[0]}))},setRcmdUserKeyword:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v1/keyword/setUserKeyword",params:e}];return d().sendBatchApiBatchRequest(t).then((function(e){return o.pluck(e,"result_data")[0]}))},setRcmdUserKeywords:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v1/keyword/setUserKeywords",params:e}];return d().sendBatchApiBatchRequest(t).then((function(e){return o.pluck(e,"result_data")[0]}))},sendRcmdRefreshPathParam:function(e){var t=[{svc_id:"RCMD",method:"GET",path:e}];return s().sendBatchApiBatchRequest(t).then((function(e){return o.pluck(e,"result_data")[0]}))},getRcmdBandHomeRegionBandCard:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.7/bandhome/regionBandCard"}]).then((function(e){return o.pluck(e,"result_data")[0]}))}};e.exports=a},1275:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=n(6);function i(e){var n=[];return t.each(e,(function(e){t.each(e.keywordGroups,(function(t){n.push({keywordGroup:t,keyword:e.keyword})}),this)}),this),n}var r=o.Model.extend({defaults:{keywordGroup:"",keyword:""}}),d=o.Collection.extend({model:r,modelId:function(e){return e.keywordGroup+"_"+e.keyword}});return d.convertToSelectedKeywords=i,d.convertToBandApiObject=function(e){return{bandKeywords:t.pluck(e,"keyword"),bandKeywordsWithKeywordGroups:t.chain(e).groupBy("keyword").map((function(e,n){return{keyword:n,keywordGroups:t.pluck(e,"keywordGroup")}})).value()}},d.buildFromBandKeywordsWithKeywordGroups=function(e){var t=i(e);return new d(t)},d}.call(t,n,t,e))||(e.exports=o)},1522:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=n(4),i=n(3160),r=n(486),d=n(543),s=n(2090),a=n(1275),c=n(1593),u={CONFIRM:"CONFIRM",CANCEL:"CANCEL"},l=o.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandKeywordSelectView"},template:t.template(i),templateContext:function(){return{showSelectedKeywordList:!this._isForLocalBand}},ui:{btnCancel:"._btnCancel",btnConfirm:"._btnConfirm"},regions:{selectedKeywordListRegion:{el:"._selectedKeywordListRegion",replaceElement:!0},keywordListRegion:{el:"._keywordListRegion",replaceElement:!0}},events:{"click @ui.btnCancel":"destroy","click @ui.btnConfirm":function(){this.trigger(u.CONFIRM,this._selectedKeywordListCollection.toJSON()),this.destroy()}},initialize:function(e){this._bandNo=e.bandNo,this._showRecommendedKeywords=e.showRecommendedKeywords,this._isForLocalBand=e.isForLocalBand,this._selectedKeywordListCollection=new a(e.selectedKeywords),this.listenTo(this._selectedKeywordListCollection,"update reset",(function(e,t){this.getUI("btnConfirm").prop("disabled",!this._isKeywordChanged())}))},onAttach:function(){this._showSelectedKeywordListView(),this._showSelectableKeywordListView()},_isKeywordChanged:function(){var e=t.map(this._selectedKeywordListCollection.toJSON(),(function(e){return JSON.stringify(e)})),n=t.map(this.options.selectedKeywords,(function(e){return JSON.stringify(e)}));return!t.isEmpty(t.difference(e,n))||!t.isEmpty(t.difference(n,e))},_showSelectedKeywordListView:function(){this._isForLocalBand||this.showChildView("selectedKeywordListRegion",new c({collection:this._selectedKeywordListCollection}))},_showSelectableKeywordListView:function(){var e=this._isForLocalBand?d.BAND_KEYWORD.LOCAL_BAND_KEYWORD_MAX_COUNT:d.BAND_KEYWORD.KEYWORD_MAX_COUNT;s.showBandKeywordList(this.getRegion("keywordListRegion"),{bandNo:this._bandNo,isForLocalBand:this._isForLocalBand,showRecommendedKeywords:this._showRecommendedKeywords,selectableCount:e,selectedKeywordListCollection:this._selectedKeywordListCollection})}});return l.EVENTS=u,l.openLayer=function(e){var n=new l({bandNo:e.bandNo,showRecommendedKeywords:!!t.isBoolean(e.showRecommendedKeywords)&&e.showRecommendedKeywords,isForLocalBand:e.isForLocalBand||!1,selectedKeywords:e.selectedKeywords});return r.openWithoutHiding(n),n},l}.call(t,n,t,e))||(e.exports=o)},1593:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=n(4),i=o.View.extend({tagName:"li",className:"topicItem",template:t.template('<input type="checkbox" id="selectedKeyword<%= cid %>" title="selectedKeyword" class="checkBox" checked disabled>\n<label for="selectedKeyword<%= cid %>" class="checkLabel">\n    <%- keywordGroup + " > " + keyword %>\n    <% if (deletable) { %>\n    <button type="button" class="buttonDelete _btnDeleteKeyword"><span class="gSrOnly"><%= IM(\'ui.label.delete\') %></span></button>\n    <% } %>\n</label>'),templateContext:function(){return{cid:this.model.cid,deletable:this.options.deletable}},events:{"click ._btnDeleteKeyword":function(e){this.model.collection.remove(this.model)}}});return o.CollectionView.extend({tagName:"ul",className:"topicList",attributes:{"data-viewname":"DSelectedKeywordListView"},childView:i,childViewOptions:function(e,n){return{deletable:!t.isBoolean(this.options.deletable)||this.options.deletable}}})}.call(t,n,t,e))||(e.exports=o)},1756:function(e,t,n){var o,i;o=[n(21)],void 0===(i=function(e){var t=null,n=function(){return t||(t=e.getLoginV1Client()),t};return{getBandRecommendedKeywords:function(e){return n().send({url:"https://api.band.us/v1.0.0/get_band_recommended_keywords",data:{band_no:e}}).then((function(e){if(e.result_data)return e.result_data}))},getBandKeywords:function(e,t){var o={};return e&&(o.keyword_country_set=e),_.isBoolean(t)&&(o.local_only=t),n().sendAndThenProcessWithErrorAlert({url:"https://api.band.us/v2.0.0/get_keywords",data:o})},setBandKeywords:function(e,t){return n().sendAndThenProcess({url:"https://api.band.us/v1.0.0/set_band_keywords",data:{band_no:e,words:t.join()}})}}}.apply(t,o))||(e.exports=i)},2090:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=n(4),i=n(3161),r=n(3162),d=n(1275),s=o.View.extend({tagName:"div",className:"selectTopicArea",attributes:{"data-viewname":"DSelectableBandKeywordListView"},template:t.template(i),templateContext:function(){return{isSelectedKeyword:t.bind((function(e,t){return!!this._selectedKeywordListCollection.find((function(n){return n.get("keywordGroup")===e&&n.get("keyword")===t}))}),this)}},ui:{checkboxKeyword:"._checkboxKeyword"},events:{"click @ui.checkboxKeyword":function(e){var t=$(e.currentTarget),n=t.is(":checked"),o=t.data("keywordGroup"),i=t.data("keyword"),r=t.data("keywordNo");if(n&&this._selectableCount>1&&this._selectedKeywordListCollection.length>=this._selectableCount)return alert(IM("bandsetting.keyword.alert.maxCountViolation2")),!1;n?this._selectKeyword(o,i,r):this._deselectKeyword(o,i,r)}},initialize:function(e){this._selectableCount=e.selectableCount,this._selectedKeywordListCollection=e.selectedKeywordListCollection,this.listenTo(this._selectedKeywordListCollection,"add",(function(e,t,n){var o=e.get("keywordGroup"),i=e.get("keyword");this.getUI("checkboxKeyword").filter('[data-keyword-group="'+o+'"][data-keyword="'+i+'"]').prop("checked",!0)})),this.listenTo(this._selectedKeywordListCollection,"remove",(function(e,t,n){var o=e.get("keywordGroup"),i=e.get("keyword");this.getUI("checkboxKeyword").filter('[data-keyword-group="'+o+'"][data-keyword="'+i+'"]').prop("checked",!1)}))},_selectKeyword:function(e,t,n){1===this._selectableCount&&1===this._selectedKeywordListCollection.length&&this._selectedKeywordListCollection.shift();var o={keywordGroup:e,keyword:t};n&&(o.keywordNo=n),this._selectedKeywordListCollection.add(o)},_deselectKeyword:function(e,t,n){var o={keywordGroup:e,keyword:t};n&&(o.keywordNo=n),this._selectedKeywordListCollection.remove(o)}});return s.showBandKeywordList=function(e,n){if(e){e.hasView()&&e.empty();var o=new r,i=!!t.isBoolean(i)&&i;return o.fetchDataFromBandApi(n.bandNo,n.isForLocalBand,i).then((function(){e.show(new s({model:o,selectableCount:n.selectableCount,selectedKeywordListCollection:n.selectedKeywordListCollection}))}))}},s.showRcmdKeywordList=function(e){if(e){e.hasView()&&e.empty();var t=new r;return t.fetchDataFromRcmdApi().then((function(n){var o=new s({model:t,selectableCount:null,selectedKeywordListCollection:new d(n)});return e.show(o),o}))}},s}.call(t,n,t,e))||(e.exports=o)},3160:function(e,t){e.exports='<div class="lyContent" style="width: 440px">\n    <header class="modalHeader">\n        <h1 class="title"><%= IM(\'bandsetting.keyword.select_keyword\') %></h1>\n    </header>\n    <div class="modalBody">\n        <% if (showSelectedKeywordList) { %>\n        <div class="selectedTopicBox">\n            <div class="_selectedKeywordListRegion"></div>\n        </div>\n        <% } %>\n        <div class="_keywordListRegion"></div>\n    </div>\n    <footer class="modalFooter -tLine">\n        <button type="button" class="uButton -cancel _btnCancel"><%= IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _btnConfirm" disabled><%= IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3161:function(e,t){e.exports='<div class="topicBox">\n    <% if (!_.isEmpty(recommendedKeywords)) { %>\n    <div class="topic">\n        <em class="topicTitle"><%= IM(\'ui.label.recommended\') %></em>\n        <ul class="topicList">\n            <% _.each(recommendedKeywords, function(recommendedKeyword, index) { %>\n            <li class="topicItem">\n                <input type="checkbox"\n                       id="<%= \'rcmdKeyword\' + index %>"\n                       class="checkBox _checkboxKeyword"\n                       <%= isSelectedKeyword(recommendedKeyword.keywordGroup, recommendedKeyword.keyword) ? \'checked\' : \'\' %>\n                       data-keyword-group="<%- recommendedKeyword.keywordGroup %>"\n                       data-keyword="<%- recommendedKeyword.keyword %>">\n                <label for="<%= \'rcmdKeyword\' + index %>" class="checkLabel"><%- recommendedKeyword.keywordGroup + \' > \' + recommendedKeyword.keyword %></label>\n            </li>\n            <% }); %>\n        </ul>\n    </div>\n    <% } %>\n    <% _.each(keywordGroups, function(keywordGroup, groupIndex) { %>\n    <div class="topic">\n        <em class="topicTitle"><%- keywordGroup.keywordGroup %></em>\n        <ul class="topicList">\n            <% _.each(keywordGroup.keywords, function(keyword, keywordIndex) { %>\n            <li class="topicItem">\n                <input type="checkbox"\n                       id="<%= \'group\' + groupIndex + \'_keyword\' + keywordIndex %>"\n                       class="checkBox _checkboxKeyword"\n                       <%= isSelectedKeyword(keyword.keywordGroup, keyword.keyword) ? \'checked\' : \'\' %>\n                       data-keyword-group="<%- keyword.keywordGroup %>"\n                       data-keyword="<%- keyword.keyword %>"\n                       data-keyword-no="<%- keyword.keywordNo %>">\n                <label for="<%= \'group\' + groupIndex + \'_keyword\' + keywordIndex %>" class="checkLabel"><%- keyword.keyword %></label>\n            </li>\n            <% }); %>\n        </ul>\n    </div>\n    <% }); %>\n</div>'},3162:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=(n(52),n(6)),i=n(1756),r=n(13),d=n(538),s=n(1008);return o.Model.extend({defaults:{keywordGroups:[],recommendedKeywords:[]},initialize:function(e,t){},fetchDataFromBandApi:function(e,n,o){o=!!t.isBoolean(o)&&o;var i=[this._getKeywordsFromBandApi(e,n)];return o&&e&&i.push(this._getRecommendedKeywords(e)),$.when.apply($,i).then(t.bind((function(e,t){this.set({keywordGroups:e,recommendedKeywords:t||[]})}),this))},_getKeywordsFromBandApi:function(e,n){return this._getKeywordCountrySet(e).then((function(e){return i.getBandKeywords(e,n).then(t.bind((function(e){return t.map(e.keywords.keyword_groups,(function(e){return{keywordGroup:e.keyword_group,keywords:t.map(e.keywords,(function(t){return{keywordGroup:e.keyword_group,keyword:t}}))}}))}),this))}))},_getKeywordCountrySet:function(e){return e?d.getBandOption(e).then((function(e){return e.getKeywordCountrySet()})):$.Deferred().resolve(null).promise()},fetchDataFromRcmdApi:function(){return this._getKeywordsFromRcmdApi().then(t.bind((function(e){return this.set({keywordGroups:e.keywordGroups}),e.selectedKeywords}),this))},_getKeywordsFromRcmdApi:function(){if(!r.isLogedIn())return $.Deferred().resolve([]).promise();var e=r.getUserData().getUserNo(),n=window.countryCode;return s.getRcmdUserKeywords(e,n).then((function(e){var n=[],o=[];return t.each(e.user_keyword_candidates,(function(i){n.push({keywordGroup:i.keyword_group.word,keywords:t.map(i.keywords,(function(e){return{keywordGroup:i.keyword_group.word,keyword:e.word,keywordNo:e.no}}))}),t.each(i.keywords,(function(n){t.contains(e.user_keywords,n.no)&&o.push({keywordGroup:i.keyword_group.word,keyword:n.word,keywordNo:n.no})}))}),this),{keywordGroups:n,selectedKeywords:o}}))},_getRecommendedKeywords:function(e){return i.getBandRecommendedKeywords(e).then((function(e){var n=[];return t.each(e.recommended_keywords_with_keyword_groups,(function(e){t.each(e.keyword_groups,(function(t){n.push({keyword:e.keyword,keywordGroup:t})}),this)}),this),n}))}})}.call(t,n,t,e))||(e.exports=o)},663:function(e,t,n){var o=n(157),i=n(13),r=n(167),d=n(166),s=n(175),a=n(84),c={goToUrl:function(e){window.isMobileView?s.go(e):a.go(e)},goToLocalBand:function(e,t,n){var o=this.getLocalBandUrl(e,t,n);this.goToUrl(o)},getLocalBandUrl:function(e,t,n){var i={rcode:e||this.getLatestLocalBandRcode(),keywordGroup:encodeURIComponent(t||""),keyword:encodeURIComponent(n||"")};return o.GLOBAL_LOCAL_BAND.makeAccessibleUrl({},i)},getLocalBandLfgUrl:function(e,t,n,i){var r={rcode:e,regionName:t,keywordGroup:n,keyword:i};return o.GLOBAL_LOCAL_BAND_LFG.makeUrl({},r)},getCreateLocalBandLfgUrl:function(e,t,n,i){return o.GLOBAL_LFG_BAND_CREATE.makeUrl({recruiting_type:"local"},{rcode:e,regionName:t,keywordGroup:n,keyword:i})},goToCreateLocalBandLfg:function(e,t,n,o){var i=this.getCreateLocalBandLfgUrl(e,t,n,o);this.goToUrl(i)},getLatestLocalBandRcode:function(){return i.isLogedIn()&&r.getCurrentUserEnvStorage().get([d.LatestLocalBandRcode])||""},setLatestLocalBandRcode:function(e){i.isLogedIn()&&r.getCurrentUserEnvStorage().set([d.LatestLocalBandRcode],e)},replaceTag:function(e,t,n){return e?e.replace(/(<\/?[^<>]+>)+/g,(function(e){return"/"===e[1]?["</",t,">"].join(""):["<",t,' class="',n||"",'">'].join("")})):""}};e.exports=c},739:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=n(9),i=n(43),r=n(554),d=n(165),s="short_noweekday";return{getBandMissionDurationText:function(e){var t=e/r.DAY_MS;return IM("band_mission.duration.n_days",{days:t})},getBandMissionConfirmFrequencyText:function(e){switch(e){case r.MISSION_FREQUENCY_ITEM.EVERYDAY:return IM("band_mission.frequency.everyday");case r.MISSION_FREQUENCY_ITEM.WEEKDAY:return IM("band_mission.frequency.weekday");case r.MISSION_FREQUENCY_ITEM.ONCE_A_WEEK:return IM("band_mission.frequency.once_a_week");case r.MISSION_FREQUENCY_ITEM.TWICE_A_WEEK:return IM("band_mission.frequency.twice_a_week");case r.MISSION_FREQUENCY_ITEM.THREE_TIMES_A_WEEK:return IM("band_mission.frequency.three_times_a_week");case r.MISSION_FREQUENCY_ITEM.FOUR_TIMES_A_WEEK:return IM("band_mission.frequency.four_times_a_week");case r.MISSION_FREQUENCY_ITEM.FIVE_TIMES_A_WEEK:return IM("band_mission.frequency.five_times_a_week");case r.MISSION_FREQUENCY_ITEM.SIX_TIMES_A_WEEK:return IM("band_mission.frequency.six_times_a_week")}},getBandMissionDateText:function(e){return o.format.date(e,s)},getBandMissionTimezoneDateText:function(e,t,n){var i=o.format.dateByTimezone(e,s,t);if(!n)return i;var r=this.getBandMissionTimezoneNameText(t);return r&&(i+=" ("+r+")"),i},getBandMissionTimezoneNameText:function(e){return e!==d.getCurrentTimezoneId()?d.getUserFriendlyTimezoneName(e):""},getBandMissionTimezonePeriodText:function(e,t,n,o){var i=this.getBandMissionTimezoneDateText(e,n)+" ~ "+this.getBandMissionTimezoneDateText(t,n);if(!o)return i;var r=this.getBandMissionTimezoneNameText(n);return r&&(i+=" ("+r+")"),i},getRemainingDayText:function(e,t,n){var o=i.tz(e,n).set({hour:0,minute:0,second:0,millisecond:0}),r=i.tz(t,n).set({hour:0,minute:0,second:0,millisecond:0}),d=o.diff(r,"days");return d<=0?"":"D-"+d},getDaysInProgressText:function(e){var t=i.tz(e.getBandMissionStartAt(),e.getBandMissionTimeZoneId()).startOf("day"),n=i().tz(e.getBandMissionTimeZoneId()).startOf("day").diff(t,"days")+1;return'<span class="statusText">'+IM("band_mission.ing")+'</span> <em class="currentDay">'+IM("band_mission.n_days",{n:n})+"</em>"},getBandMissionManualEndDateText:function(e){var t,n=e.getBandMissionTimeZoneId();return t=e.getBandMissionIsManuallyEnded()?i.tz(e.getBandMissionEndAt(),n):i.tz(n).endOf("day"),o.format.dateByTimezone(t,"short_date_time",n)},getRemindDescriptionText:function(e,n){return e?t.contains([r.MISSION_FREQUENCY_ITEM.EVERYDAY,r.MISSION_FREQUENCY_ITEM.WEEKDAY],n)?IM("band_mission.confirm_remind_setting.description.every_confirm_day"):IM("band_mission.confirm_remind_setting.description.monday"):IM("band_mission.confirm_remind_setting.description.before_participated")}}}.call(t,n,t,e))||(e.exports=o)},782:function(e,t,n){var o;void 0===(o=function(e){var t=n(0),o=n(16),i=n(52),r=n(165),d=n(804),s=n(529),a=n(490),c=n(554),u=n(26),l=n(9),h=Backbone.Model.extend({defaults:function(){var e=r.getCurrentTimezoneId();return{missionId:null,confirmStatus:null,fetchedAt:null,bandNo:null,creator:null,createdAt:null,title:"",description:"",startAt:o.tz(e).add({days:1}).startOf("day").valueOf(),timeZoneId:e,duration:2592e6,confirmFrequency:c.MISSION_FREQUENCY_ITEM.WEEKDAY,goodExample:{content:"",photoOrVideo:[]},badExample:{content:"",photoOrVideo:[]},isManuallyEnded:!1,isRestricted:!1,remindState:null}},parse:function(e){var t=e.creator,n=i.camelizeKeys(e);return t&&(n.creator=s.buildContentAuthorModel(t)),n},toJSON:function(){return a.toRecursiveJSON(this)},isOngoingMission:function(){return!this.isUpcomingMission()&&!this.isMissionEnded()},isUpcomingMission:function(){return!this.getBandMissionStartAt()||this.getFetchedAt()<this.getBandMissionStartAt()},isMissionEnded:function(){return!!this.getBandMissionEndAt()&&(this.getFetchedAt()>this.getBandMissionEndAt()||this.getBandMissionIsManuallyEnded())},isMissionEndDay:function(){return!!this.getBandMissionEndAt()&&o(this.getFetchedAt()).isSame(this.getBandMissionEndAt(),"day")},hasDescription:function(){return!!this.get("description")},hasGoodExample:function(){return!(!this.get("goodExample")||!this.get("goodExample").content&&t.isEmpty(this.get("goodExample").photoOrVideo))},hasBadExample:function(){return!(!this.get("badExample")||!this.get("badExample").content&&t.isEmpty(this.get("badExample").photoOrVideo))},hasContent:function(){return this.hasDescription()||this.hasGoodExample()||this.hasBadExample()},getFetchedAt:function(){return this.get("fetchedAt")},getBandNo:function(){return this.get("bandNo")},getMissionId:function(){return this.get("missionId")},getMissionCreateAt:function(){return this.get("createdAt")},getMissionGoodExample:function(){return this.get("goodExample")},getMissionBadExample:function(){return this.get("badExample")},getMissionGoodExampleContent:function(){return this.get("goodExample").content},getMissionBadExampleContent:function(){return this.get("badExample").content},getMissionGoodExamplePhotoOrVideo:function(){return this.get("goodExample").photoOrVideo},getMissionBadExamplePhotoOrVideo:function(){return this.get("badExample").photoOrVideo},_addPhotoOrVideo:function(e){var n={url:e.url,width:e.width,height:e.height};return(e.isVideo||e.isGifVideo)&&(n=t.extend(n,{isGif:e.isGifVideo,sosId:e.id,isVideo:e.isVideo})),n},setMissionGoodExamplePhotoOrVideo:function(e){t.each(e,t.bind((function(e){this.get("goodExample").photoOrVideo.push(this._addPhotoOrVideo(e))}),this))},setMissionBadExamplePhotoOrVideo:function(e){t.each(e,t.bind((function(e){this.get("badExample").photoOrVideo.push(this._addPhotoOrVideo(e))}),this))},removeMissionGoodExamplePhotoOrVideo:function(e){this.get("goodExample").photoOrVideo=t.filter(this.get("goodExample").photoOrVideo,(function(t,n){return n!==e})),this.trigger("remove:good:example:media")},removeMissionBadExamplePhotoOrVideo:function(e){this.get("badExample").photoOrVideo=t.filter(this.get("badExample").photoOrVideo,(function(t,n){return n!==e})),this.trigger("remove:bad:example:media")},getBandMissionCreator:function(){return this.get("creator")},getBandMissionTitle:function(){return this.get("title")},getBandMissionDescription:function(){return this.get("description")},getBandMissionConfirmFrequency:function(){return this.get("confirmFrequency")},getBandMissionStartAt:function(){return this.get("startAt")},getBandMissionEndAt:function(){return this.getBandMissionStartAt()?this.getBandMissionStartAt()+this.getBandMissionDuration()-1:null},getBandMissionTimeZoneId:function(){return this.get("timeZoneId")},getBandMissionDuration:function(){return this.get("duration")},isPossibleMissionDelete:function(){return this.get("missionId")&&o.tz(this.get("timeZoneId")).startOf("day").diff(o.tz(this.get("startAt"),this.get("timeZoneId")))<0||!1},isPossibleMissionEnd:function(){return this.get("missionId")&&!this.isPossibleMissionDelete()&&!this.get("isManuallyEnded")||!1},isPossibleMissionCancelEnd:function(){return this.get("missionId")&&!this.isPossibleMissionDelete()&&this.get("isManuallyEnded")||!1},setMyMission:function(e){this.isOngoingMission()||this.set("confirmFrequency",e.confirmFrequency),this.set({title:e.title,description:e.description,timeZoneId:e.timeZoneId,duration:e.duration,goodExample:e.goodExample,badExample:e.badExample})},getBandMissionIsManuallyEnded:function(){return this.get("isManuallyEnded")},getBandMissionConfirmStatus:function(){return this.get("confirmStatus")},isBandMissionRemindStateEnabled:function(){return this.get("remindState")===c.REMIND_STATE.REMIND_ENABLED},isRestrictedBandMission:function(){return this.get("isRestricted")||!1},canReportBandMission:function(){var e=this.getBandMissionCreator();return!this.isRestrictedBandMission()&&((!e||!e.isContentAuthorMe())&&l.spec.canReport())},endBandMissionManually:function(){var e=this.getBandNo(),n=this.getMissionId();return d.endMission(e,n).then(t.bind((function(e){this.set(this.parse(e.mission))}),this))},deleteBandMission:function(){var e=this.getBandNo(),n=this.getMissionId();return d.deleteMission(e,n).then(t.bind((function(){u.getBandChannel(e).trigger(u.EVENT.BAND_MISSION_DELETED,n)}),this))}});return h.fetchBandMission=function(e,n,o){return d.getMission(e,n,o).then((function(n){return new h(t.extend({bandNo:e,fetchedAt:(new Date).valueOf()},n.mission),{parse:!0})}))},h.fetchRecruitingBandMission=function(e,n){return d.getMissionForRecruitingBand(e,n).then((function(n){var o=n.mission;return o?new h(t.extend({bandNo:e,startAt:null,fetchedAt:(new Date).valueOf()},o),{parse:!0}):null}))},h}.call(t,n,t,e))||(e.exports=o)},853:function(e,t,n){var o=n(543);t.getJoinOptionByAllowedGender=function(e,t){switch(e){case o.BAND_JOIN_CONDITION.ALLOWED_GENDER.MALE:return IM("bandsetting.band_join_condition.txt.gender_male");case o.BAND_JOIN_CONDITION.ALLOWED_GENDER.FEMALE:return IM("bandsetting.band_join_condition.txt.gender_female");default:return t?null:IM("bandsetting.band_join_condition.txt.gender_none")}},t.getJoinOptionByAllowedYearOfBirth=function(e,t,n){var o=e&&"none"!==e,i=t&&"none"!==t;return o||i?o&&!i?IM("bandsetting.band_join_condition.txt.birthyear_min_only",{minYear:e}):!o&&i?IM("bandsetting.band_join_condition.txt.birthyear_max_only",{maxYear:t}):t===e?IM("bandsetting.band_join_condition.txt.birthyear_minmax_same",{minYear:e,maxYear:t}):IM("bandsetting.band_join_condition.txt.birthyear_minmax",{minYear:e,maxYear:t}):n?null:IM("bandsetting.band_join_condition.txt.birthyear_none")},t.getJoinOptionByEmailVerification=function(e){return e?IM("bandsetting.band_join_condition.txt.email_verification_enabled"):IM("bandsetting.band_join_condition.txt.email_verification_disabled")}},904:function(e,t,n){var o;void 0===(o=function(e){var t=n(21),o=n(13),i={GET_FEED:"/v2.1.0/get_feed",GET_PUBLIC_FEED:"/v2.1.0/get_public_feed",GET_MISSION_CARDS:"/v1.0.0/get_mission_cards",HIDE_BAND_FROM_FEED:"/v1.0.0/hide_band_from_feed",HIDE_POST_FROM_FEED:"/v2.0.0/hide_post_from_feed",GET_HIDDEN_BANDS_FROM_FEED:"/v1.0.0/get_hidden_bands_from_feed",SHOW_BAND_FROM_FEED:"/v1.0.0/show_band_from_feed",GET_FEED_REGION_BAND_LIST:"/v2.0.0/get_feed_region_band_list"},r={getApiClient:function(){return o.isLogedIn()?t.getLoginV1Client():t.getNoLoginV1Client()},getFeed:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.GET_FEED,data:e})},getPublicFeed:function(e){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+i.GET_PUBLIC_FEED,data:e})},getMissionCards:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.GET_MISSION_CARDS,data:e})},hideBandFromFeed:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.HIDE_BAND_FROM_FEED,data:{band_no:e}})},hidePostFromFeed:function(e,n){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.HIDE_POST_FROM_FEED,data:{band_no:e,post_no:n}})},getHiddenBandsFromFeed:function(){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.GET_HIDDEN_BANDS_FROM_FEED})},showBandFromFeed:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.SHOW_BAND_FROM_FEED,data:e})},getFeedRegionBandList:function(e){return t.getLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+i.GET_FEED_REGION_BAND_LIST,data:{rcode:e}})}};return r.PATHS=i,r}.call(t,n,t,e))||(e.exports=o)}}]);